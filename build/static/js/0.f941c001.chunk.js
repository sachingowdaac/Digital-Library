/*! For license information please see 0.f941c001.chunk.js.LICENSE.txt */
(this["webpackJsonpbooks-library"]=this["webpackJsonpbooks-library"]||[]).push([[0],{38:function(t,e,n){"use strict";var r=n(40);n.d(e,"a",(function(){return r.default}));r.default.registerVersion("firebase","8.2.1","app")},40:function(t,e,n){"use strict";n.r(e),n.d(e,"firebase",(function(){return L}));var r=n(47),i=n(60),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(u){if(i)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[0],c=a[1],h=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService(h);c.resolve(f)}catch(l){}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}();var u,c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var f,l=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(f||(f={}));var p,d={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},v=f.INFO,y=((u={})[f.DEBUG]="log",u[f.VERBOSE]="log",u[f.INFO]="info",u[f.WARN]="warn",u[f.ERROR]="error",u),g=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=y[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,h(["["+i+"]  "+t.name+":"],n))}},m=function(){function t(t){this.name=t,this._logLevel=v,this._logHandler=g,this._userLogHandler=null,l.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in f))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?d[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,f.DEBUG],t)),this._logHandler.apply(this,h([this,f.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,f.VERBOSE],t)),this._logHandler.apply(this,h([this,f.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,f.INFO],t)),this._logHandler.apply(this,h([this,f.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,f.WARN],t)),this._logHandler.apply(this,h([this,f.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,h([this,f.ERROR],t)),this._logHandler.apply(this,h([this,f.ERROR],t))},t}();function b(t){l.forEach((function(e){e.setLogLevel(t)}))}var w,I=((p={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",p["bad-app-name"]="Illegal App name: '{$appName}",p["duplicate-app"]="Firebase App named '{$appName}' already exists",p["app-deleted"]="Firebase App named '{$appName}' already deleted",p["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",p["invalid-log-argument"]="First argument to `onLog` must be null or a function.",p),E=new i.b("app","Firebase",I),T="@firebase/app",_="[DEFAULT]",A=((w={})[T]="fire-core",w["@firebase/analytics"]="fire-analytics",w["@firebase/auth"]="fire-auth",w["@firebase/database"]="fire-rtdb",w["@firebase/functions"]="fire-fn",w["@firebase/installations"]="fire-iid",w["@firebase/messaging"]="fire-fcm",w["@firebase/performance"]="fire-perf",w["@firebase/remote-config"]="fire-rc",w["@firebase/storage"]="fire-gcs",w["@firebase/firestore"]="fire-fst",w["fire-js"]="fire-js",w["firebase-wrapper"]="fire-js-all",w),S=new m("@firebase/app"),N=function(){function t(t,e,n){var s,a,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(i.e)(t),this.container=new c(e.name),this._addComponent(new o("app",(function(){return u}),"PUBLIC"));try{for(var h=Object(r.g)(this.firebase_.INTERNAL.components.values()),f=h.next();!f.done;f=h.next()){var l=f.value;this._addComponent(l)}}catch(p){s={error:p}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=_),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=_),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){S.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw E.create("app-deleted",{appName:this.name_})},t}();N.prototype.name&&N.prototype.options||N.prototype.delete||console.log("dc");function k(t){var e={},n=new Map,s={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!==typeof r||null===r){r={name:r}}var o=r;void 0===o.name&&(o.name=_);var a=o.name;if("string"!==typeof a||!a)throw E.create("bad-app-name",{appName:String(a)});if(Object(i.c)(e,a))throw E.create("duplicate-app",{appName:a});var u=new t(n,o,s);return e[a]=u,u},app:a,registerVersion:function(t,e,n){var r,i=null!==(r=A[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void S.warn(c.join(" "))}u(new o(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:b,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw E.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=d[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:f[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=l;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function a(t){if(t=t||_,!Object(i.c)(e,t))throw E.create("no-app",{appName:t});return e[t]}function u(o){var u,c,h=o.name;if(n.has(h))return S.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===o.type?s[h]:null;if(n.set(h,o),"PUBLIC"===o.type){var f=function(t){if(void 0===t&&(t=a()),"function"!==typeof t[h])throw E.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==o.serviceProps&&Object(i.f)(f,o.serviceProps),s[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,o.multipleInstances?t:[])}}try{for(var l=Object(r.g)(Object.keys(e)),p=l.next();!p.done;p=l.next()){var d=p.value;e[d]._addComponent(o)}}catch(v){u={error:v}}finally{try{p&&!p.done&&(c=l.return)&&c.call(l)}finally{if(u)throw u.error}}return"PUBLIC"===o.type?s[h]:null}return s.default=s,Object.defineProperty(s,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),a.App=t,s}var O=function t(){var e=k(N);return e.INTERNAL=Object(r.a)(Object(r.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(i.f)(e,t)},createSubscribe:i.d,ErrorFactory:i.b,deepExtend:i.f}),e}(),D=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(i.g)()&&void 0!==self.firebase){S.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var P=self.firebase.SDK_VERSION;P&&P.indexOf("LITE")>=0&&S.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var C=O.initializeApp;O.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.h)()&&S.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),C.apply(void 0,t)};var R,x,L=O;(R=L).INTERNAL.registerComponent(new o("platform-logger",(function(t){return new D(t)}),"PRIVATE")),R.registerVersion(T,"0.6.13",x),R.registerVersion("fire-js","");e.default=L},47:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}},48:function(t,e,n){"use strict";n(72)},49:function(t,e,n){(function(t,e){!function(n){"use strict";try{(function(){function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i,o=r(n);function s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function a(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=h[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,s(["["+i+"]  "+t.name+":"],n))}}(Se=i=i||{})[Se.DEBUG=0]="DEBUG",Se[Se.VERBOSE=1]="VERBOSE",Se[Se.INFO=2]="INFO",Se[Se.WARN=3]="WARN",Se[Se.ERROR=4]="ERROR",Se[Se.SILENT=5]="SILENT";var u={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},c=i.INFO,h=((Ne={})[i.DEBUG]="log",Ne[i.VERBOSE]="log",Ne[i.INFO]="info",Ne[i.WARN]="warn",Ne[i.ERROR]="error",Ne),f=(Object.defineProperty(l.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),l.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(l.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),l.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,i.DEBUG],t)),this._logHandler.apply(this,s([this,i.DEBUG],t))},l.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,i.VERBOSE],t)),this._logHandler.apply(this,s([this,i.VERBOSE],t))},l.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,i.INFO],t)),this._logHandler.apply(this,s([this,i.INFO],t))},l.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,i.WARN],t)),this._logHandler.apply(this,s([this,i.WARN],t))},l.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,i.ERROR],t)),this._logHandler.apply(this,s([this,i.ERROR],t))},l);function l(t){this.name=t,this._logLevel=c,this._logHandler=a,this._userLogHandler=null}var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function d(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function v(t,e,n,r){return new(n=n||Promise)((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function y(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var b,w="FirebaseError",I=(d(E,b=Error),E);function E(t,e,n){return(e=b.call(this,e)||this).code=t,e.customData=n,e.name=w,Object.setPrototypeOf(e,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,T.prototype.create),e}var T=(_.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t;return t=(t=this.errors[t])?(r=i,t.replace(A,(function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}))):"Error",t=this.serviceName+": "+t+" ("+o+").",new I(o,t,i)},_);function _(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var A=/\{\$([^}]+)}/g,S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function N(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var k,O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},D={},P=O||self;function C(){}function R(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function x(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var L="closure_uid_"+(1e9*Math.random()>>>0),M=0;function V(t,e,n){return t.call.apply(t.bind,arguments)}function j(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function U(t,e,n){return(U=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V:j).apply(null,arguments)}function F(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function q(){return Date.now()}function H(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,(t.prototype.constructor=t).Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function B(){this.j=this.j,this.i=this.i}B.prototype.j=!1,B.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,L)&&t[L]||(t[L]=++M))},B.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function z(){return Array.prototype.concat.apply([],arguments)}function W(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function J(t){return/^[\s\xa0]*$/.test(t)}var X,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $(t,e){return-1!=t.indexOf(e)}function Q(t,e){return t<e?-1:e<t?1:0}var Z=P.navigator;function tt(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function et(t){var e,n={};for(e in t)n[e]=t[e];return n}X=Z&&(Z=Z.userAgent)?Z:"";var nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<nt.length;i++)e=nt[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function it(t){return it[" "](t),t}it[" "]=C;var ot,st=$(X,"Opera"),at=$(X,"Trident")||$(X,"MSIE"),ut=$(X,"Edge"),ct=ut||at,ht=$(X,"Gecko")&&!($(X.toLowerCase(),"webkit")&&!$(X,"Edge"))&&!($(X,"Trident")||$(X,"MSIE"))&&!$(X,"Edge"),ft=$(X.toLowerCase(),"webkit")&&!$(X,"Edge");function lt(){var t=P.document;return t?t.documentMode:void 0}var pt="",dt=(dt=X,ht?/rv:([^\);]+)(\)|;)/.exec(dt):ut?/Edge\/([\d\.]+)/.exec(dt):at?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(dt):ft?/WebKit\/(\S+)/.exec(dt):st?/(?:Version)[ \/]?(\S+)/.exec(dt):void 0);dt&&(pt=dt?dt[1]:""),ot=at&&null!=(dt=lt())&&dt>parseFloat(pt)?String(dt):pt;var vt={};function yt(t){return e=t,n=function(){for(var e=0,n=Y(String(ot)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Q(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Q(0==s[2].length,0==a[2].length)||Q(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e},r=vt,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n(e);var e,n,r}var gt=P.document&&at&&(lt()||parseInt(ot,10))||void 0,mt=!at||9<=Number(gt),bt=at&&!yt("9"),wt=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{P.addEventListener("test",C,e),P.removeEventListener("test",C,e)}catch(t){}return t}();function It(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Et(t,e){if(It.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ht){t:{try{it(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Tt[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}It.prototype.b=function(){this.defaultPrevented=!0},H(Et,It);var Tt={2:"touch",3:"pen",4:"mouse"};Et.prototype.b=function(){Et.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,bt)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var _t="closure_listenable_"+(1e6*Math.random()|0),At=0;function St(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++At,this.Y=this.Z=!1}function Nt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function kt(t){this.src=t,this.a={},this.b=0}function Ot(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=K(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(Nt(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function Dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}kt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Dt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new St(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Pt="closure_lm_"+(1e6*Math.random()|0),Ct={};function Rt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=qt(r),e&&e[_t]?e.wa(n,r,x(i)?!!i.capture:!!i,o):xt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Rt(t,e[o],n,r,i);return null}return n=qt(n),t&&t[_t]?t.va(e,n,x(r)?!!r.capture:!!r,i):xt(t,e,n,!1,r,i)}function xt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=x(i)?!!i.capture:!!i;if(s&&!mt)return null;var a,u,c=Ut(t);if(c||(t[Pt]=c=new kt(t)),(n=c.add(e,n,r,s,o)).proxy)return n;if(a=jt,r=u=mt?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)wt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Lt(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[_t]?Ot(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ut(e))?(Ot(n,t),0==n.b&&(n.src=null,e[Pt]=null)):Nt(t)))}function Mt(t){return t in Ct?Ct[t]:Ct[t]="on"+t}function Vt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Lt(t),n.call(r,e)}function jt(t,e){if(t.Y)return!0;if(mt)return Vt(t,new Et(e,this));if(!e)t:{e=["window","event"];for(var n=P,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Vt(t,e=new Et(e,this))}function Ut(t){return(t=t[Pt])instanceof kt?t:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function qt(t){return"function"==typeof t?t:(t[Ft]||(t[Ft]=function(e){return t.handleEvent(e)}),t[Ft])}function Ht(){B.call(this),this.c=new kt(this),(this.J=this).C=null}function Bt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e?e=new It(e,t):e instanceof It?e.target=e.target||t:(s=e,rt(e=new It(r,t),s)),s=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.a=n[i],s=Kt(o,r,!0,e)&&s;if(s=Kt(o=e.a=t,r,!0,e)&&s,s=Kt(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)s=Kt(o=e.a=n[i],r,!1,e)&&s}function Kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.Y&&u.capture==n&&(s=u.listener,a=u.ca||u.src,u.Z&&Ot(t.c,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}H(Ht,B),Ht.prototype[_t]=!0,(k=Ht.prototype).addEventListener=function(t,e,n,r){Rt(this,t,e,n,r)},k.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=x(i)?!!i.capture:!!i,r=qt(r),e&&e[_t]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Dt(s=e.a[n],r,i,o))&&(Nt(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&Ut(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Dt(n,r,i,o)),(r=-1<e?n[e]:null)&&Lt(r))}(this,t,e,n,r)},k.G=function(){if(Ht.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Nt(n[r]);delete e.a[t],e.b--}}this.C=null},k.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},k.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Gt=P.JSON.stringify;function zt(){this.b=this.a=null}var Wt,Jt=(Xt.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new Xt((function(){return new Yt}),(function(t){t.reset()})));function Xt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Yt(){this.next=this.b=this.a=null}function $t(t,e){var n;Wt||(n=P.Promise.resolve(void 0),Wt=function(){n.then(te)}),Qt||(Wt(),Qt=!0),Zt.add(t,e)}zt.prototype.add=function(t,e){var n=Jt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Yt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Qt=!(Yt.prototype.reset=function(){this.next=this.b=this.a=null}),Zt=new zt;function te(){for(var t,e;n=e=void 0,n=null,(e=Zt).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){P.setTimeout((function(){throw t}),0)}(t)}var n=Jt;n.f(t),n.b<100&&(n.b++,t.next=n.a,n.a=t)}Qt=!1}function ee(t,e){Ht.call(this),this.b=t||1,this.a=e||P,this.f=U(this.Za,this),this.g=q()}function ne(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function re(t,e,n){if("function"==typeof t)n&&(t=U(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=U(t.handleEvent,t)}return 2147483647<Number(e)?-1:P.setTimeout(t,e||0)}H(ee,Ht),(k=ee.prototype).aa=!1,k.M=null,k.Za=function(){var t;this.aa&&(0<(t=q()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Bt(this,"tick"),this.aa&&(ne(this),this.start())))},k.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=q())},k.G=function(){ee.X.G.call(this),ne(this),delete this.a};var ie,oe,se,ae=(S(oe=ce,se=ie=B),oe.prototype=null===se?Object.create(se):(ue.prototype=se.prototype,new ue),ce.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=re((function(){e.a=null,e.c&&(e.c=!1,t(e))}),e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},ce.prototype.G=function(){ie.prototype.G.call(this),this.a&&(P.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},ce);function ue(){this.constructor=oe}function ce(t,e){var n=ie.call(this)||this;return n.g=t,n.h=e,n.b=null,n.c=!1,n.a=null,n}function he(t){B.call(this),this.b=t,this.a={}}H(he,B);var fe=[];function le(t,e,n,r){Array.isArray(n)||(n&&(fe[0]=n.toString()),n=fe);for(var i=0;i<n.length;i++){var o=Rt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function pe(t){tt(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Lt(t)}),t),t.a={}}function de(){this.a=!0}function ve(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return Gt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}he.prototype.G=function(){he.X.G.call(this),pe(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},de.prototype.info=function(){};var ye={},ge=null;function me(){return ge=ge||new Ht}function be(t){It.call(this,ye.Fa,t)}function we(t){var e=me();Bt(e,new be(e))}function Ie(t,e){It.call(this,ye.STAT_EVENT,t),this.stat=e}function Ee(t){var e=me();Bt(e,new Ie(e,t))}function Te(t){It.call(this,ye.Ga,t)}function _e(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return P.setTimeout((function(){t()}),e)}ye.Fa="serverreachability",H(be,It),ye.STAT_EVENT="statevent",H(Ie,It),ye.Ga="timingevent",H(Te,It);var Ae,Se={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ne={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ke(){}function Oe(t){var e;return(e=t.a)||(e=t.a={}),e}function De(){}function Pe(){It.call(this,"d")}function Ce(){It.call(this,"c")}function Re(){}function xe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new he(this),this.P=Le,t=ct?125:void 0,this.R=new ee(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ke.prototype.a=null,O={OPEN:"a",eb:"b",Ea:"c",qb:"d"},H(Pe,It),H(Ce,It),H(Re,ke),Ae=new Re;var Le=45e3,Me={},Ve={};function je(t,e,n){t.H=1,t.i=sn(Ze(e)),t.j=n,t.I=!0,Ue(t,null)}function Ue(t,e){t.u=q(),qe(t),t.l=Ze(t.i);var n,r,i,o,s,a,u=t.l,c=t.S;Array.isArray(c)||(c=[String(c)]),bn(u.b,"t",c),t.D=0,t.a=lr(t.g,t.g.C?e:null),0<t.O&&(t.F=new ae(U(t.Ca,t,t.a),t.O)),le(t.J,t.a,"readystatechange",t.Xa),e=t.B?et(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),we(1),n=t.c,r=t.m,i=t.l,o=t.f,s=t.S,a=t.j,n.info((function(){if(n.a)if(a)for(var t="",e=a.split("&"),u=0;u<e.length;u++){var c,h,f=e[u].split("=");1<f.length&&(c=f[0],f=f[1],t=2<=(h=c.split("_")).length&&"type"==h[1]?t+(c+"=")+f+"&":t+(c+"=redacted&"))}else t=null;else t=a;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+r+"\n"+i+"\n"+t}))}function Fe(t,e,n){for(var r,i,o,s=!0;!t.A&&t.D<n.length;){var a=(a=n,o=i=void 0,i=(r=t).D,-1==(o=a.indexOf("\n",i))?Ve:(i=Number(a.substring(i,o)),isNaN(i)?Me:(o+=1)+i>a.length?Ve:(a=a.substr(o,i),r.D=o+i,a)));if(a==Ve){4==e&&(t.h=4,Ee(14),s=!1),ve(t.c,t.f,null,"[Incomplete Response]");break}if(a==Me){t.h=4,Ee(15),ve(t.c,t.f,n,"[Invalid Chunk]"),s=!1;break}ve(t.c,t.f,a,null),ze(t,a)}4==e&&0==n.length&&(t.h=1,Ee(16),s=!1),t.b=t.b&&s,s?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ir(e),e.F=!0,Ee(11))):(ve(t.c,t.f,n,"[Invalid Chunked Response]"),Ge(t),Ke(t))}function qe(t){t.T=q()+t.P,He(t,t.P)}function He(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=_e(U(t.Va,t),e)}function Be(t){t.o&&(P.clearTimeout(t.o),t.o=null)}function Ke(t){0==t.g.v||t.A||ar(t.g,t)}function Ge(t){Be(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ne(t.R),pe(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ze(t,e){try{var n,r,i,o,s,a=t.g;if(0!=a.v&&(a.a==t||Sn(a.b,t)))if(a.I=t.N,!t.C&&Sn(a.b,t)&&3==a.v){try{var u=a.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!a.j){if(a.a){if(!(a.a.u+3e3<t.u))break t;sr(a),Xn(a)}rr(a),Ee(18)}}else a.oa=c[1],0<a.oa-a.P&&c[2]<37500&&a.H&&0==a.o&&!a.m&&(a.m=_e(U(a.Sa,a),6e3));if(An(a.b)<=1&&a.ea){try{a.ea()}catch(t){}a.ea=void 0}}else cr(a,11)}else if(!t.C&&a.a!=t||sr(a),!J(e))for(e=u=a.ka.a.parse(e),u=0;u<e.length;u++)c=e[u],a.P=c[0],c=c[1],2==a.v?"c"==c[0]?(a.J=c[1],a.ga=c[2],null!=(r=c[3])&&(a.ha=r,a.c.info("VER="+a.ha)),null!=(o=c[4])&&(a.pa=o,a.c.info("SVER="+a.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,a.D=n,a.c.info("backChannelRequestTimeoutMs_="+n)),n=a,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&($(r,"spdy")||$(r,"quic")||$(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(Nn(i,i.b),i.b=null)),!n.A||(s=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=s,on(n.B,n.A,s))),a.v=3,a.f&&a.f.ta(),a.U&&(a.N=q()-t.u,a.c.info("Handshake RTT: "+a.N+"ms")),i=t,(n=a).la=fr(n,n.C?n.ga:null,n.fa),i.C?(kn(n.b,i),o=i,(s=n.D)&&o.setTimeout(s),o.o&&(Be(o),qe(o)),n.a=i):nr(n),0<a.g.length&&Qn(a)):"stop"!=c[0]&&"close"!=c[0]||cr(a,7):3==a.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cr(a,7):Jn(a):"noop"!=c[0]&&a.f&&a.f.sa(c),a.o=0);we(4)}catch(t){}}function We(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(R(t)||"string"==typeof t)G(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(R(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(R(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Je(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Je)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ye(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ye(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Ye(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(k=xe.prototype).setTimeout=function(t){this.P=t},k.Xa=function(t){t=t.target;var e=this.F;e&&3==Kn(t)?e.f():this.Ca(t)},k.Ca=function(t){try{if(t==this.a)t:{var e=Kn(this.a),n=this.a.ua(),r=this.a.W();if(!(e<3||3==e&&!ct&&!this.a.$())){this.A||4!=e||7==n||we(8==n||r<=0?3:2),Be(this);var i=this.a.W();if(this.N=i,n=this.a.$(),this.b=200==i,r=this.c,a=this.m,u=this.l,c=this.f,h=this.S,f=e,l=i,r.info((function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+a+"\n"+u+"\n"+f+" "+l})),this.b){if(this.U&&!this.C){e:{if(this.a){var o=this.a;if((o=o.a?o.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(o)){var s=o;break e}}s=null}if(!s){this.b=!1,this.h=3,Ee(12),Ge(this),Ke(this);break t}ve(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ze(this,s)}this.I?(Fe(this,e,n),ct&&this.b&&3==e&&(le(this.J,this.R,"tick",this.Wa),this.R.start())):(ve(this.c,this.f,n,null),ze(this,n)),4==e&&Ge(this),this.b&&!this.A&&(4==e?ar(this.g,this):(this.b=!1,qe(this)))}else 400==i&&0<n.indexOf("Unknown SID")?(this.h=3,Ee(12)):(this.h=0,Ee(13)),Ge(this),Ke(this)}}}catch(t){}var a,u,c,h,f,l},k.Wa=function(){var t,e;this.a&&(t=Kn(this.a),e=this.a.$(),this.D<e.length&&(Be(this),Fe(this,t,e),this.b&&4!=t&&qe(this)))},k.cancel=function(){this.A=!0,Ge(this)},k.Va=function(){this.o=null;var t,e,n=q();0<=n-this.T?(t=this.c,e=this.l,t.info((function(){return"TIMEOUT: "+e})),2!=this.H&&(we(3),Ee(17)),Ge(this),this.h=2,Ke(this)):He(this,this.T-n)},(k=Je.prototype).K=function(){Xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},k.L=function(){return Xe(this),this.a.concat()},k.get=function(t,e){return Ye(this.b,t)?this.b[t]:e},k.set=function(t,e){Ye(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},k.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var $e=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qe(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Qe?(this.a=void 0!==e?e:t.a,tn(this,t.f),this.j=t.j,en(this,t.c),nn(this,t.h),this.g=t.g,e=t.b,(n=new vn).c=e.c,e.a&&(n.a=new Je(e.a),n.b=e.b),rn(this,n),this.i=t.i):t&&(n=String(t).match($e))?(this.a=!!e,tn(this,n[1]||"",!0),this.j=an(n[2]||""),en(this,n[3]||"",!0),nn(this,n[4]),this.g=an(n[5]||"",!0),rn(this,n[6]||"",!0),this.i=an(n[7]||"")):(this.a=!!e,this.b=new vn(null,this.a))}function Ze(t){return new Qe(t)}function tn(t,e,n){t.f=n?an(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function en(t,e,n){t.c=n?an(e,!0):e}function nn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function rn(t,e,n){var r,i;e instanceof vn?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(yn(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(gn(this,e),bn(this,n,t))}),r)),r.f=i):(n||(e=un(e,pn)),t.b=new vn(e,t.a))}function on(t,e,n){t.b.set(e,n)}function sn(t){return on(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^q()).toString(36)),t}function an(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,cn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Qe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(un(e,hn,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(un(e,hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(un(n,"/"==n.charAt(0)?ln:fn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",un(n,dn)),t.join("")};var hn=/[#\/\?@]/g,fn=/[#\?:]/g,ln=/[#\?]/g,pn=/[#\?@]/g,dn=/#/g;function vn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function yn(t){t.a||(t.a=new Je,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function gn(t,e){yn(t),e=wn(t,e),Ye(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ye((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Xe(t)))}function mn(t,e){return yn(t),e=wn(t,e),Ye(t.a.b,e)}function bn(t,e,n){gn(t,e),0<n.length&&(t.c=null,t.a.set(wn(t,e),W(n)),t.b+=n.length)}function wn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(k=vn.prototype).add=function(t,e){yn(this),this.c=null,t=wn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},k.forEach=function(t,e){yn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},k.L=function(){yn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},k.K=function(t){yn(this);var e=[];if("string"==typeof t)mn(this,t)&&(e=z(e,this.a.get(wn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},k.set=function(t,e){return yn(this),this.c=null,mn(this,t=wn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},k.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},k.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};var In=function(t,e){this.b=t,this.a=e};function En(t){this.g=t||Tn,t=P.PerformanceNavigationTiming?0<(t=P.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(P.ia&&P.ia.ya&&P.ia.ya()&&P.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Tn=10;function _n(t){return t.b||t.a&&t.a.size>=t.f}function An(t){return t.b?1:t.a?t.a.size:0}function Sn(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function Nn(t,e){t.a?t.a.add(e):t.b=e}function kn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function On(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return W(t.c);var r=t.c;try{for(var i=N(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Dn(){}function Pn(){this.a=new Dn}function Cn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}En.prototype.cancel=function(){var t,e;if(this.c=On(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=N(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Dn.prototype.stringify=function(t){return P.JSON.stringify(t,void 0)},Dn.prototype.parse=function(t){return P.JSON.parse(t,void 0)};var Rn=P.JSON.parse;function xn(t){Ht.call(this),this.headers=new Je,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ln,this.D=this.F=!1}H(xn,Ht);var Ln="",Mn=/^https?$/i,Vn=["POST","PUT"];function jn(t){return"content-type"==t.toLowerCase()}function Un(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Fn(t),Hn(t)}function Fn(t){t.u||(t.u=!0,Bt(t,"complete"),Bt(t,"error"))}function qn(t){if(t.b&&void 0!==D&&(!t.s[1]||4!=Kn(t)||2!=t.W()))if(t.l&&4==Kn(t))re(t.za,0,t);else if(Bt(t,"readystatechange"),4==Kn(t)){t.b=!1;try{var e,n,r,i,o=t.W();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}if((e=s)||((n=0===o)&&(!(i=String(t.B).match($e)[1]||null)&&P.self&&P.self.location&&(i=(r=P.self.location.protocol).substr(0,r.length-1)),n=!Mn.test(i?i.toLowerCase():"")),e=n),e)Bt(t,"complete"),Bt(t,"success");else{t.h=6;try{var a=2<Kn(t)?t.a.statusText:""}catch(o){a=""}t.f=a+" ["+t.W()+"]",Fn(t)}}finally{Hn(t)}}}function Hn(t,e){if(t.a){Bn(t);var n=t.a,r=t.s[0]?C:null;t.a=null,t.s=null,e||Bt(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Bn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(P.clearTimeout(t.m),t.m=null)}function Kn(t){return t.a?t.a.readyState:0}function Gn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",tt(n,(function(t,e){i+=e,i+=":",i+=t,i+="\r\n"})),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):on(t,e,n))}function zn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wn(t){this.pa=0,this.g=[],this.c=new de,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=zn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=zn("baseRetryDelayMs",5e3,t),this.Ra=zn("retryDelaySeedMs",1e4,t),this.Ma=zn("forwardChannelMaxRetries",2,t),this.ma=zn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new En(t&&t.concurrentRequestLimit),this.ka=new Pn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Jn(t){var e,n;Yn(t),3==t.v&&(e=t.R++,on(n=Ze(t.B),"SID",t.J),on(n,"RID",e),on(n,"TYPE","terminate"),tr(t,n),(e=new xe(t,t.c,e,void 0)).H=2,e.i=sn(Ze(n)),n=!1,P.navigator&&P.navigator.sendBeacon&&(n=P.navigator.sendBeacon(e.i.toString(),"")),!n&&P.Image&&((new Image).src=e.i,n=!0),n||(e.a=lr(e.g,null),e.a.ba(e.i)),e.u=q(),qe(e)),hr(t)}function Xn(t){t.a&&(ir(t),t.a.cancel(),t.a=null)}function Yn(t){Xn(t),t.j&&(P.clearTimeout(t.j),t.j=null),sr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&P.clearTimeout(t.h),t.h=null)}function $n(t,e){t.g.push(new In(t.Oa++,e)),3==t.v&&Qn(t)}function Qn(t){_n(t.b)||t.h||(t.h=!0,$t(t.Ba,t),t.u=0)}function Zn(t,e){var n=e?e.f:t.R++,r=Ze(t.B);on(r,"SID",t.J),on(r,"RID",n),on(r,"AID",t.P),tr(t,r),t.i&&t.l&&Gn(r,t.i,t.l),n=new xe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=er(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Nn(t.b,n),je(n,r,e)}function tr(t,e){t.f&&We({},(function(t,n){on(e,n,t)}))}function er(t,e,n){n=Math.min(t.g.length,n);var r=t.f?U(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,e,n){var r=n||"";try{We(t,(function(t,n){var i=t;x(t)&&(i=Gt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function nr(t){t.a||t.j||(t.T=1,$t(t.Aa,t),t.o=0)}function rr(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=_e(U(t.Aa,t),ur(t,t.o)),t.o++,1)}function ir(t){null!=t.s&&(P.clearTimeout(t.s),t.s=null)}function or(t){t.a=new xe(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ze(t.la);on(e,"RID","rpc"),on(e,"SID",t.J),on(e,"CI",t.H?"0":"1"),on(e,"AID",t.P),tr(t,e),on(e,"TYPE","xmlhttp"),t.i&&t.l&&Gn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=sn(Ze(e)),n.j=null,n.I=!0,Ue(n,t)}function sr(t){null!=t.m&&(P.clearTimeout(t.m),t.m=null)}function ar(t,e){var n,r=null;if(t.a==e){sr(t),ir(t),t.a=null;var i=2}else{if(!Sn(t.b,e))return;r=e.s,kn(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)1==i?(r=e.j?e.j.length:0,e=q()-e.u,n=t.u,Bt(i=me(),new Te(i)),Qn(t)):nr(t);else if(3==(n=e.h)||0==n&&0<t.I||!(1==i&&function(t,e){if(!(An(t.b)>=t.b.f-(t.h?1:0))){if(t.h)return t.g=e.s.concat(t.g),1;if(!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)))return t.h=_e(U(t.Ba,t,e),ur(t,t.u)),t.u++,1}}(t,e)||2==i&&rr(t)))switch(r&&0<r.length&&(e=t.b,e.c=e.c.concat(r)),n){case 1:cr(t,5);break;case 4:cr(t,10);break;case 3:cr(t,6);break;default:cr(t,2)}}function ur(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function cr(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(r=null,t.f&&(r=null),o=U(t.Ya,t),r||(r=new Qe("//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||tn(r,"https"),sn(r)),n=r.toString(),r=o,o=new de,P.Image?((i=new Image).onload=F(Cn,o,i,"TestLoadImage: loaded",!0,r),i.onerror=F(Cn,o,i,"TestLoadImage: error",!1,r),i.onabort=F(Cn,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=F(Cn,o,i,"TestLoadImage: timeout",!1,r),P.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):Ee(2),t.v=0,t.f&&t.f.ra(e),hr(t),Yn(t)}function hr(t){t.v=0,t.I=-1,t.f&&(0==On(t.b).length&&0==t.g.length||(t.b.c.length=0,W(t.g),t.g.length=0),t.f.qa())}function fr(t,e,n){var r,i,o,s,a,u=(s=n)instanceof Qe?Ze(s):new Qe(s,void 0);return""!=u.c?(e&&en(u,e+"."+u.c),nn(u,u.h)):(r=(a=P.location).protocol,i=e?e+"."+a.hostname:a.hostname,o=+a.port,s=n,a=new Qe(null,void 0),r&&tn(a,r),i&&en(a,i),o&&nn(a,o),s&&(a.g=s),u=a),t.V&&tt(t.V,(function(t,e){on(u,e,t)})),e=t.A,n=t.na,e&&n&&on(u,e,n),on(u,"VER",t.ha),tr(t,u),u}function lr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xn(t.Na)).F=t.C,e}function pr(){}function dr(){if(at&&!(10<=Number(gt)))throw Error("Environmental error: no available transport.")}function vr(t,e){Ht.call(this),this.a=new Wn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!J(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!J(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new mr(this)}function yr(t){Pe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function gr(){Ce.call(this),this.status=1}function mr(t){this.a=t}(k=xn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Oe(this.H):Oe(Ae),this.a.onreadystatechange=U(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Un(this,t)}t=n||"";var i,o=new Je(this.headers);r&&We(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=jn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=P.FormData&&t instanceof P.FormData,0<=K(Vn,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Bn(this),0<this.o&&((this.D=(i=this.a,at&&yt(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=U(this.xa,this)):this.m=re(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Un(this,t)}},k.xa=function(){void 0!==D&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Bt(this,"timeout"),this.abort(8))},k.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Bt(this,"complete"),Bt(this,"abort"),Hn(this))},k.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Hn(this,!0)),xn.X.G.call(this)},k.za=function(){this.j||(this.A||this.l||this.g?qn(this):this.Ua())},k.Ua=function(){qn(this)},k.W=function(){try{return 2<Kn(this)?this.a.status:-1}catch(r){return-1}},k.$=function(){try{return this.a?this.a.responseText:""}catch(r){return""}},k.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Rn(e)}},k.ua=function(){return this.h},k.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(k=Wn.prototype).ha=8,k.v=1,k.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new xe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?rt(r=et(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=er(this,n,e),on(i=Ze(this.B),"RID",t),on(i,"CVER",22),this.A&&on(i,"X-HTTP-Session-Id",this.A),tr(this,i),this.i&&r&&Gn(i,this.i,r),Nn(this.b,n),this.Ia&&on(i,"TYPE","init"),this.da?(on(i,"$req",e),on(i,"SID","null"),n.U=!0,je(n,i,null)):je(n,i,e),this.v=2}}else 3==this.v&&(t?Zn(this,t):0==this.g.length||_n(this.b)||Zn(this))},k.Aa=function(){var t;this.j=null,or(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=_e(U(this.Ta,this),t))},k.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ee(10),Xn(this),or(this))},k.Sa=function(){null!=this.m&&(this.m=null,Xn(this),rr(this),Ee(19))},k.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ee(2)):(this.c.info("Failed to ping google.com"),Ee(1))},(k=pr.prototype).ta=function(){},k.sa=function(){},k.ra=function(){},k.qa=function(){},k.Ja=function(){},dr.prototype.a=function(t,e){return new vr(t,e)},H(vr,Ht),vr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ee(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=fr(t,null,t.fa),Qn(t)},vr.prototype.close=function(){Jn(this.a)},vr.prototype.h=function(t){var e;"string"==typeof t?((e={}).__data__=t,$n(this.a,e)):this.l?((e={}).__data__=Gt(t),$n(this.a,e)):$n(this.a,t)},vr.prototype.G=function(){this.a.f=null,delete this.f,Jn(this.a),delete this.a,vr.X.G.call(this)},H(yr,Pe),H(gr,Ce),H(mr,pr),mr.prototype.ta=function(){Bt(this.a,"a")},mr.prototype.sa=function(t){Bt(this.a,new yr(t))},mr.prototype.ra=function(t){Bt(this.a,new gr)},mr.prototype.qa=function(){Bt(this.a,"b")},dr.prototype.createWebChannel=dr.prototype.a,vr.prototype.send=vr.prototype.h,vr.prototype.open=vr.prototype.g,Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Ne.COMPLETE="complete",(De.EventType=O).OPEN="a",O.CLOSE="b",O.ERROR="c",O.MESSAGE="d",Ht.prototype.listen=Ht.prototype.va,xn.prototype.listenOnce=xn.prototype.wa,xn.prototype.getLastError=xn.prototype.Qa,xn.prototype.getLastErrorCode=xn.prototype.ua,xn.prototype.getStatus=xn.prototype.W,xn.prototype.getResponseJson=xn.prototype.Pa,xn.prototype.getResponseText=xn.prototype.$,xn.prototype.send=xn.prototype.ba;var br=me,wr=Se,Ir=Ne,Er=ye,Tr=10,_r=11,Ar=De,Sr=xn,Nr=new f("@firebase/firestore");function kr(){return Nr.logLevel}function Or(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Nr.logLevel<=i.DEBUG&&(e=n.map(Cr),Nr.debug.apply(Nr,g(["Firestore (8.2.1): "+t],e)))}function Dr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Nr.logLevel<=i.ERROR&&(e=n.map(Cr),Nr.error.apply(Nr,g(["Firestore (8.2.1): "+t],e)))}function Pr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Nr.logLevel<=i.WARN&&(e=n.map(Cr),Nr.warn.apply(Nr,g(["Firestore (8.2.1): "+t],e)))}function Cr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(r){return t}}function Rr(t){throw void 0===t&&(t="Unexpected state"),Dr(t="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t),new Error(t)}function xr(t){t||Rr()}var Lr=(Mr.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Mr);function Mr(){}function Vr(t,e){return t<e?-1:e<t?1:0}function jr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ur(t){return t+"\0"}var Fr=(qr.fromBase64String=function(t){return new qr(atob(t))},qr.fromUint8Array=function(t){return new qr(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},qr.prototype.toBase64=function(){return t=this.i,btoa(t);var t},qr.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},qr.prototype.o=function(){return 2*this.i.length},qr.prototype.u=function(t){return Vr(this.i,t.i)},qr.prototype.isEqual=function(t){return this.i===t.i},qr);function qr(t){this.i=t}Fr.h=new Fr("");var Hr,Br={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Kr=(d(Jr,Hr=Error),Jr),Gr=(Wr.fromBase64String=function(t){try{return new Wr(Fr.fromBase64String(t))}catch(t){throw new Kr(Br.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},Wr.fromUint8Array=function(t){return new Wr(Fr.fromUint8Array(t))},Wr.prototype.toBase64=function(){return this.l.toBase64()},Wr.prototype.toUint8Array=function(){return this.l.toUint8Array()},Wr.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},Wr.prototype.isEqual=function(t){return this.l.isEqual(t.l)},Wr),zr=function(t){this._=t};function Wr(t){this.l=t}function Jr(t,e){var n=this;return(n=Hr.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Xr(){if("undefined"==typeof Uint8Array)throw new Kr(Br.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Yr(){if("undefined"==typeof atob)throw new Kr(Br.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var $r,Qr=(d(ii,$r=zr),ii.fromBase64String=function(t){return Yr(),new ii(Gr.fromBase64String(t))},ii.fromUint8Array=function(t){return Xr(),new ii(Gr.fromUint8Array(t))},ii.prototype.toBase64=function(){return Yr(),this._.toBase64()},ii.prototype.toUint8Array=function(){return Xr(),this._.toUint8Array()},ii.prototype.isEqual=function(t){return this._.isEqual(t._)},ii.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},ii),Zr=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},ti=(Object.defineProperty(ri.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),ri.prototype.isEqual=function(t){return t instanceof ri&&t.projectId===this.projectId&&t.database===this.database},ri),ei=(ni.prototype.A=function(){return null!=this.uid},ni.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},ni.prototype.isEqual=function(t){return t.uid===this.uid},ni);function ni(t){this.uid=t}function ri(t,e){this.projectId=t,this.database=e||"(default)"}function ii(){return null!==$r&&$r.apply(this,arguments)||this}function oi(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t}ei.UNAUTHENTICATED=new ei(null),ei.P=new ei("google-credentials-uid"),ei.g=new ei("first-party-uid");var si=(vi.prototype.getToken=function(){return Promise.resolve(null)},vi.prototype.v=function(){},vi.prototype.S=function(t){(this.p=t)(ei.UNAUTHENTICATED)},vi.prototype.D=function(){this.p=null},vi),ai=(di.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(Or("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xr("string"==typeof n.accessToken),new oi(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},di.prototype.v=function(){this.forceRefresh=!0},di.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},di.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},di.prototype.O=function(){var t=this.auth&&this.auth.getUid();return xr(null===t||"string"==typeof t),new ei(t)},di),ui=(Object.defineProperty(pi.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),pi),ci=(li.prototype.getToken=function(){return Promise.resolve(new ui(this.k,this.M))},li.prototype.S=function(t){t(ei.g)},li.prototype.D=function(){},li.prototype.v=function(){},li),hi=(fi.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},fi.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},fi);function fi(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}function li(t,e){this.k=t,this.M=e}function pi(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=ei.g}function di(t){var e=this;this.C=null,this.currentUser=ei.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}function vi(){this.p=null}hi.U=-1;var yi,gi,mi=(Oi.now=function(){return Oi.fromMillis(Date.now())},Oi.fromDate=function(t){return Oi.fromMillis(t.getTime())},Oi.fromMillis=function(t){var e=Math.floor(t/1e3);return new Oi(e,1e6*(t-1e3*e))},Oi.prototype.toDate=function(){return new Date(this.toMillis())},Oi.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Oi.prototype.K=function(t){return this.seconds===t.seconds?Vr(this.nanoseconds,t.nanoseconds):Vr(this.seconds,t.seconds)},Oi.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Oi.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Oi.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Oi.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Oi),bi=(ki.W=function(t){return new ki(t)},ki.min=function(){return new ki(new mi(0,0))},ki.prototype.u=function(t){return this.timestamp.K(t.timestamp)},ki.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},ki.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},ki.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},ki.prototype.G=function(){return this.timestamp},ki),wi=(Object.defineProperty(Ni.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),Ni.prototype.isEqual=function(t){return 0===Ni.J(this,t)},Ni.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((function(t){e.push(t)})):e.push(t),this.Y(e)},Ni.prototype.limit=function(){return this.offset+this.length},Ni.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},Ni.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},Ni.prototype.tt=function(){return this.segments[this.offset]},Ni.prototype.et=function(){return this.get(this.length-1)},Ni.prototype.get=function(t){return this.segments[this.offset+t]},Ni.prototype.nt=function(){return 0===this.length},Ni.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Ni.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Ni.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},Ni.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},Ni.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},d(Si,gi=Ne=Ni),Si.prototype.Y=function(t,e,n){return new Si(t,e,n)},Si.prototype.ot=function(){return this.rt().join("/")},Si.prototype.toString=function(){return this.ot()},Si.ct=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new Kr(Br.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(t){return 0<t.length})))}return new Si(n)},Si.at=function(){return new Si([])},Si),Ii=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ei=(d(Ai,yi=Ne),Ai.prototype.Y=function(t,e,n){return new Ai(t,e,n)},Ai.ut=function(t){return Ii.test(t)},Ai.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.ut(t)||(t="`"+t+"`"),t})).join(".")},Ai.prototype.toString=function(){return this.ot()},Ai.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},Ai.lt=function(){return new Ai(["__name__"])},Ai._t=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Kr(Br.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new Kr(Br.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Kr(Br.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new Kr(Br.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(e)},Ai.at=function(){return new Ai([])},Ai),Ti=(_i.ft=function(t){return new _i(wi.ct(t))},_i.dt=function(t){return new _i(wi.ct(t).X(5))},_i.prototype.wt=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},_i.prototype.isEqual=function(t){return null!==t&&0===wi.J(this.path,t.path)},_i.prototype.toString=function(){return this.path.toString()},_i.J=function(t,e){return wi.J(t.path,e.path)},_i.Et=function(t){return t.length%2==0},_i.Tt=function(t){return new _i(new wi(t.slice()))},_i);function _i(t){this.path=t}function Ai(){return null!==yi&&yi.apply(this,arguments)||this}function Si(){return null!==gi&&gi.apply(this,arguments)||this}function Ni(t,e,n){void 0===e?e=0:e>t.length&&Rr(),void 0===n?n=t.length-e:n>t.length-e&&Rr(),this.segments=t,this.offset=e,this.H=n}function ki(t){this.timestamp=t}function Oi(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Kr(Br.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Kr(Br.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Kr(Br.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Kr(Br.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function Di(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Pi(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ci(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ri=(Li.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},Li.prototype.isEqual=function(t){return jr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},Li),xi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){(this.fields=t).sort(Ei.J)}function Mi(t){if(xr(!!t),"string"!=typeof t)return{seconds:Vi(t.seconds),nanos:Vi(t.nanos)};var e=0,n=xi.exec(t);return xr(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n)),t=new Date(t),{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function Vi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ji(t){return"string"==typeof t?Fr.fromBase64String(t):Fr.fromUint8Array(t)}function Ui(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fi(t){return t=Mi(t.mapValue.fields.__local_write_time__.timestampValue),new mi(t.seconds,t.nanos)}function qi(t){return null==t}function Hi(t){return 0===t&&1/t==-1/0}function Bi(t){return"number"==typeof t&&Number.isInteger(t)&&!Hi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ui(t)?4:10:Rr()}function Gi(t,e){var n,r=Ki(t);if(r!==Ki(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fi(t).isEqual(Fi(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Mi(t.timestampValue);return e=Mi(e.timestampValue),n.seconds===e.seconds&&n.nanos===e.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,ji(t.bytesValue).isEqual(ji(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return r=e,Vi((n=t).geoPointValue.latitude)===Vi(r.geoPointValue.latitude)&&Vi(n.geoPointValue.longitude)===Vi(r.geoPointValue.longitude);case 2:return function(t,e){return"integerValue"in t&&"integerValue"in e?Vi(t.integerValue)===Vi(e.integerValue):"doubleValue"in t&&"doubleValue"in e&&((t=Vi(t.doubleValue))===(e=Vi(e.doubleValue))?Hi(t)===Hi(e):isNaN(t)&&isNaN(e))}(t,e);case 9:return jr(t.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Di(r)!==Di(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!Gi(r[n],i[n])))return!1;return!0}();default:return Rr()}}function zi(t,e){return void 0!==(t.values||[]).find((function(t){return Gi(t,e)}))}function Wi(t,e){var n,r,i=Ki(t),o=Ki(e);if(i!==o)return Vr(i,o);switch(i){case 0:return 0;case 1:return Vr(t.booleanValue,e.booleanValue);case 2:return n=e,(r=Vi(t.integerValue||t.doubleValue))<(n=Vi(n.integerValue||n.doubleValue))?-1:n<r?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1;case 3:return Ji(t.timestampValue,e.timestampValue);case 4:return Ji(Fi(t),Fi(e));case 5:return Vr(t.stringValue,e.stringValue);case 6:return function(t,e){return t=ji(t),e=ji(e),t.u(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Vr(n[i],r[i]);if(0!==o)return o}return Vr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return i=t.geoPointValue,r=e.geoPointValue,0!==(n=Vr(Vi(i.latitude),Vi(r.latitude)))?n:Vr(Vi(i.longitude),Vi(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Wi(n[i],r[i]);if(o)return o}return Vr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Vr(r[s],o[s]);if(0!==a)return a;if(0!==(a=Wi(n[r[s]],i[o[s]])))return a}return Vr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Rr()}}function Ji(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Vr(t,e);var n=Mi(t);return t=Mi(e),0!==(e=Vr(n.seconds,t.seconds))?e:Vr(n.nanos,t.nanos)}function Xi(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){return"time("+(t=Mi(t)).seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ji(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ti.dt(n).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Rr();var n}(t)}function Yi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function $i(t){return t&&"integerValue"in t}function Qi(t){return!!t&&"arrayValue"in t}function Zi(t){return t&&"nullValue"in t}function to(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eo(t){return t&&"mapValue"in t}var no=(oo.empty=function(){return new oo({mapValue:{}})},oo.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!eo(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},oo.prototype.isEqual=function(t){return Gi(this.proto,t.proto)},oo),ro=(io.prototype.set=function(t,e){return this.Pt(t,e),this},io.prototype.delete=function(t){return this.Pt(t,null),this},io.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===Ki(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t.et(),e)},io.prototype.yt=function(){var t=this.gt(Ei.at(),this.Rt);return null!=t?new no(t):this.At},io.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=eo(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){var s;e instanceof Map?null!=(s=n.gt(t.child(i),e))&&(o[i]=s,r=!0):null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},io);function io(t){void 0===t&&(t=no.empty()),this.At=t,this.Rt=new Map}function oo(t){this.proto=t}var so,ao,uo,co=(d(yo,uo=f=function(t,e){this.key=t,this.version=e}),yo.prototype.field=function(t){return this.Vt.field(t)},yo.prototype.data=function(){return this.Vt},yo.prototype.vt=function(){return this.Vt.proto},yo.prototype.isEqual=function(t){return t instanceof yo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},yo.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(yo.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),yo),ho=(d(vo,ao=f),vo.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(vo.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),vo.prototype.isEqual=function(t){return t instanceof vo&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},vo),fo=(d(po,so=f),po.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(po.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),po.prototype.isEqual=function(t){return t instanceof po&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},po),lo=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function po(){return null!==so&&so.apply(this,arguments)||this}function vo(t,e,n){var r=this;return(r=ao.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function yo(t,e,n,r){var i=this;return(i=uo.call(this,t,e)||this).Vt=n,i.bt=!!r.bt,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function go(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new lo(t,e,n,r,i,o,s)}function mo(t){var e=t;return null===e.St&&(t=e.path.ot(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((function(t){return(t=t).field.ot()+t.op.toString()+Xi(t.value)})).join(","),t+="|ob:",t+=e.orderBy.map((function(t){return(t=t).field.ot()+t.dir})).join(","),qi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Wo(e.startAt)),e.endAt&&(t+="|ub:",t+=Wo(e.endAt)),e.St=t),e.St}function bo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,s,a=0;a<t.filters.length;a++)if(o=t.filters[a],s=e.filters[a],o.op!==s.op||!o.field.isEqual(s.field)||!Gi(o.value,s.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yo(t.startAt,e.startAt)&&Yo(t.endAt,e.endAt)}function wo(t){return Ti.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Io,Eo=(d(To,Io=function(){}),To.create=function(t,e,n){return t.ht()?"in"===e||"not-in"===e?this.Dt(t,e,n):new No(t,e,n):"array-contains"===e?new jo(t,n):"in"===e?new Uo(t,n):"not-in"===e?new Fo(t,n):"array-contains-any"===e?new qo(t,n):new To(t,e,n)},To.Dt=function(t,e,n){return new("in"===e?ko:Oo)(t,n)},To.prototype.matches=function(t){return t=t.field(this.field),"!="===this.op?null!==t&&this.Ct(Wi(t,this.value)):null!==t&&Ki(this.value)===Ki(t)&&this.Ct(Wi(t,this.value))},To.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return Rr()}},To.prototype.xt=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},To);function To(t,e,n){var r=this;return(r=Io.call(this)||this).field=t,r.op=e,r.value=n,r}var _o,Ao,So,No=(d(Co,So=Eo),Co.prototype.matches=function(t){return t=Ti.J(t.key,this.key),this.Ct(t)},Co),ko=(d(Po,Ao=Eo),Po.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},Po),Oo=(d(Do,_o=Eo),Do.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},Do);function Do(t,e){var n=this;return(n=_o.call(this,t,"not-in",e)||this).keys=Ro(0,e),n}function Po(t,e){var n=this;return(n=Ao.call(this,t,"in",e)||this).keys=Ro(0,e),n}function Co(t,e,n){var r=this;return(r=So.call(this,t,e,n)||this).key=Ti.dt(n.referenceValue),r}function Ro(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map((function(t){return Ti.dt(t.referenceValue)}))}var xo,Lo,Mo,Vo,jo=(d(zo,Vo=Eo),zo.prototype.matches=function(t){return Qi(t=t.field(this.field))&&zi(t.arrayValue,this.value)},zo),Uo=(d(Go,Mo=Eo),Go.prototype.matches=function(t){return null!==(t=t.field(this.field))&&zi(this.value.arrayValue,t)},Go),Fo=(d(Ko,Lo=Eo),Ko.prototype.matches=function(t){return!zi(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(t=t.field(this.field))&&!zi(this.value.arrayValue,t)},Ko),qo=(d(Bo,xo=Eo),Bo.prototype.matches=function(t){var e=this;return!(!Qi(t=t.field(this.field))||!t.arrayValue.values)&&t.arrayValue.values.some((function(t){return zi(e.value.arrayValue,t)}))},Bo),Ho=function(t,e){this.position=t,this.before=e};function Bo(t,e){return xo.call(this,t,"array-contains-any",e)||this}function Ko(t,e){return Lo.call(this,t,"not-in",e)||this}function Go(t,e){return Mo.call(this,t,"in",e)||this}function zo(t,e){return Vo.call(this,t,"array-contains",e)||this}function Wo(t){return(t.before?"b":"a")+":"+t.position.map(Xi).join(",")}var Jo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Xo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Ti.J(Ti.dt(s.referenceValue),n.key):Wi(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Yo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Gi(t.position[n],e.position[n]))return!1;return!0}var $o=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null,this.startAt,this.endAt};function Qo(t,e,n,r,i,o,s,a){return new $o(t,e,n,r,i,o,s,a)}function Zo(t){return new $o(t)}function ts(t){return!qi(t.limit)&&"F"===t.limitType}function es(t){return!qi(t.limit)&&"L"===t.limitType}function ns(t){return 0<t.Nt.length?t.Nt[0].field:null}function rs(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function is(t){return null!==t.collectionGroup}function os(t){var e=t;if(null===e.Ft){e.Ft=[];var n=rs(e);if(t=ns(e),null!==n&&null===t)n.ht()||e.Ft.push(new Jo(n)),e.Ft.push(new Jo(Ei.lt(),"asc"));else{for(var r=!1,i=0,o=e.Nt;i<o.length;i++){var s=o[i];e.Ft.push(s),s.field.ht()&&(r=!0)}r||(n=0<e.Nt.length?e.Nt[e.Nt.length-1].dir:"asc",e.Ft.push(new Jo(Ei.lt(),n)))}}return e.Ft}function ss(t){var e=t;if(!e.Ot)if("F"===e.limitType)e.Ot=go(e.path,e.collectionGroup,os(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=os(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Jo(o.field,s))}var a=e.endAt?new Ho(e.endAt.position,!e.endAt.before):null;t=e.startAt?new Ho(e.startAt.position,!e.startAt.before):null,e.Ot=go(e.path,e.collectionGroup,n,e.filters,e.limit,a,t)}return e.Ot}function as(t,e,n){return new $o(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function us(t,e){return bo(ss(t),ss(e))&&t.limitType===e.limitType}function cs(t){return mo(ss(t))+"|lt:"+t.limitType}function hs(t){return"Query(target="+(n=(e=ss(t)).path.ot(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map((function(t){return(t=t).field.ot()+" "+t.op+" "+Xi(t.value)})).join(", ")+"]"),qi(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(t=t).field.ot()+" ("+t.dir+")"})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Wo(e.startAt)),e.endAt&&(n+=", endAt: "+Wo(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function fs(t,e){return n=t,r=e.key.path,(null!==n.collectionGroup?e.key.wt(n.collectionGroup)&&n.path.st(r):Ti.Et(n.path)?n.path.isEqual(r):n.path.it(r))&&function(e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(e=t).startAt||Xo(e.startAt,os(e),r))&&(!e.endAt||!Xo(e.endAt,os(e),r)));var n,r}function ls(t){return function(e,n){for(var r=!1,i=0,o=os(t);i<o.length;i++){var s=o[i],a=function(t,e,n){switch(n=t.field.ht()?Ti.J(e.key,n.key):function(t,n){var r=e.field(t);return t=n.field(t),null!==r&&null!==t?Wi(r,t):Rr()}(t.field,n),t.dir){case"asc":return n;case"desc":return-1*n;default:return Rr()}}(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}var ps=(ds.prototype.Lt=function(t){return new ds(this.target,this.targetId,this.kt,t,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},ds.prototype.$t=function(t,e){return new ds(this.target,this.targetId,this.kt,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},ds.prototype.Bt=function(t){return new ds(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,t,this.resumeToken)},ds);function ds(t,e,n,r,i,o,s){void 0===i&&(i=bi.min()),void 0===o&&(o=bi.min()),void 0===s&&(s=Fr.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function vs(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hi(e)?"-0":e}}function ys(t){return{integerValue:""+t}}function gs(t,e){return Bi(e)?ys(e):vs(t,e)}function ms(t,e){return t instanceof Ps?$i(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var bs,ws,Is=(d(_s,ws=Ne=function(){this.Ut=void 0}),_s),Es=(d(Ts,bs=Ne),Ts);function Ts(t){var e=this;return(e=bs.call(this)||this).elements=t,e}function _s(){return null!==ws&&ws.apply(this,arguments)||this}function As(t,e){for(var n=xs(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some((function(e){return Gi(e,t)}))||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var Ss,Ns=(d(ks,Ss=Ne),ks);function ks(t){var e=this;return(e=Ss.call(this)||this).elements=t,e}function Os(t,e){for(var n=xs(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter((function(e){return!Gi(e,t)}))}(i[r]);return{arrayValue:{values:n}}}var Ds,Ps=(d(Cs,Ds=Ne),Cs);function Cs(t,e){var n=this;return(n=Ds.call(this)||this).Kt=t,n.Qt=e,n}function Rs(t){return Vi(t.integerValue||t.doubleValue)}function xs(t){return Qi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ls(t,e){this.version=t,this.transformResults=e}var Ms=function(t,e){this.field=t,this.transform=e},Vs=(js.Wt=function(){return new js},js.exists=function(t){return new js(void 0,t)},js.updateTime=function(t){return new js(t)},Object.defineProperty(js.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),js.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},js);function js(t,e){this.updateTime=t,this.exists=e}function Us(t,e){return void 0!==t.updateTime?e instanceof co&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof co}function Fs(t,e,n,r){return t instanceof Gs?function(t,e,n,r){if(!Us(t.Gt,e))return e;var i=t.value;return t.fieldTransforms&&(r=$s(t.fieldTransforms,n,e,r),i=Qs(t.fieldTransforms,i,r)),e=Hs(e),new co(t.key,e,i,{bt:!0})}(t,e,r,n):t instanceof zs?function(t,e,n,r){if(!Us(t.Gt,e))return e;var i=Hs(e);return r=Xs(t,e,$s(t.fieldTransforms,n,e,r)),new co(t.key,i,r,{bt:!0})}(t,e,r,n):(e=e,Us((t=t).Gt,e)?new ho(t.key,bi.min()):e)}function qs(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&jr(n,r,(function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof Es&&e instanceof Es||t instanceof Ns&&e instanceof Ns?jr(t.elements,e.elements,Gi):t instanceof Ps&&e instanceof Ps?Gi(t.Qt,e.Qt):t instanceof Is&&e instanceof Is)}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt));var n,r}function Hs(t){return t instanceof co?t.version:bi.min()}var Bs,Ks,Gs=(d(Js,Ks=f=function(){}),Js),zs=(d(Ws,Bs=f),Ws);function Ws(t,e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=Bs.call(this)||this).key=t,o.data=e,o.zt=n,o.Gt=r,o.fieldTransforms=i,o.type=1,o}function Js(t,e,n,r){void 0===r&&(r=[]);var i=this;return(i=Ks.call(this)||this).key=t,i.value=e,i.Gt=n,i.fieldTransforms=r,i.type=0,i}function Xs(t,e,n){var r,i,o;return i=t,e=r=e instanceof co?e.data():no.empty(),o=new ro(e),i.zt.fields.forEach((function(t){var e;t.nt()||(null!==(e=i.data.field(t))?o.set(t,e):o.delete(t))})),r=o.yt(),Qs(t.fieldTransforms,r,n)}function Ys(t,e,n){var r=[];xr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof co&&(a=e.field(o.field)),r.push((o=s,s=a,a=n[i],o instanceof Es?As(o,s):o instanceof Ns?Os(o,s):a))}return r}function $s(t,e,n,r){for(var i,o=[],s=0,a=t;s<a.length;s++){var u=a[s],c=u.transform,h=null;n instanceof co&&(h=n.field(u.field)),null===h&&r instanceof co&&(h=r.field(u.field)),o.push((i=h,u=e,h=void 0,(c=c)instanceof Is?(h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}},i&&(h.fields.__previous_value__=i),{mapValue:h}):c instanceof Es?As(c,i):c instanceof Ns?Os(c,i):(i=Rs(c=ms(h=c,i))+Rs(h.Qt),$i(c)&&$i(h.Qt)?ys(i):vs(h.Kt,i))))}return o}function Qs(t,e,n){for(var r=new ro(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}function Zs(t){this.count=t}var ta,ea,na,ra=(d(sa,na=f),sa),ia=(d(oa,ea=f),oa);function oa(t,e){var n=this;return(n=ea.call(this)||this).key=t,n.Gt=e,n.type=3,n.fieldTransforms=[],n}function sa(t,e){var n=this;return(n=na.call(this)||this).key=t,n.Gt=e,n.type=2,n.fieldTransforms=[],n}function aa(t){switch(t){case Br.OK:return Rr(),0;case Br.CANCELLED:case Br.UNKNOWN:case Br.DEADLINE_EXCEEDED:case Br.RESOURCE_EXHAUSTED:case Br.INTERNAL:case Br.UNAVAILABLE:case Br.UNAUTHENTICATED:return;case Br.INVALID_ARGUMENT:case Br.NOT_FOUND:case Br.ALREADY_EXISTS:case Br.PERMISSION_DENIED:case Br.FAILED_PRECONDITION:case Br.ABORTED:case Br.OUT_OF_RANGE:case Br.UNIMPLEMENTED:case Br.DATA_LOSS:return 1;default:return Rr(),0}}function ua(t){if(void 0===t)return Dr("GRPC error has no .code"),Br.UNKNOWN;switch(t){case ta.OK:return Br.OK;case ta.CANCELLED:return Br.CANCELLED;case ta.UNKNOWN:return Br.UNKNOWN;case ta.DEADLINE_EXCEEDED:return Br.DEADLINE_EXCEEDED;case ta.RESOURCE_EXHAUSTED:return Br.RESOURCE_EXHAUSTED;case ta.INTERNAL:return Br.INTERNAL;case ta.UNAVAILABLE:return Br.UNAVAILABLE;case ta.UNAUTHENTICATED:return Br.UNAUTHENTICATED;case ta.INVALID_ARGUMENT:return Br.INVALID_ARGUMENT;case ta.NOT_FOUND:return Br.NOT_FOUND;case ta.ALREADY_EXISTS:return Br.ALREADY_EXISTS;case ta.PERMISSION_DENIED:return Br.PERMISSION_DENIED;case ta.FAILED_PRECONDITION:return Br.FAILED_PRECONDITION;case ta.ABORTED:return Br.ABORTED;case ta.OUT_OF_RANGE:return Br.OUT_OF_RANGE;case ta.UNIMPLEMENTED:return Br.UNIMPLEMENTED;case ta.DATA_LOSS:return Br.DATA_LOSS;default:return Rr()}}(Ne=ta=ta||{})[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";var ca=(da.prototype.Ht=function(t,e){return new da(this.J,this.root.Ht(t,e,this.J).copy(null,null,fa.Jt,null,null))},da.prototype.remove=function(t){return new da(this.J,this.root.remove(t,this.J).copy(null,null,fa.Jt,null,null))},da.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},da.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},da.prototype.nt=function(){return this.root.nt()},Object.defineProperty(da.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),da.prototype.Yt=function(){return this.root.Yt()},da.prototype.Xt=function(){return this.root.Xt()},da.prototype.Zt=function(t){return this.root.Zt(t)},da.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},da.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},da.prototype.te=function(t){return this.root.te(t)},da.prototype.ee=function(){return new ha(this.root,null,this.J,!1)},da.prototype.ne=function(t){return new ha(this.root,t,this.J,!1)},da.prototype.se=function(){return new ha(this.root,null,this.J,!0)},da.prototype.ie=function(t){return new ha(this.root,t,this.J,!0)},da),ha=(pa.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},pa.prototype.ae=function(){return 0<this.oe.length},pa.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},pa),fa=(la.prototype.copy=function(t,e,n,r,i){return new la(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},la.prototype.nt=function(){return!1},la.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},la.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},la.prototype.min=function(){return this.left.nt()?this:this.left.min()},la.prototype.Yt=function(){return this.min().key},la.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},la.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},la.prototype.le=function(){if(this.left.nt())return la.EMPTY;var t=this;return t.left._e()||t.left.left._e()||(t=t.fe()),(t=t.copy(null,null,null,t.left.le(),null)).he()},la.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.nt()||r.left._e()||r.left.left._e()||(r=r.fe()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left._e()&&(r=r.de()),r.right.nt()||r.right._e()||r.right.left._e()||(r=r.we()),0===e(t,r.key)){if(r.right.nt())return la.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.le())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.he()},la.prototype._e=function(){return this.color},la.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},la.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},la.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},la.prototype.Ee=function(){var t=this.copy(null,null,la.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},la.prototype.de=function(){var t=this.copy(null,null,la.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},la.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},la.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},la.prototype.me=function(){if(this._e()&&this.left._e())throw Rr();if(this.right._e())throw Rr();var t=this.left.me();if(t!==this.right.me())throw Rr();return t+(this._e()?0:1)},la);function la(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:la.RED,this.left=null!=r?r:la.EMPTY,this.right=null!=i?i:la.EMPTY,this.size=this.left.size+1+this.right.size}function pa(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}function da(t,e){this.J=t,this.root=e||fa.EMPTY}function va(){this.size=0}fa.EMPTY=null,fa.RED=!0,fa.Jt=!1,fa.EMPTY=(Object.defineProperty(va.prototype,"key",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),Object.defineProperty(va.prototype,"value",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),Object.defineProperty(va.prototype,"color",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),Object.defineProperty(va.prototype,"left",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),Object.defineProperty(va.prototype,"right",{get:function(){throw Rr()},enumerable:!1,configurable:!0}),va.prototype.copy=function(t,e,n,r,i){return this},va.prototype.Ht=function(t,e,n){return new fa(t,e)},va.prototype.remove=function(t,e){return this},va.prototype.nt=function(){return!0},va.prototype.Zt=function(t){return!1},va.prototype.te=function(t){return!1},va.prototype.Yt=function(){return null},va.prototype.Xt=function(){return null},va.prototype._e=function(){return!1},va.prototype.Ie=function(){return!0},va.prototype.me=function(){return 0},new va);var ya=(wa.prototype.has=function(t){return null!==this.data.get(t)},wa.prototype.first=function(){return this.data.Yt()},wa.prototype.last=function(){return this.data.Xt()},Object.defineProperty(wa.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),wa.prototype.indexOf=function(t){return this.data.indexOf(t)},wa.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},wa.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(0<=this.J(r.key,t[1]))return;e(r.key)}},wa.prototype.Re=function(t,e){for(var n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},wa.prototype.Pe=function(t){return(t=this.data.ne(t)).ae()?t.ce().key:null},wa.prototype.ee=function(){return new ga(this.data.ee())},wa.prototype.ne=function(t){return new ga(this.data.ne(t))},wa.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},wa.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},wa.prototype.nt=function(){return this.data.nt()},wa.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},wa.prototype.isEqual=function(t){if(!(t instanceof wa))return!1;if(this.size!==t.size)return!1;for(var e=this.data.ee(),n=t.data.ee();e.ae();){var r=e.ce().key,i=n.ce().key;if(0!==this.J(r,i))return!1}return!0},wa.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},wa.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},wa.prototype.copy=function(t){var e=new wa(this.J);return e.data=t,e},wa),ga=(ba.prototype.ce=function(){return this.ge.ce().key},ba.prototype.ae=function(){return this.ge.ae()},ba),ma=new ca(Ti.J);function ba(t){this.ge=t}function wa(t){this.J=t,this.data=new ca(this.J)}var Ia=new ca(Ti.J),Ea=new ca(Ti.J),Ta=new ya(Ti.J);function _a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ta,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Aa=new ya(Vr),Sa=(Ha.be=function(t){return new Ha(t.J)},Ha.prototype.has=function(t){return null!=this.Ve.get(t)},Ha.prototype.get=function(t){return this.Ve.get(t)},Ha.prototype.first=function(){return this.pe.Yt()},Ha.prototype.last=function(){return this.pe.Xt()},Ha.prototype.nt=function(){return this.pe.nt()},Ha.prototype.indexOf=function(t){return(t=this.Ve.get(t))?this.pe.indexOf(t):-1},Object.defineProperty(Ha.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),Ha.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},Ha.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},Ha.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},Ha.prototype.isEqual=function(t){if(!(t instanceof Ha))return!1;if(this.size!==t.size)return!1;for(var e=this.pe.ee(),n=t.pe.ee();e.ae();){var r=e.ce().key,i=n.ce().key;if(!r.isEqual(i))return!1}return!0},Ha.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},Ha.prototype.copy=function(t,e){var n=new Ha;return n.J=this.J,n.Ve=t,n.pe=e,n},Ha),Na=(qa.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);!n||0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Rr()},qa.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},qa),ka=(Fa.Fe=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:0,doc:t})})),new Fa(t,e,Sa.be(e),i,n,r,!0,!1)},Object.defineProperty(Fa.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),Fa.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&us(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},Fa),Oa=(Ua.$e=function(t,e){var n=new Map;return n.set(t,Da.Be(t,e)),new Ua(bi.min(),n,Aa,ma,_a())},Ua),Da=(ja.Be=function(t,e){return new ja(Fr.h,e,_a(),_a(),_a())},ja),Pa=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Ca=function(t,e){this.targetId=t,this.Ge=e},Ra=function(t,e,n,r){void 0===n&&(n=Fr.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},xa=(Object.defineProperty(Va.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(Va.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(Va.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(Va.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),Va.prototype.en=function(t){0<t.o()&&(this.Xe=!0,this.Je=t)},Va.prototype.nn=function(){var t=_a(),e=_a(),n=_a();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Rr()}})),new Da(this.Je,this.Ye,t,e,n)},Va.prototype.sn=function(){this.Xe=!1,this.He=Ka()},Va.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},Va.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},Va.prototype.cn=function(){this.ze+=1},Va.prototype.an=function(){--this.ze},Va.prototype.un=function(){this.Xe=!0,this.Ye=!0},Va),La=(Ma.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof co?this.En(r,t.je):t.je instanceof ho&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.je)},Ma.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Rr()}}))},Ma.prototype.mn=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},Ma.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count;(t=this.gn(e))&&(wo(t=t.target)?0===n?(t=new Ti(t.path),this.Tn(e,t,new ho(t,bi.min()))):xr(1===n):this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e)))},Ma.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);o&&(r.qe&&wo(o.target)&&(o=new Ti(o.target.path),null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new ho(o,t))),r.tn&&(n.set(i,r.nn()),r.sn()))}));var r=_a();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){return!(t=e.gn(t))||2===t.kt||(i=!1)})),i&&(r=r.add(t))}));var i=new Oa(t,n,this.dn,this._n,r);return this._n=ma,this.fn=Ba(),this.dn=new ya(Vr),i},Ma.prototype.En=function(t,e){var n;this.Rn(t)&&(n=this.bn(t,e.key)?2:0,this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t)))},Ma.prototype.Tn=function(t,e,n){var r;this.Rn(t)&&(r=this.An(t),this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n)))},Ma.prototype.removeTarget=function(t){this.ln.delete(t)},Ma.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},Ma.prototype.cn=function(t){this.An(t).cn()},Ma.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new xa,this.ln.set(t,e)),e},Ma.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new ya(Vr),this.fn=this.fn.Ht(t,e)),e},Ma.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Or("WatchChangeAggregator","Detected inactive target",t),e},Ma.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},Ma.prototype.Pn=function(t){var e=this;this.ln.set(t,new xa),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},Ma.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},Ma);function Ma(t){this.hn=t,this.ln=new Map,this._n=ma,this.fn=Ba(),this.dn=new ya(Vr)}function Va(){this.ze=0,this.He=Ka(),this.Je=Fr.h,this.Ye=!1,this.Xe=!0}function ja(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}function Ua(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}function Fa(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}function qa(){this.ve=new ca(Ti.J)}function Ha(t){this.J=t?function(e,n){return t(e,n)||Ti.J(e.key,n.key)}:function(t,e){return Ti.J(t.key,e.key)},this.Ve=Ia,this.pe=new ca(this.J)}function Ba(){return new ca(Ti.J)}function Ka(){return new ca(Ti.J)}var Ga={asc:"ASCENDING",desc:"DESCENDING"},za={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wa=function(t,e){this.T=t,this.qt=e};function Ja(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xa(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Ya(t){return xr(!!t),bi.W((t=Mi(t),new mi(t.seconds,t.nanos)))}function $a(t,e){return new wi(["projects",t.projectId,"databases",t.database]).child("documents").child(e).ot()}function Qa(t){return xr(gu(t=wi.ct(t))),t}function Za(t,e){return $a(t.T,e.path)}function tu(t,e){if((e=Qa(e)).get(1)!==t.T.projectId)throw new Kr(Br.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.T.projectId);if(e.get(3)!==t.T.database)throw new Kr(Br.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.T.database);return new Ti(iu(e))}function eu(t,e){return $a(t.T,e)}function nu(t){return 4===(t=Qa(t)).length?wi.at():iu(t)}function ru(t){return new wi(["projects",t.T.projectId,"databases",t.T.database]).ot()}function iu(t){return xr(4<t.length&&"documents"===t.get(4)),t.X(5)}function ou(t,e,n){return{name:Za(t,e),fields:n.proto.mapValue.fields}}function su(t,e,n){var r=tu(t,e.name);return t=Ya(e.updateTime),e=new no({mapValue:{fields:e.fields}}),new co(r,t,e,{hasCommittedMutations:!!n})}function au(t,e){var n,r,i;if(e instanceof Gs)n={update:ou(t,e.key,e.value)};else if(e instanceof ra)n={delete:Za(t,e.key)};else if(e instanceof zs)n={update:ou(t,e.key,e.data),updateMask:(i=e.zt,r=[],i.fields.forEach((function(t){return r.push(t.ot())})),{fieldPaths:r})};else{if(!(e instanceof ia))return Rr();n={verify:Za(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map((function(t){var e=t.transform;if(e instanceof Is)return{fieldPath:t.field.ot(),setToServerValue:"REQUEST_TIME"};if(e instanceof Es)return{fieldPath:t.field.ot(),appendMissingElements:{values:e.elements}};if(e instanceof Ns)return{fieldPath:t.field.ot(),removeAllFromArray:{values:e.elements}};if(e instanceof Ps)return{fieldPath:t.field.ot(),increment:e.Qt};throw Rr()}))),e.Gt.jt||(n.currentDocument=void 0!==(i=e.Gt).updateTime?{updateTime:(e=t,t=i.updateTime,Ja(e,t.G()))}:void 0!==i.exists?{exists:i.exists}:Rr()),n}function uu(t,e){var n=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Vs.updateTime(Ya(s.updateTime)):void 0!==s.exists?Vs.exists(s.exists):Vs.Wt():Vs.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n,r=null;return"setToServerValue"in e?(xr("REQUEST_TIME"===e.setToServerValue),r=new Is):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new Es(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new Ns(n)):"increment"in e?r=new Ps(t,e.increment):Rr(),e=Ei._t(e.fieldPath),new Ms(e,r)}(t,e)})):[];if(e.update){e.update.name;var i=tu(t,e.update.name),o=new no({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=(s=e.updateMask.fieldPaths||[],new Ri(s.map((function(t){return Ei._t(t)}))));return new zs(i,o,s,n,r)}return new Gs(i,o,n,r)}return e.delete?(r=tu(t,e.delete),new ra(r,n)):e.verify?(e=tu(t,e.verify),new ia(e,n)):Rr()}function cu(t,e){return{documents:[eu(t,e.path)]}}function hu(t,e){var n={structuredQuery:{}},r=e.path;return null!==e.collectionGroup?(n.parent=eu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=eu(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]),(r=function(t){if(0!==t.length)return 1===(t=t.map((function(t){if("=="===t.op){if(to(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NAN"}};if(Zi(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(to(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NOT_NAN"}};if(Zi(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(t.field),op:(e=t.op,za[e]),value:t.value}};var e}))).length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters))&&(n.structuredQuery.where=r),(r=function(t){if(0!==t.length)return t.map((function(t){return{field:du((t=t).field),direction:(t=t.dir,Ga[t])}}))}(e.orderBy))&&(n.structuredQuery.orderBy=r),r=e.limit,null!==(r=t.qt||qi(r)?r:{value:r})&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=lu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=lu(e.endAt)),n}function fu(t){var e=nu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(xr(1===r),(s=n.from[0]).allDescendants?i=s.collectionId:e=e.child(s.collectionId));var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[yu(e)]:void 0!==e.fieldFilter?[(n=e,Eo.create(vu(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Rr()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Rr():[];var n}(n.where)),t=[],n.orderBy&&(t=n.orderBy.map((function(t){return new Jo(vu((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}))),r=null,n.limit&&(r=qi(a="object"==typeof(a=n.limit)?a.value:a)?null:a);var s=null;n.startAt&&(s=pu(n.startAt));var a=null;return n.endAt&&(a=pu(n.endAt)),Qo(e,i,t,o,r,"F",s,a)}function lu(t){return{before:t.before,values:t.position}}function pu(t){var e=!!t.before;return t=t.values||[],new Ho(t,e)}function du(t){return{fieldPath:t.ot()}}function vu(t){return Ei._t(t.fieldPath)}function yu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=vu(t.unaryFilter.field);return Eo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=vu(t.unaryFilter.field);return Eo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":return n=vu(t.unaryFilter.field),Eo.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return t=vu(t.unaryFilter.field),Eo.create(t,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Rr()}}function gu(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}var mu,bu=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},wu=(Ou.prototype.catch=function(t){return this.next(void 0,t)},Ou.prototype.next=function(t,e){var n=this;return this.Fn&&Rr(),this.Fn=!0,this.Nn?this.error?this.On(e,this.error):this.kn(t,this.result):new Ou((function(r,i){n.Cn=function(e){n.kn(t,e).next(r,i)},n.xn=function(t){n.On(e,t).next(r,i)}}))},Ou.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},Ou.prototype.Ln=function(t){try{var e=t();return e instanceof Ou?e:Ou.resolve(e)}catch(t){return Ou.reject(t)}},Ou.prototype.kn=function(t,e){return t?this.Ln((function(){return t(e)})):Ou.resolve(e)},Ou.prototype.On=function(t,e){return t?this.Ln((function(){return t(e)})):Ou.reject(e)},Ou.resolve=function(t){return new Ou((function(e,n){e(t)}))},Ou.reject=function(t){return new Ou((function(e,n){n(t)}))},Ou.$n=function(t){return new Ou((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},Ou.Bn=function(t){for(var e=Ou.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next((function(e){return e?Ou.resolve(e):t()}))}(r[n]);return e},Ou.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},Ou),Iu=(ku.open=function(t,e,n,r){try{return new ku(e,t.transaction(r,n))}catch(t){throw new _u(e,t)}},Object.defineProperty(ku.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),ku.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Or("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},ku.prototype.store=function(t){return t=this.transaction.objectStore(t),new Pu(t)},ku),Eu=(Nu.delete=function(t){return Or("SimpleDb","Removing database:",t),Ru(window.indexedDB.deleteDatabase(t)).Mn()},Nu.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(Nu.jn())return!0;var t=m(),e=0<(n=Nu.Kn(t))&&n<10,n=0<(n=Nu.Gn(t))&&n<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||e||n)},Nu.jn=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCq0SDkKRSw3LbFEw4_MdEjskMoA47XE0Y",REACT_APP_FIREBASE_APP_ID:"1:679328723773:web:7329db5a0ab23161760b54",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-MSTF04LPPR",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"679328723773",REACT_APP_FIREBASE_STORAGE_BUCKET:"digital-book-library.appspot.com"}))||void 0===t?void 0:t.zn)},Nu.Hn=function(t,e){return t.store(e)},Nu.Kn=function(t){return t=(t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?t[1].split("_").slice(0,2).join("."):"-1",Number(t)},Nu.Gn=function(t){return t=(t=t.match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1",Number(t)},Nu.prototype.Jn=function(t){return v(this,void 0,void 0,(function(){var e,n=this;return y(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Or("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){t=t.target.result,e(t)},i.onblocked=function(){r(new _u(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){"VersionError"===(e=e.target.error).name?r(new Kr(Br.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new _u(t,e))},i.onupgradeneeded=function(t){Or("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){Or("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},Nu.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},Nu.prototype.runTransaction=function(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o,s,a;return y(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u;return y(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,s.Jn(t)];case 2:return s.db=c.sent(),e=Iu.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),wu.reject(t)})).Mn(),u={},a.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(c.sent(),a),u)];case 4:return a=c.sent(),u="FirebaseError"!==a.name&&o<3,Or("SimpleDb","Transaction failed with error:",a.message,"Retrying:",u),s.close(),u?[3,5]:[2,{value:Promise.reject(a)}];case 5:return[2]}}))},s=this,u.label=1;case 1:return[5,a()];case 2:if("object"==typeof(a=u.sent()))return[2,a.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},Nu.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},Nu),Tu=(Object.defineProperty(Su.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(Su.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(Su.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),Su.prototype.done=function(){this.es=!0},Su.prototype.rs=function(t){this.ns=t},Su.prototype.delete=function(){return Ru(this.ts.delete())},Su),_u=(d(Au,mu=Kr),Au);function Au(t,e){var n=this;return(n=mu.call(this,Br.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function Su(t){this.ts=t,this.es=!1,this.ns=null}function Nu(t,e,n){this.name=t,this.version=e,this.Qn=n,12.2===Nu.Kn(m())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function ku(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new bu,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new _u(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){e=Lu(e.target.error),n.qn.reject(new _u(t,e))}}function Ou(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}function Du(t){return"IndexedDbTransactionError"===t.name}var Pu=(Cu.prototype.put=function(t,e){return Ru(t=void 0!==e?(Or("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Or("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},Cu.prototype.add=function(t){return Or("SimpleDb","ADD",this.store.name,t,t),Ru(this.store.add(t))},Cu.prototype.get=function(t){var e=this;return Ru(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Or("SimpleDb","GET",e.store.name,t,n),n}))},Cu.prototype.delete=function(t){return Or("SimpleDb","DELETE",this.store.name,t),Ru(this.store.delete(t))},Cu.prototype.count=function(){return Or("SimpleDb","COUNT",this.store.name),Ru(this.store.count())},Cu.prototype.os=function(t,e){e=this.cursor(this.options(t,e));var n=[];return this.cs(e,(function(t,e){n.push(e)})).next((function(){return n}))},Cu.prototype.us=function(t,e){return Or("SimpleDb","DELETE ALL",this.store.name),(e=this.options(t,e)).hs=!1,e=this.cursor(e),this.cs(e,(function(t,e,n){return n.delete()}))},Cu.prototype.ls=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.cs(n,e)},Cu.prototype._s=function(t){var e=this.cursor({});return new wu((function(n,r){e.onerror=function(t){t=Lu(t.target.error),r(t)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},Cu.prototype.cs=function(t,e){var n=[];return new wu((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o=t.target.result;o?(i=new Tu(o),(t=e(o.primaryKey,o.value,i))instanceof wu&&(t=t.catch((function(t){return i.done(),wu.reject(t)})),n.push(t)),i.Nn?r():null===i.ss?o.continue():o.continue(i.ss)):r()}})).next((function(){return wu.$n(n)}))},Cu.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},Cu.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},Cu);function Cu(t){this.store=t}function Ru(t){return new wu((function(e,n){t.onsuccess=function(t){t=t.target.result,e(t)},t.onerror=function(t){t=Lu(t.target.error),n(t)}}))}var xu=!1;function Lu(t){var e=Eu.Kn(m());if(12.2<=e&&e<13&&(e="An internal error was encountered in the Indexed Database server",0<=t.message.indexOf(e))){var n=new Kr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xu||(xu=!0,setTimeout((function(){throw n}),0)),n}return t}var Mu=(Vu.Is=function(t,e,n,r,i){return(i=new Vu(t,e,Date.now()+n,r,i)).start(n),i},Vu.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},Vu.prototype.Ps=function(){return this.Rs()},Vu.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Kr(Br.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Vu.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},Vu.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},Vu);function Vu(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new bu,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}function ju(t,e){if(Dr("AsyncQueue",e+": "+t),Du(t))return new Kr(Br.UNAVAILABLE,e+": "+t);throw t}function Uu(t,e){this.progress=t,this.gs=e}var Fu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function qu(){this.Vs=[]}function Hu(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=Bu(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return Bu(e)}function Bu(t){return t+"\x01\x01"}function Ku(t){var e=t.length;if(xr(2<=e),2===e)return xr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wi.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||n<s)&&Rr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Rr()}o=s+2}return new wi(r)}function Gu(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}qu.prototype.ps=function(t){this.Vs.push(t)},qu.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},f=qu;var zu=function(t,e){this.seconds=t,this.nanoseconds=e};function Wu(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}function Ju(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}Gu.store="owner",Gu.key="owner",Wu.store="mutationQueues",Wu.keyPath="userId",Ju.store="mutations",Ju.keyPath="batchId",Ju.userMutationsIndex="userMutationsIndex",Ju.userMutationsKeyPath=["userId","batchId"];var Xu=(Yu.prefixForUser=function(t){return[t]},Yu.prefixForPath=function(t,e){return[t,Hu(e)]},Yu.key=function(t,e,n){return[t,Hu(e),n]},Yu);function Yu(){}function $u(t,e){this.path=t,this.readTime=e}function Qu(t,e){this.path=t,this.version=e}Xu.store="documentMutations",Xu.PLACEHOLDER=new Xu;var Zu=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function tc(t){this.byteSize=t}function ec(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}Zu.store="remoteDocuments",Zu.readTimeIndex="readTimeIndex",Zu.readTimeIndexPath="readTime",Zu.collectionReadTimeIndex="collectionReadTimeIndex",Zu.collectionReadTimeIndexPath=["parentPath","readTime"],tc.store="remoteDocumentGlobal",tc.key="remoteDocumentGlobalKey",ec.store="targets",ec.keyPath="targetId",ec.queryTargetsIndexName="queryTargetsIndex",ec.queryTargetsKeyPath=["canonicalId","targetId"];var nc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};function rc(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function ic(t,e){this.collectionId=t,this.parent=e}function oc(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}function sc(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}function ac(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}nc.store="targetDocuments",nc.keyPath=["targetId","path"],nc.documentTargetsIndex="documentTargetsIndex",nc.documentTargetsKeyPath=["path","targetId"],rc.key="targetGlobalKey",rc.store="targetGlobal",ic.store="collectionParents",ic.keyPath=["collectionId","parent"],oc.store="clientMetadata",oc.keyPath="clientId",sc.store="bundles",sc.keyPath="bundleId",ac.store="namedQueries",ac.keyPath="name";var uc,cc=g(g(g(g([Wu.store,Ju.store,Xu.store,Zu.store,ec.store,Gu.store,rc.store,nc.store],[oc.store]),[tc.store]),[ic.store]),[sc.store,ac.store]),hc=(d(fc,uc=f),fc);function fc(t,e){var n=this;return(n=uc.call(this)||this).vs=t,n.Ss=e,n}function lc(t,e){return Eu.Hn(t.vs,e)}var pc=(gc.prototype.Cs=function(t,e,n){for(var r,i,o,s,a,u,c=n.xs,h=0;h<this.mutations.length;h++){var f=this.mutations[h];f.key.isEqual(t)&&(r=f,i=e,o=c[h],f=u=a=s=void 0,e=r instanceof Gs?(a=o,f=(s=r).value,a.transformResults&&(u=Ys(s.fieldTransforms,i,a.transformResults),f=Qs(s.fieldTransforms,f,u)),new co(s.key,a.version,f,{hasCommittedMutations:!0})):r instanceof zs?function(t,e,n){return Us(t.Gt,e)?(e=Xs(t,e,n.transformResults?Ys(t.fieldTransforms,e,n.transformResults):[]),new co(t.key,n.version,e,{hasCommittedMutations:!0})):new fo(t.key,n.version)}(r,i,o):new ho(r.key,o.version,{hasCommittedMutations:!0}))}return e},gc.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Fs(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Fs(u,e,o,this.Ds))}return e},gc.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},gc.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),_a())},gc.prototype.isEqual=function(t){return this.batchId===t.batchId&&jr(this.mutations,t.mutations,qs)&&jr(this.baseMutations,t.baseMutations,qs)},gc),dc=(yc.from=function(t,e,n){xr(t.mutations.length===n.length);for(var r=Ea,i=t.mutations,o=0;o<i.length;o++)r=r.Ht(i[o].key,n[o].version);return new yc(t,e,n,r)},yc),vc=function(t){this.Ms=t};function yc(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}function gc(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}function mc(t,e){if(e.document)return su(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ti.Tt(e.noDocument.path),r=Tc(e.noDocument.readTime);return new ho(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(n=Ti.Tt(e.unknownDocument.path),r=Tc(e.unknownDocument.version),new fo(n,r)):Rr()}function bc(t,e,n){var r=wc(n);if(n=e.key.path.Z().rt(),e instanceof co){var i={name:Za(o=t.Ms,(s=e).key),fields:s.vt().mapValue.fields,updateTime:Ja(o,s.version.G())},o=e.hasCommittedMutations;return new Zu(null,null,i,o,r,n)}if(e instanceof ho){var s=e.key.path.rt();return i=Ec(e.version),o=e.hasCommittedMutations,new Zu(null,new $u(s,i),null,o,r,n)}return e instanceof fo?(o=e.key.path.rt(),e=Ec(e.version),new Zu(new Qu(o,e),null,null,!0,r,n)):Rr()}function wc(t){return[(t=t.G()).seconds,t.nanoseconds]}function Ic(t){return t=new mi(t[0],t[1]),bi.W(t)}function Ec(t){return t=t.G(),new zu(t.seconds,t.nanoseconds)}function Tc(t){return t=new mi(t.seconds,t.nanoseconds),bi.W(t)}function _c(t,e){for(var n=(e.baseMutations||[]).map((function(e){return uu(t.Ms,e)})),r=e.mutations.length-1;0<=r;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return uu(t.Ms,e)})),s=mi.fromMillis(e.localWriteTimeMs);return new pc(e.batchId,s,n,o)}function Ac(t){var e=Tc(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Tc(t.lastLimboFreeSnapshotVersion):bi.min(),r=void 0!==t.query.documents?(xr(1===(r=t.query).documents.length),ss(Zo(nu(r.documents[0])))):ss(fu(t.query));return new ps(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Fr.fromBase64String(t.resumeToken))}function Sc(t,e){var n=Ec(e.Mt),r=Ec(e.lastLimboFreeSnapshotVersion),i=(wo(e.target)?cu:hu)(t.Ms,e.target);return t=e.resumeToken.toBase64(),new ec(e.targetId,mo(e.target),n,t,e.sequenceNumber,r,i)}function Nc(t){var e=fu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?as(e,e.limit,"L"):e}var kc=(Oc.prototype.Ls=function(t,e){return Dc(t).get(e).next((function(t){if(t)return{id:(t=t).bundleId,createTime:Tc(t.createTime),version:t.version}}))},Oc.prototype.$s=function(t,e){return Dc(t).put({bundleId:(e=e).id,createTime:Ec(Ya(e.createTime)),version:e.version})},Oc.prototype.Bs=function(t,e){return Pc(t).get(e).next((function(t){if(t)return{name:(t=t).name,query:Nc(t.bundledQuery),readTime:Tc(t.readTime)}}))},Oc.prototype.qs=function(t,e){return Pc(t).put({name:(e=e).name,readTime:Ec(Ya(e.readTime)),bundledQuery:e.bundledQuery})},Oc);function Oc(){}function Dc(t){return lc(t,sc.store)}function Pc(t){return lc(t,ac.store)}var Cc=(Vc.prototype.Qs=function(t,e){return this.Us.add(e),wu.resolve()},Vc.prototype.Ks=function(t,e){return wu.resolve(this.Us.getEntries(e))},Vc),Rc=(Mc.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new ya(wi.J);return t=!r.has(n),this.index[e]=r.add(n),t},Mc.prototype.has=function(t){var e=t.et();return t=t.Z(),(e=this.index[e])&&e.has(t)},Mc.prototype.getEntries=function(t){return(this.index[t]||new ya(wi.J)).rt()},Mc),xc=(Lc.prototype.Qs=function(t,e){var n=this;if(this.Ws.has(e))return wu.resolve();var r=e.et(),i=e.Z();return t.ps((function(){n.Ws.add(e)})),i={collectionId:r,parent:Hu(i)},jc(t).put(i)},Lc.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ur(e),""],!1,!0);return jc(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ku(o.parent))}return n}))},Lc);function Lc(){this.Ws=new Rc}function Mc(){this.index={}}function Vc(){this.Us=new Rc}function jc(t){return lc(t,ic.store)}var Uc={js:!1,Gs:0,zs:0,Hs:0},Fc=(qc.Zs=function(t){return new qc(t,qc.ti,qc.ei)},qc);function qc(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}function Hc(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){if(t.code!==Br.FAILED_PRECONDITION||t.message!==Fu)throw t;return Or("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}Fc.ti=10,Fc.ei=1e3,Fc.ni=new Fc(41943040,Fc.ti,Fc.ei),Fc.si=new Fc(-1,0,0);var Bc=(Gc.prototype.get=function(t){var e=this.ii(t);if(void 0!==(e=this.oi[e]))for(var n=0,r=e;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.ri(i,t))return o}},Gc.prototype.has=function(t){return void 0!==this.get(t)},Gc.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},Gc.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},Gc.prototype.forEach=function(t){Pi(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=(s=i[r])[0],s=s[1];t(o,s)}}))},Gc.prototype.nt=function(){return Ci(this.oi)},Gc);function Kc(){this.ci=new Bc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}function Gc(t,e){this.ii=t,this.ri=e,this.oi={}}function zc(t,e,n){var r=t.store(Ju.store),i=t.store(Xu.store),o=[],s=(t=IDBKeyRange.only(n.batchId),0);t=r.ls({range:t},(function(t,e,n){return s++,n.delete()})),o.push(t.next((function(){xr(1===s)})));for(var a=[],u=0,c=n.mutations;u<c.length;u++){var h=c[u],f=Xu.key(e,h.key.path,n.batchId);o.push(i.delete(f)),a.push(h.key)}return wu.$n(o).next((function(){return a}))}function Wc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Rr();e=t.noDocument}return JSON.stringify(e).length}Kc.prototype.ui=function(t){return(t=this.ci.get(t))?t.readTime:bi.min()},Kc.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},Kc.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},Kc.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?wu.resolve(n._i):this.wi(t,e)},Kc.prototype.getEntries=function(t,e){return this.Ei(t,e)},Kc.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},Kc.prototype.li=function(){},Ne=Kc;var Jc=(Xc.Ri=function(t,e,n,r){return xr(""!==t.uid),new Xc(t.A()?t.uid:"",e,n,r)},Xc.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $c(t).ls({index:Ju.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},Xc.prototype.yi=function(t,e,n,r){var i=this,o=Qc(t),s=$c(t);return s.add({}).next((function(a){xr("number"==typeof a);for(var u,c,h,f,l,p=new pc(a,e,n,r),d=(u=i.Kt,c=i.userId,f=(h=p).baseMutations.map((function(t){return au(u.Ms,t)})),l=h.mutations.map((function(t){return au(u.Ms,t)})),new Ju(c,h.batchId,h.Ds.toMillis(),f,l)),v=[],y=new ya((function(t,e){return Vr(t.ot(),e.ot())})),g=0,m=r;g<m.length;g++){var b=m[g],w=Xu.key(i.userId,b.key.path,a);y=y.add(b.key.path.Z()),v.push(s.put(d)),v.push(o.put(w,Xu.PLACEHOLDER))}return y.forEach((function(e){v.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[a]=p.keys()})),wu.$n(v).next((function(){return p}))}))},Xc.prototype.gi=function(t,e){var n=this;return $c(t).get(e).next((function(t){return t?(xr(t.userId===n.userId),_c(n.Kt,t)):null}))},Xc.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?wu.resolve(this.Ai[e]):this.gi(t,e).next((function(t){return t?(t=t.keys(),n.Ai[e]=t):null}))},Xc.prototype.pi=function(t,e){var n=this,r=e+1,i=(e=IDBKeyRange.lowerBound([this.userId,r]),null);return $c(t).ls({index:Ju.userMutationsIndex,range:e},(function(t,e,o){e.userId===n.userId&&(xr(e.batchId>=r),i=_c(n.Kt,e)),o.done()})).next((function(){return i}))},Xc.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return $c(t).ls({index:Ju.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},Xc.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $c(t).os(Ju.userMutationsIndex,n).next((function(t){return t.map((function(t){return _c(e.Kt,t)}))}))},Xc.prototype.Si=function(t,e){var n=this,r=Xu.prefixForPath(this.userId,e.path),i=(r=IDBKeyRange.lowerBound(r),[]);return Qc(t).ls({range:r},(function(r,o,s){var a=r[0],u=r[1];if(r=r[2],u=Ku(u),a===n.userId&&e.path.isEqual(u))return $c(t).get(r).next((function(t){if(!t)throw Rr();xr(t.userId===n.userId),i.push(_c(n.Kt,t))}));s.done()})).next((function(){return i}))},Xc.prototype.Di=function(t,e){var n=this,r=new ya(Vr),i=[];return e.forEach((function(e){var o=Xu.prefixForPath(n.userId,e.path);o=IDBKeyRange.lowerBound(o),o=Qc(t).ls({range:o},(function(t,i,o){var s=t[0],a=t[1];t=t[2],a=Ku(a),s===n.userId&&e.path.isEqual(a)?r=r.add(t):o.done()})),i.push(o)})),wu.$n(i).next((function(){return n.Ci(t,r)}))},Xc.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=(e=Xu.prefixForPath(this.userId,r),e=IDBKeyRange.lowerBound(e),new ya(Vr));return Qc(t).ls({range:e},(function(t,e,s){var a=t[0],u=t[1];t=t[2],u=Ku(u),a===n.userId&&r.st(u)?u.length===i&&(o=o.add(t)):s.done()})).next((function(){return n.Ci(t,o)}))},Xc.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push($c(t).get(e).next((function(t){if(null===t)throw Rr();xr(t.userId===n.userId),r.push(_c(n.Kt,t))})))})),wu.$n(i).next((function(){return r}))},Xc.prototype.Ni=function(t,e){var n=this;return zc(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),wu.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},Xc.prototype.Fi=function(t){delete this.Ai[t]},Xc.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return wu.resolve();n=IDBKeyRange.lowerBound(Xu.prefixForUser(e.userId));var r=[];return Qc(t).ls({range:n},(function(t,n,i){t[0]===e.userId?(t=Ku(t[1]),r.push(t)):i.done()})).next((function(){xr(0===r.length)}))}))},Xc.prototype.Mi=function(t,e){return Yc(t,this.userId,e)},Xc.prototype.Li=function(t){var e=this;return Zc(t).get(this.userId).next((function(t){return t||new Wu(e.userId,-1,"")}))},Xc);function Xc(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}function Yc(t,e,n){var r=(n=Xu.prefixForPath(e,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return Qc(t).ls({range:n,hs:!0},(function(t,n,o){var s=t[0],a=t[1];t[2],s===e&&a===r&&(i=!0),o.done()})).next((function(){return i}))}function $c(t){return lc(t,Ju.store)}function Qc(t){return lc(t,Xu.store)}function Zc(t){return lc(t,Wu.store)}var th=(rh.prototype.next=function(){return this.$i+=2,this.$i},rh.Bi=function(){return new rh(0)},rh.qi=function(){return new rh(-1)},rh),eh=(nh.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new th(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},nh.prototype.Wi=function(t){return this.Qi(t).next((function(t){return bi.W(new mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},nh.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},nh.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},nh.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},nh.prototype.Yi=function(t,e){return this.Hi(t,e)},nh.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return ih(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return xr(0<e.targetCount),--e.targetCount,n.Ki(t,e)}))},nh.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return ih(t).ls((function(s,a){(a=Ac(a)).sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Xi(t,a)))})).next((function(){return wu.$n(o)})).next((function(){return i}))},nh.prototype.mn=function(t,e){return ih(t).ls((function(t,n){n=Ac(n),e(n)}))},nh.prototype.Qi=function(t){return oh(t).get(rc.key).next((function(t){return xr(null!==t),t}))},nh.prototype.Ki=function(t,e){return oh(t).put(rc.key,e)},nh.prototype.Hi=function(t,e){return ih(t).put(Sc(this.Kt,e))},nh.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},nh.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},nh.prototype.nr=function(t,e){var n=mo(e),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return ih(t).ls({range:n,index:ec.queryTargetsIndexName},(function(t,n,i){n=Ac(n),bo(e,n.target)&&(r=n,i.done())})).next((function(){return r}))},nh.prototype.sr=function(t,e,n){var r=this,i=[],o=sh(t);return e.forEach((function(e){var s=Hu(e.path);i.push(o.put(new nc(n,s))),i.push(r.mi.ir(t,n,e))})),wu.$n(i)},nh.prototype.rr=function(t,e,n){var r=this,i=sh(t);return wu.forEach(e,(function(e){var o=Hu(e.path);return wu.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},nh.prototype.Zi=function(t,e){return t=sh(t),e=IDBKeyRange.bound([e],[e+1],!1,!0),t.delete(e)},nh.prototype.ar=function(t,e){e=IDBKeyRange.bound([e],[e+1],!1,!0),t=sh(t);var n=_a();return t.ls({range:e,hs:!0},(function(t,e,r){t=Ku(t[1]),t=new Ti(t),n=n.add(t)})).next((function(){return n}))},nh.prototype.Mi=function(t,e){e=Hu(e.path),e=IDBKeyRange.bound([e],[Ur(e)],!1,!0);var n=0;return sh(t).ls({index:nc.documentTargetsIndex,hs:!0,range:e},(function(t,e,r){var i=t[0];t[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},nh.prototype.Dn=function(t,e){return ih(t).get(e).next((function(t){return t?Ac(t):null}))},nh);function nh(t,e){this.mi=t,this.Kt=e}function rh(t){this.$i=t}function ih(t){return lc(t,ec.store)}function oh(t){return lc(t,rc.store)}function sh(t){return lc(t,nc.store)}function ah(t,e){var n=t[0],r=t[1];return t=e[0],e=e[1],0===(t=Vr(n,t))?Vr(r,e):t}var uh=(vh.prototype.lr=function(){return++this.hr},vh.prototype._r=function(t){var e=[t,this.lr()];this.buffer.size<this.ur?this.buffer=this.buffer.add(e):ah(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(vh.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),vh),ch=(dh.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},dh.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(dh.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),dh.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;Or("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return v(e,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return Du(e=n.sent())?(Or("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Hc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},dh),hh=(ph.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},ph.prototype.gr=function(t,e){var n=this;if(0===e)return wu.resolve(hi.U);var r=new uh(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},ph.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},ph.prototype.pr=function(t,e){return this.Rr.pr(t,e)},ph.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(Or("LruGarbageCollector","Garbage collection skipped; disabled"),wu.resolve(Uc)):this.vr(t).next((function(r){return r<n.params.Js?(Or("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),Uc):n.Sr(t,e)}))},ph.prototype.vr=function(t){return this.Rr.vr(t)},ph.prototype.Sr=function(t,e){var n,r,o,s,a,u,c,h=this,f=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return r=e>h.params.Xs?(Or("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.Xs+" from "+e),h.params.Xs):e,s=Date.now(),h.gr(t,r)})).next((function(r){return n=r,a=Date.now(),h.tr(t,n,e)})).next((function(e){return o=e,u=Date.now(),h.pr(t,n)})).next((function(t){return c=Date.now(),kr()<=i.DEBUG&&Or("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-f)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),wu.resolve({js:!0,Gs:r,zs:o,Hs:t})}))},ph),fh=(lh.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},lh.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},lh.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},lh.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},lh.prototype.ir=function(t,e,n){return yh(t,n)},lh.prototype.cr=function(t,e,n){return yh(t,n)},lh.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},lh.prototype.Oi=yh,lh.prototype.Fr=function(t,e){return r=e,i=!1,Zc(n=t)._s((function(t){return Yc(n,t,r).next((function(t){return t&&(i=!0),wu.resolve(!t)}))})).next((function(){return i}));var n,r,i},lh.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(s,a){a<=e&&(a=n.Fr(t,s).next((function(e){if(!e)return o++,r.di(t,s).next((function(){return r.fi(s),sh(t).delete([0,Hu(s.path)])}))})),i.push(a))})).next((function(){return wu.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},lh.prototype.removeTarget=function(t,e){return e=e.Lt(t.Ss),this.db.Cr().Yi(t,e)},lh.prototype.Mr=yh,lh.prototype.Nr=function(t,e){t=sh(t);var n,r=hi.U;return t.ls({index:nc.documentTargetsIndex},(function(t,i){var o=t[0];t[1],t=i.path,i=i.sequenceNumber,0===o?(r!==hi.U&&e(new Ti(Ku(n)),r),r=i,n=t):r=hi.U})).next((function(){r!==hi.U&&e(new Ti(Ku(n)),r)}))},lh.prototype.vr=function(t){return this.db.kr().Lr(t)},lh);function lh(t,e){this.db=t,this.dr=new hh(this,e)}function ph(t,e){this.Rr=t,this.params=e}function dh(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}function vh(t){this.ur=t,this.buffer=new ya(ah),this.hr=0}function yh(t,e){return sh(t).put((t=t.Ss,new nc(0,Hu(e.path),t)))}var gh,mh=(Ih.prototype.hi=function(t,e,n){return Th(t).put(_h(e),n)},Ih.prototype.fi=function(t,e){return t=Th(t),e=_h(e),t.delete(e)},Ih.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},Ih.prototype.di=function(t,e){var n=this;return Th(t).get(_h(e)).next((function(t){return n.Br(t)}))},Ih.prototype.qr=function(t,e){var n=this;return Th(t).get(_h(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:Wc(t)}:null}))},Ih.prototype.getEntries=function(t,e){var n=this,r=ma;return this.Ur(t,e,(function(t,e){e=n.Br(e),r=r.Ht(t,e)})).next((function(){return r}))},Ih.prototype.Qr=function(t,e){var n=this,r=ma,i=new ca(Ti.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);i=o?(r=r.Ht(t,o),i.Ht(t,Wc(e))):(r=r.Ht(t,null),i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},Ih.prototype.Ur=function(t,e,n){if(e.nt())return wu.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Th(t).ls({range:r},(function(t,e,r){for(var s=Ti.Tt(t);o&&Ti.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},Ih.prototype.jr=function(t,e,n){var r,i=this,o=Ia,s=e.path.length+1,a={};return n.isEqual(bi.min())?(r=e.path.rt(),a.range=IDBKeyRange.lowerBound(r)):(r=e.path.rt(),n=wc(n),a.range=IDBKeyRange.lowerBound([r,n],!0),a.index=Zu.collectionReadTimeIndex),Th(t).ls(a,(function(t,n,r){t.length===s&&(n=mc(i.Kt,n),e.path.st(n.key.path)?n instanceof co&&fs(e,n)&&(o=o.Ht(n.key,n)):r.done())})).next((function(){return o}))},Ih.prototype.Or=function(t){return new bh(this,!!t&&t.Gr)},Ih.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},Ih.prototype.getMetadata=function(t){return Eh(t).get(tc.key).next((function(t){return xr(!!t),t}))},Ih.prototype.$r=function(t,e){return Eh(t).put(tc.key,e)},Ih.prototype.Br=function(t){return t?(t=mc(this.Kt,t))instanceof ho&&t.version.isEqual(bi.min())?null:t:null},Ih),bh=(d(wh,gh=Ne),wh.prototype.Ti=function(t){var e=this,n=[],r=0,i=new ya((function(t,e){return Vr(t.ot(),e.ot())}));return this.ci.forEach((function(o,s){var a,u=e.Hr.get(o);s._i?(a=bc(e.zr.Kt,s._i,e.ui(o)),i=i.add(o.path.Z()),s=Wc(a),r+=s-u,n.push(e.zr.hi(t,o,a))):(r-=u,e.Gr?(u=bc(e.zr.Kt,new ho(o,bi.min()),e.ui(o)),n.push(e.zr.hi(t,o,u))):n.push(e.zr.fi(t,o)))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),wu.$n(n)},wh.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},wh.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},wh);function wh(t,e){var n=this;return(n=gh.call(this)||this).zr=t,n.Gr=e,n.Hr=new Bc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),n}function Ih(t,e){this.Kt=t,this.Ii=e}function Eh(t){return lc(t,tc.store)}function Th(t){return lc(t,Zu.store)}function _h(t){return t.path.rt()}var Ah=(Sh.prototype.Yn=function(t,e,n,r){var i=this;xr(n<r&&0<=n&&r<=11);var o=new Iu("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore(Gu.store),(s=t).createObjectStore(Wu.store,{keyPath:Wu.keyPath}),s.createObjectStore(Ju.store,{keyPath:Ju.keyPath,autoIncrement:!0}).createIndex(Ju.userMutationsIndex,Ju.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Xu.store),Nh(t),t.createObjectStore(Zu.store));var s,a=wu.resolve();return n<3&&3<=r&&(0!==n&&((s=t).deleteObjectStore(nc.store),s.deleteObjectStore(ec.store),s.deleteObjectStore(rc.store),Nh(t)),a=a.next((function(){return t=o.store(rc.store),e=new rc(0,0,bi.min().G(),0),t.put(rc.key,e);var t,e}))),n<4&&4<=r&&(0!==n&&(a=a.next((function(){return e=t,(n=o).store(Ju.store).os().next((function(t){e.deleteObjectStore(Ju.store),e.createObjectStore(Ju.store,{keyPath:Ju.keyPath,autoIncrement:!0}).createIndex(Ju.userMutationsIndex,Ju.userMutationsKeyPath,{unique:!0});var r=n.store(Ju.store);return t=t.map((function(t){return r.put(t)})),wu.$n(t)}));var e,n}))),a=a.next((function(){t.createObjectStore(oc.store,{keyPath:oc.keyPath})}))),n<5&&5<=r&&(a=a.next((function(){return i.Jr(o)}))),n<6&&6<=r&&(a=a.next((function(){return t.createObjectStore(tc.store),i.Yr(o)}))),n<7&&7<=r&&(a=a.next((function(){return i.Xr(o)}))),n<8&&8<=r&&(a=a.next((function(){return i.Zr(t,o)}))),n<9&&9<=r&&(a=a.next((function(){var n;(n=t).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(Zu.store)).createIndex(Zu.readTimeIndex,Zu.readTimeIndexPath,{unique:!1}),n.createIndex(Zu.collectionReadTimeIndex,Zu.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(a=a.next((function(){return i.eo(o)}))),n<11&&11<=r&&(a=a.next((function(){t.createObjectStore(sc.store,{keyPath:sc.keyPath}),t.createObjectStore(ac.store,{keyPath:ac.keyPath})}))),a},Sh.prototype.Yr=function(t){var e=0;return t.store(Zu.store).ls((function(t,n){e+=Wc(n)})).next((function(){var n=new tc(e);return t.store(tc.store).put(tc.key,n)}))},Sh.prototype.Jr=function(t){var e=this,n=t.store(Wu.store),r=t.store(Ju.store);return n.os().next((function(n){return wu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Ju.userMutationsIndex,i).next((function(r){return wu.forEach(r,(function(r){return xr(r.userId===n.userId),r=_c(e.Kt,r),zc(t,n.userId,r).next((function(){}))}))}))}))}))},Sh.prototype.Xr=function(t){var e=t.store(nc.store),n=t.store(Zu.store);return t.store(rc.store).get(rc.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new wi(n);n=[0,Hu(o)],r.push(e.get(n).next((function(n){return n?wu.resolve():e.put(new nc(0,Hu(o),t.highestListenSequenceNumber))})))})).next((function(){return wu.$n(r)}))}))},Sh.prototype.Zr=function(t,e){function n(t){if(i.add(t)){var e=t.et();return t=t.Z(),r.put({collectionId:e,parent:Hu(t)})}}t.createObjectStore(ic.store,{keyPath:ic.keyPath});var r=e.store(ic.store),i=new Rc;return e.store(Zu.store).ls({hs:!0},(function(t,e){return n((t=new wi(t)).Z())})).next((function(){return e.store(Xu.store).ls({hs:!0},(function(t,e){t[0];var r=t[1];return n((t[2],r=Ku(r)).Z())}))}))},Sh.prototype.eo=function(t){var e=this,n=t.store(ec.store);return n.ls((function(t,r){return r=Ac(r),r=Sc(e.Kt,r),n.put(r)}))},Sh);function Sh(t){this.Kt=t}function Nh(t){t.createObjectStore(nc.store,{keyPath:nc.keyPath}).createIndex(nc.documentTargetsIndex,nc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ec.store,{keyPath:ec.keyPath}).createIndex(ec.queryTargetsIndexName,ec.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(rc.store)}var kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Oh=(Dh.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Kr(Br.FAILED_PRECONDITION,kh);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new hi(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},Dh.prototype.yo=function(t){var e=this;return this.lo=function(n){return v(e,void 0,void 0,(function(){return y(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},Dh.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return v(e,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},Dh.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return v(e,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},Dh.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ch(e).put(new oc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(Du(e))return Or("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Or("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},Dh.prototype.bo=function(t){var e=this;return Ph(t).get(Gu.key).next((function(t){return wu.resolve(e.xo(t))}))},Dh.prototype.No=function(t){return Ch(t).delete(this.clientId)},Dh.prototype.Fo=function(){return v(this,void 0,void 0,(function(){var t,e,n,r,i=this;return y(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=lc(t,oc.store);return e.os().next((function(t){var n=i.ko(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return wu.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Io)for(e=0,n=t;e<n.length;e++)r=n[e],this.Io.removeItem(this.Mo(r.clientId));o.label=2;case 2:return[2]}}))}))},Dh.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},Dh.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},Dh.prototype.So=function(t){var e=this;return this.io?wu.resolve(!0):Ph(t).get(Gu.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new Kr(Br.FAILED_PRECONDITION,kh);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ch(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground;if(t=e.networkEnabled===t.networkEnabled,n||r&&t)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Or("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},Dh.prototype.$o=function(){return v(this,void 0,void 0,(function(){var t=this;return y(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Gu.store,oc.store],(function(e){var n=new hc(e,hi.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},Dh.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},Dh.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ch(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(Dh.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),Dh.prototype.Wo=function(t){return Jc.Ri(t,this.Kt,this.Ii,this.mi)},Dh.prototype.Cr=function(){return this.wo},Dh.prototype.kr=function(){return this.Eo},Dh.prototype.jo=function(){return this.Ii},Dh.prototype.Go=function(){return this.To},Dh.prototype.runTransaction=function(t,e,n){var r=this;Or("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.fo.runTransaction(t,o,cc,(function(o){return i=new hc(o,r.ro?r.ro.next():hi.U),"readwrite-primary"===e?r.bo(i).next((function(t){return!!t||r.So(i)})).next((function(e){if(!e)throw Dr("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.no.vo((function(){return r.lo(!1)})),new Kr(Br.FAILED_PRECONDITION,Fu);return n(i)})).next((function(t){return r.Co(i).next((function(){return t}))})):r.zo(i).next((function(){return n(i)}))})).then((function(t){return i.bs(),t}))},Dh.prototype.zo=function(t){var e=this;return Ph(t).get(Gu.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Kr(Br.FAILED_PRECONDITION,kh)}))},Dh.prototype.Co=function(t){var e=new Gu(this.clientId,this.allowTabSynchronization,Date.now());return Ph(t).put(Gu.key,e)},Dh.Wn=function(){return Eu.Wn()},Dh.prototype.Do=function(t){var e=this,n=Ph(t);return n.get(Gu.key).next((function(t){return e.xo(t)?(Or("IndexedDbPersistence","Releasing primary lease."),n.delete(Gu.key)):wu.resolve()}))},Dh.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Dr("Detected an update time that is in the future: "+t+" > "+n),1))},Dh.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},Dh.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},Dh.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},Dh.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},Dh.prototype.Lo=function(t){try{var e=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return Or("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Dr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},Dh.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(r){Dr("Failed to set zombie client id.",r)}},Dh.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(r){}},Dh.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},Dh);function Dh(t,e,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.no=i,this.window=o,this.document=s,this.so=u,this.io=c,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!Dh.Wn())throw new Kr(Br.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new fh(this,r),this._o=e+"main",this.Kt=new vc(a),this.fo=new Eu(this._o,11,new Ah(this.Kt)),this.wo=new eh(this.mi,this.Kt),this.Ii=new xc,this.Eo=(e=this.Kt,a=this.Ii,new mh(e,a)),this.To=new kc,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===c&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function Ph(t){return lc(t,Gu.store)}function Ch(t){return lc(t,oc.store)}function Rh(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var xh=(qh.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},qh.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},qh.prototype.Xo=function(t,e,n){var r=ma;return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},qh.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},qh.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){r=n.Xo(t,e,r);var i=ma;return r.forEach((function(t,e){e=e||new ho(t,bi.min()),i=i.Ht(t,e)})),i}))},qh.prototype.jr=function(t,e,n){return r=e,Ti.Et(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.ec(t,e.path):is(e)?this.nc(t,e,n):this.sc(t,e,n);var r},qh.prototype.ec=function(t,e){return this.Jo(t,new Ti(e)).next((function(t){var e=Ia;return t instanceof co&&(e=e.Ht(t.key,t)),e}))},qh.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Ia;return this.Ii.Ks(t,i).next((function(s){return wu.forEach(s,(function(s){var a=(a=e,s=s.child(i),new $o(s,null,a.Nt.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},qh.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=Fs(u,h=r.get(c),h,o.Ds);r=h instanceof co?r.Ht(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){fs(e,n)||(r=r.remove(t))})),r}))},qh.prototype.ic=function(t,e,n){for(var r=_a(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof zs&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof co&&(c=c.Ht(t,e))})),c}))},qh),Lh=(Fh.cc=function(t,e){for(var n=_a(),r=_a(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new Fh(t,e.fromCache,n,r)},Fh),Mh=(Uh.prototype.ac=function(t){this.uc=t},Uh.prototype.jr=function(t,e,n,r){var o=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.Nt.length||1===e.Nt.length&&e.Nt[0].field.ht())||n.isEqual(bi.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(s){var a=o.lc(e,s);return(ts(e)||es(e))&&o._c(e.limitType,a,r,n)?o.hc(t,e):(kr()<=i.DEBUG&&Or("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hs(e)),o.uc.jr(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},Uh.prototype.lc=function(t,e){var n=new ya(ls(t));return e.forEach((function(e,r){r instanceof co&&fs(t,r)&&(n=n.add(r))})),n},Uh.prototype._c=function(t,e,n,r){return n.size!==e.size||!!(e="F"===t?e.last():e.first())&&(e.hasPendingWrites||0<e.version.u(r))},Uh.prototype.hc=function(t,e){return kr()<=i.DEBUG&&Or("QueryEngine","Using full collection scan to execute query:",hs(e)),this.uc.jr(t,e,bi.min())},Uh),Vh=(jh.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},jh);function jh(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new ca(Vr),this.wc=new Bc(mo,bo),this.Ec=bi.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new xh(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}function Uh(){}function Fh(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}function qh(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}function Hh(t,e,n,r){return new Vh(t,e,n,r)}function Bh(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o;return y(this,(function(s){switch(s.label){case 0:return r=(n=t).Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(s){return o=s,r=n.persistence.Wo(e),i=new xh(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],s=_a(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];s=s.add(m.key)}}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Kh(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,h=e.batch.keys(),f=n.Tc.Or({Gr:!0});return r=n,i=t,s=f,u=(a=(o=e).batch).keys(),c=wu.resolve(),u.forEach((function(t){c=c.next((function(){return s.di(i,t)})).next((function(e){var n=e;xr(null!==(e=o.ks.get(t))),(!n||n.version.u(e)<0)&&(n=a.Cs(t,n,o))&&s.hi(n,o.Os)}))})),c.next((function(){return r.Ho.Ni(i,a)})).next((function(){return f.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,h)}))}))}function Gh(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function zh(t,e){var n=t,r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach((function(e,o){var a,u,c,h=i.get(o);h&&(s.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)}))),0<(c=e.resumeToken).o()&&(a=h.$t(c,r).Lt(t.Ss),i=i.Ht(o,a),u=h,c=e,xr(0<(h=a).resumeToken.o()),(0===u.resumeToken.o()||3e8<=h.Mt.j()-u.Mt.j()||0<c.Ue.size+c.Qe.size+c.Ke.size)&&s.push(n.wo.Yi(t,a))))}));var a,u=ma;return e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))})),s.push(Wh(t,o,e.Me,r,void 0).next((function(t){u=t}))),r.isEqual(bi.min())||(a=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)})),s.push(a)),wu.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,u)}))})).then((function(t){return n.dc=i,t}))}function Wh(t,e,n,r,i){var o=_a();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=ma;return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof ho&&s.version.isEqual(bi.min())?(e.fi(n,u),o=o.Ht(n,s)):null==a||0<s.version.u(a.version)||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,u),o=o.Ht(n,s)):Or("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Jh(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?(r=i,wu.resolve(r)):n.wo.Ui(t).next((function(i){return r=new ps(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||0<t.Mt.u(r.Mt))&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Xh(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o;return y(this,(function(s){switch(s.label){case 0:i=(r=t).dc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Du(o=s.sent()))throw o;return Or("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Yh(t,e,n){var r=t,i=bi.min(),o=_a();return r.persistence.runTransaction("Execute query","readonly",(function(t){return s=r,a=t,u=ss(e),(void 0!==(s=(c=s).wc.get(u))?wu.resolve(c.dc.get(s)):c.wo.nr(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:bi.min(),n?o:_a())})).next((function(t){return{documents:t,Pc:o}}));var s,a,u,c}))}function $h(t,e){var n=t,r=n.wo;return(t=n.dc.get(e))?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Qh(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.Tc,r=t,t=e.Ec,i=n,o=ma,s=wc(t),t=Th(r),r=IDBKeyRange.lowerBound(s,!0),t.ls({index:Zu.readTimeIndex,range:r},(function(t,e){var n=mc(i.Kt,e);o=o.Ht(n.key,n),s=e.readTime})).next((function(){return{gs:o,readTime:Ic(s)}}));var n,r,i,o,s})).then((function(t){var n=t.gs;return t=t.readTime,e.Ec=t,n}))}function Zh(t){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return t=Th(t),e=bi.min(),t.ls({index:Zu.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(e=Ic(n.readTime)),r.done()})).next((function(){return e}));var e})).then((function(t){e.Ec=t}))]}))}))}var tf,ef,nf=(Ef.prototype.Ls=function(t,e){return wu.resolve(this.bc.get(e))},Ef.prototype.$s=function(t,e){return this.bc.set(e.id,{id:e.id,version:e.version,createTime:Ya(e.createTime)}),wu.resolve()},Ef.prototype.Bs=function(t,e){return wu.resolve(this.vc.get(e))},Ef.prototype.qs=function(t,e){return this.vc.set(e.name,{name:(e=e).name,query:Nc(e.bundledQuery),readTime:Ya(e.readTime)}),wu.resolve()},Ef),rf=(If.prototype.nt=function(){return this.Sc.nt()},If.prototype.ir=function(t,e){e=new of(t,e),this.Sc=this.Sc.add(e),this.Cc=this.Cc.add(e)},If.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},If.prototype.cr=function(t,e){this.Fc(new of(t,e))},If.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},If.prototype.kc=function(t){var e=this,n=new Ti(new wi([])),r=new of(n,t),i=(t=new of(n,t+1),[]);return this.Cc.Ae([r,t],(function(t){e.Fc(t),i.push(t.key)})),i},If.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},If.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},If.prototype.Lc=function(t){var e=new Ti(new wi([])),n=new of(e,t),r=(t=new of(e,t+1),_a());return this.Cc.Ae([n,t],(function(t){r=r.add(t.key)})),r},If.prototype.Mi=function(t){var e=new of(t,0);return null!==(e=this.Sc.Pe(e))&&t.isEqual(e.key)},If),of=(wf.Dc=function(t,e){return Ti.J(t.key,e.key)||Vr(t.$c,e.$c)},wf.xc=function(t,e){return Vr(t.$c,e.$c)||Ti.J(t.key,e.key)},wf),sf=(bf.prototype.Pi=function(t){return wu.resolve(0===this.Ho.length)},bf.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++,0<this.Ho.length&&this.Ho[this.Ho.length-1],n=new pc(i,e,n,r),this.Ho.push(n);for(var o=0,s=r;o<s.length;o++){var a=s[o];this.qc=this.qc.add(new of(a.key,i)),this.Ii.Qs(t,a.key.path.Z())}return wu.resolve(n)},bf.prototype.gi=function(t,e){return wu.resolve(this.Uc(e))},bf.prototype.pi=function(t,e){return e+=1,e=(e=this.Qc(e))<0?0:e,wu.resolve(this.Ho.length>e?this.Ho[e]:null)},bf.prototype.bi=function(){return wu.resolve(0===this.Ho.length?-1:this.Bc-1)},bf.prototype.vi=function(t){return wu.resolve(this.Ho.slice())},bf.prototype.Si=function(t,e){var n=this,r=new of(e,0),i=(e=new of(e,Number.POSITIVE_INFINITY),[]);return this.qc.Ae([r,e],(function(t){t=n.Uc(t.$c),i.push(t)})),wu.resolve(i)},bf.prototype.Di=function(t,e){var n=this,r=new ya(Vr);return e.forEach((function(t){var e=new of(t,0);t=new of(t,Number.POSITIVE_INFINITY),n.qc.Ae([e,t],(function(t){r=r.add(t.$c)}))})),wu.resolve(this.Kc(r))},bf.prototype.xi=function(t,e){var n=e.path,r=n.length+1;e=n,Ti.Et(e)||(e=e.child("")),e=new of(new Ti(e),0);var i=new ya(Vr);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(i=i.add(t.$c)),!0)}),e),wu.resolve(this.Kc(i))},bf.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){null!==(t=e.Uc(t))&&n.push(t)})),n},bf.prototype.Ni=function(t,e){var n=this;xr(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return wu.forEach(e.mutations,(function(i){var o=new of(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},bf.prototype.Fi=function(t){},bf.prototype.Mi=function(t,e){var n=new of(e,0);return n=this.qc.Pe(n),wu.resolve(e.isEqual(n&&n.key))},bf.prototype.ki=function(t){return this.Ho.length,wu.resolve()},bf.prototype.Wc=function(t,e){return this.Qc(t)},bf.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},bf.prototype.Uc=function(t){return(t=this.Qc(t))<0||t>=this.Ho.length?null:this.Ho[t]},bf),af=(mf.prototype.hi=function(t,e,n){var r=e.key,i=(o=this.docs.get(r))?o.size:0,o=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:o,readTime:n}),this.size+=o-i,this.Ii.Qs(t,r.path.Z())},mf.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},mf.prototype.di=function(t,e){return e=this.docs.get(e),wu.resolve(e?e._i:null)},mf.prototype.getEntries=function(t,e){var n=this,r=ma;return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),wu.resolve(r)},mf.prototype.jr=function(t,e,n){for(var r=Ia,i=new Ti(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=(a=o.ce()).key,a=(u=a.value)._i,u=u.readTime;if(!e.path.st(s.path))break;u.u(n)<=0||a instanceof co&&fs(e,a)&&(r=r.Ht(a.key,a))}return wu.resolve(r)},mf.prototype.Gc=function(t,e){return wu.forEach(this.docs,(function(t){return e(t)}))},mf.prototype.Or=function(t){return new uf(this)},mf.prototype.Lr=function(t){return wu.resolve(this.size)},mf),uf=(d(gf,ef=Ne),gf.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),wu.$n(n)},gf.prototype.wi=function(t,e){return this.zr.di(t,e)},gf.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},gf),cf=(yf.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),wu.resolve()},yf.prototype.Wi=function(t){return wu.resolve(this.lastRemoteSnapshotVersion)},yf.prototype.ji=function(t){return wu.resolve(this.Hc)},yf.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),wu.resolve(this.highestTargetId)},yf.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),wu.resolve()},yf.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new th(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},yf.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,wu.resolve()},yf.prototype.Yi=function(t,e){return this.Hi(e),wu.resolve()},yf.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),--this.targetCount,wu.resolve()},yf.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)})),wu.$n(o).next((function(){return i}))},yf.prototype.er=function(t){return wu.resolve(this.targetCount)},yf.prototype.nr=function(t,e){return e=this.zc.get(e)||null,wu.resolve(e)},yf.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),wu.resolve()},yf.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),wu.$n(i)},yf.prototype.Zi=function(t,e){return this.Jc.kc(e),wu.resolve()},yf.prototype.ar=function(t,e){return e=this.Jc.Lc(e),wu.resolve(e)},yf.prototype.Mi=function(t,e){return wu.resolve(this.Jc.Mi(e))},yf),hf=(vf.prototype.start=function(){return Promise.resolve()},vf.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(vf.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),vf.prototype.Vo=function(){},vf.prototype.po=function(){},vf.prototype.jo=function(){return this.Ii},vf.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new sf(this.Ii,this.mi),this.Xc[t.R()]=e),e},vf.prototype.Cr=function(){return this.wo},vf.prototype.kr=function(){return this.Eo},vf.prototype.Go=function(){return this.To},vf.prototype.runTransaction=function(t,e,n){var r=this;Or("MemoryPersistence","Starting transaction:",t);var i=new ff(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},vf.prototype.na=function(t,e){return wu.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},vf),ff=(d(df,tf=f),df),lf=(pf.ra=function(t){return new pf(t)},Object.defineProperty(pf.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Rr()},enumerable:!1,configurable:!0}),pf.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),wu.resolve()},pf.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),wu.resolve()},pf.prototype.Oi=function(t,e){return this.oa.add(e.toString()),wu.resolve()},pf.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},pf.prototype.ta=function(){this.ia=new Set},pf.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return wu.forEach(this.oa,(function(r){var i=Ti.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},pf.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},pf.prototype.Zc=function(t){return 0},pf.prototype.ca=function(t,e){var n=this;return wu.Bn([function(){return wu.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},pf);function pf(t){this.persistence=t,this.sa=new rf,this.ia=null}function df(t){var e=this;return(e=tf.call(this)||this).Ss=t,e}function vf(t,e){var n=this;this.Xc={},this.ro=new hi(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new cf(this),this.Ii=new Cc,this.Eo=(t=this.Ii,new af(t,(function(t){return n.mi.Zc(t)}))),this.Kt=new vc(e),this.To=new nf(this.Kt)}function yf(t){this.persistence=t,this.zc=new Bc(mo,bo),this.lastRemoteSnapshotVersion=bi.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new rf,this.targetCount=0,this.Yc=th.Bi()}function gf(t){var e=this;return(e=ef.call(this)||this).zr=t,e}function mf(t,e){this.Ii=t,this.jc=e,this.docs=new ca(Ti.J),this.size=0}function bf(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new ya(of.Dc)}function wf(t,e){this.key=t,this.$c=e}function If(){this.Sc=new ya(of.Dc),this.Cc=new ya(of.xc)}function Ef(t){this.Kt=t,this.bc=new Map,this.vc=new Map}function Tf(t,e){return"firestore_clients_"+t+"_"+e}function _f(t,e,n){return n="firestore_mutations_"+t+"_"+n,e.A()&&(n+="_"+e.uid),n}function Af(t,e){return"firestore_targets_"+t+"_"+e}var Sf,Nf=(Yf.aa=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Kr(r.error.code,r.error.message)),i?new Yf(t,e,r.state,o):(Dr("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},Yf.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Yf),kf=(Xf.aa=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Kr(n.error.code,n.error.message)),r?new Xf(t,n.state,i):(Dr("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},Xf.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Xf),Of=(Jf.aa=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Aa,o=0;r&&o<n.activeTargetIds.length;++o)r=Bi(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Jf(t,i):(Dr("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},Jf),Df=(Wf.aa=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Wf(e.clientId,e.onlineState):(Dr("SharedClientState","Failed to parse online state: "+t),null)},Wf),Pf=(zf.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},zf.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},zf.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},zf),Cf=(Gf.Wn=function(t){return!(!t||!t.localStorage)},Gf.prototype.start=function(){return v(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,h=this;return y(this,(function(f){switch(f.label){case 0:return[4,this.fa.Ko()];case 1:for(o=f.sent(),t=0,e=o;t<e.length;t++)(n=e[t])!==this._a&&(r=this.getItem(Tf(this.persistenceKey,n)))&&(i=Of.aa(n,r))&&(this.Ta=this.Ta.Ht(i.clientId,i));for(this.pa(),(o=this.storage.getItem(this.ga))&&(s=this.ba(o))&&this.va(s),a=0,u=this.Ia;a<u.length;a++)c=u[a],this.Ea(c);return this.Ia=[],this.window.addEventListener("unload",(function(){return h.$o()})),this.Ir=!0,[2]}}))}))},Gf.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},Gf.prototype.Sa=function(){return this.Da(this.Ta)},Gf.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},Gf.prototype.xa=function(t){this.Na(t,"pending")},Gf.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},Gf.prototype.ka=function(t){var e,n="not-current";return this.Ca(t)&&(!(e=this.storage.getItem(Af(this.persistenceKey,t)))||(e=kf.aa(t,e))&&(n=e.state)),this.Ma.ha(t),this.pa(),n},Gf.prototype.La=function(t){this.Ma.la(t),this.pa()},Gf.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},Gf.prototype.Ba=function(t){this.removeItem(Af(this.persistenceKey,t))},Gf.prototype.qa=function(t,e,n){this.Ua(t,e,n)},Gf.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},Gf.prototype.Ka=function(t){this.Wa(t)},Gf.prototype.ja=function(){this.Ga()},Gf.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},Gf.prototype.getItem=function(t){var e=this.storage.getItem(t);return Or("SharedClientState","READ",t,e),e},Gf.prototype.setItem=function(t,e){Or("SharedClientState","SET",t,e),this.storage.setItem(t,e)},Gf.prototype.removeItem=function(t){Or("SharedClientState","REMOVE",t),this.storage.removeItem(t)},Gf.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Or("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return v(e,void 0,void 0,(function(){var t,e,r,i;return y(this,(function(o){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(t=this.Ja(n.key,n.newValue))return[2,this.Ha(t.clientId,t)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(e=this.Ya(n.key,n.newValue)))return[2,this.Xa(e)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(r=this.Za(n.key,n.newValue)))return[2,this.tu(r)]}else if(n.key===this.ga){if(null!==n.newValue&&(i=this.ba(n.newValue)))return[2,this.va(i)]}else if(n.key===this.Aa)(i=function(t){var e=hi.U;if(null!=t)try{var n=JSON.parse(t);xr("number"==typeof n),e=n}catch(t){Dr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==hi.U&&this.L(i);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(Gf.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),Gf.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},Gf.prototype.Na=function(t,e,n){n=new Nf(this.currentUser,t,e,n),t=_f(this.persistenceKey,this.currentUser,t),this.setItem(t,n.ua())},Gf.prototype.Oa=function(t){t=_f(this.persistenceKey,this.currentUser,t),this.removeItem(t)},Gf.prototype.Wa=function(t){t={clientId:this._a,onlineState:t},this.storage.setItem(this.ga,JSON.stringify(t))},Gf.prototype.Ua=function(t,e,n){var r=Af(this.persistenceKey,t);n=new kf(t,e,n),this.setItem(r,n.ua())},Gf.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},Gf.prototype.za=function(t){return(t=this.Ra.exec(t))?t[1]:null},Gf.prototype.Ja=function(t,e){return t=this.za(t),Of.aa(t,e)},Gf.prototype.Ya=function(t,e){var n=this.Pa.exec(t);return t=Number(n[1]),n=void 0!==n[2]?n[2]:null,Nf.aa(new ei(n),t,e)},Gf.prototype.Za=function(t,e){return t=this.ya.exec(t),t=Number(t[1]),kf.aa(t,e)},Gf.prototype.ba=function(t){return Df.aa(t)},Gf.prototype.Xa=function(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Or("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},Gf.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},Gf.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},Gf.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},Gf.prototype.Da=function(t){var e=Aa;return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},Gf),Rf=(Kf.prototype.xa=function(t){},Kf.prototype.Fa=function(t,e,n){},Kf.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},Kf.prototype.qa=function(t,e,n){this.ou[t]=e},Kf.prototype.La=function(t){this.ru.la(t)},Kf.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},Kf.prototype.Ba=function(t){delete this.ou[t]},Kf.prototype.Sa=function(){return this.ru.activeTargetIds},Kf.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},Kf.prototype.start=function(){return this.ru=new Pf,Promise.resolve()},Kf.prototype.Qa=function(t,e,n){},Kf.prototype.Ka=function(t){},Kf.prototype.$o=function(){},Kf.prototype.q=function(t){},Kf.prototype.ja=function(){},Kf),xf=(Bf.prototype.cu=function(t){},Bf.prototype.$o=function(){},Bf),Lf=(Hf.prototype.cu=function(t){this._u.push(t)},Hf.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},Hf.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},Hf.prototype.uu=function(){Or("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},Hf.prototype.lu=function(){Or("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},Hf.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},Hf),Mf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vf=(qf.prototype.Eu=function(t){this.Tu=t},qf.prototype.Iu=function(t){this.mu=t},qf.prototype.onMessage=function(t){this.Au=t},qf.prototype.close=function(){this.wu()},qf.prototype.send=function(t){this.du(t)},qf.prototype.Ru=function(){this.Tu()},qf.prototype.Pu=function(t){this.mu(t)},qf.prototype.yu=function(t){this.Au(t)},qf),jf=(Ff.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);return Or("RestConnection","Sending: ",i,n),e={},this.Su(e,r),this.Du(t,i,e,n).then((function(t){return Or("RestConnection","Received: ",t),t}),(function(e){throw Pr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},Ff.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},Ff.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},Ff.prototype.vu=function(t,e){return t=Mf[t],this.Vu+"/v1/"+e+":"+t},d(Uf,Sf=Ff),Uf.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new Sr;s.listenOnce(Ir.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case wr.NO_ERROR:var e=s.getResponseJson();Or("Connection","XHR received:",JSON.stringify(e)),i(e);break;case wr.TIMEOUT:Or("Connection",'RPC "'+t+'" timed out'),o(new Kr(Br.DEADLINE_EXCEEDED,"Request time out"));break;case wr.HTTP_ERROR:var n=s.getStatus();Or("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),0<n?(e=s.getResponseJson().error)&&e.status&&e.message?(n=e.status.toLowerCase().replace(/_/g,"-"),n=0<=Object.values(Br).indexOf(n)?n:Br.UNKNOWN,o(new Kr(n,e.message))):o(new Kr(Br.UNKNOWN,"Server responded with status "+s.getStatus())):o(new Kr(Br.UNAVAILABLE,"Connection failed."));break;default:Rr()}}finally{Or("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},Uf.prototype.xu=function(t,e){var n,r=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new dr,o=br();t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I},this.Su(t.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=m().indexOf("Electron/")||0<=(n=m()).indexOf("MSIE ")||0<=n.indexOf("Trident/")||0<=m().indexOf("MSAppHost/")||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(t.httpHeadersOverwriteParam="$httpHeaders"),Or("Connection","Creating WebChannel: "+(r=r.join("")),t);var s=i.createWebChannel(r,t),a=!1,u=!1,c=new Vf({du:function(t){u?Or("Connection","Not sending because WebChannel is closed:",t):(a||(Or("Connection","Opening WebChannel transport."),s.open(),a=!0),Or("Connection","WebChannel sending:",t),s.send(t))},wu:function(){return s.close()}});return(t=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))})(s,Ar.EventType.OPEN,(function(){u||Or("Connection","WebChannel transport opened.")})),t(s,Ar.EventType.CLOSE,(function(){u||(u=!0,Or("Connection","WebChannel transport closed"),c.Pu())})),t(s,Ar.EventType.ERROR,(function(t){u||(u=!0,Pr("Connection","WebChannel transport errored:",t),c.Pu(new Kr(Br.UNAVAILABLE,"The operation could not be completed")))})),t(s,Ar.EventType.MESSAGE,(function(t){var e,n,r,i;u||(xr(!!(e=t.data[0])),(n=e.error||(null===(i=e[0])||void 0===i?void 0:i.error))?(Or("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=ta[r];if(void 0!==t)return ua(t)}(),i=n.message,void 0===t&&(t=Br.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),u=!0,c.Pu(new Kr(t,i)),s.close()):(Or("Connection","WebChannel received:",e),c.yu(e)))})),t(o,Er.STAT_EVENT,(function(t){t.stat===Tr?Or("Connection","Detected buffering proxy"):t.stat===_r&&Or("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Ru()}),0),c},Uf);function Uf(t){var e=this;return(e=Sf.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.I=t.I,e}function Ff(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}function qf(t){this.du=t.du,this.wu=t.wu}function Hf(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}function Bf(){}function Kf(){this.ru=new Pf,this.ou={},this.da=null,this.L=null}function Gf(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new ca(Vr),this.Ir=!1,this.Ia=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.ma=Tf(this.persistenceKey,this._a),this.Aa="firestore_sequence_number_"+this.persistenceKey,this.Ta=this.Ta.Ht(this._a,new Pf),this.Ra=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.ga="firestore_online_state_"+this.persistenceKey,this.Va="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.wa)}function zf(){this.activeTargetIds=Aa}function Wf(t,e){this.clientId=t,this.onlineState=e}function Jf(t,e){this.clientId=t,this.activeTargetIds=e}function Xf(t,e,n){this.targetId=t,this.state=e,this.error=n}function Yf(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function $f(){return"undefined"!=typeof window?window:null}function Qf(){return"undefined"!=typeof document?document:null}function Zf(t){return new Wa(t,!0)}function tl(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return v(o,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return Tl(this)?(Or("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return(e=t).Fh.add(4),[4,yl(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,vl(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new ul(n,r)}var el,nl,rl,il=(dl.prototype.reset=function(){this.ku=0},dl.prototype.$u=function(){this.ku=this.Ou},dl.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);0<i&&Or("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},dl.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},dl.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},dl.prototype.qu=function(){return(Math.random()-.5)*this.ku},dl),ol=(pl.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},pl.prototype.Ju=function(){return 2===this.state},pl.prototype.start=function(){3!==this.state?this.auth():this.Yu()},pl.prototype.stop=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},pl.prototype.Xu=function(){this.state=0,this.zu.reset()},pl.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},pl.prototype.eh=function(t){this.nh(),this.stream.send(t)},pl.prototype.th=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},pl.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},pl.prototype.close=function(t,e){return v(this,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Br.RESOURCE_EXHAUSTED?(Dr(e.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Br.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},pl.prototype.sh=function(){},pl.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new Kr(Br.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},pl.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},pl.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return v(t,void 0,void 0,(function(){return y(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},pl.prototype.oh=function(t){return Or("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},pl.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(Or("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},d(ll,rl=Ne=pl),ll.prototype.ah=function(t){return this.Ku.xu("Listen",t)},ll.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:Rr(),r=e.targetChange.targetIds||[],i=(s=e.targetChange.resumeToken,t.qt?(xr(void 0===s||"string"==typeof s),Fr.fromBase64String(s||"")):(xr(void 0===s||s instanceof Uint8Array),Fr.fromUint8Array(s||new Uint8Array))),o=(a=e.targetChange.cause)&&(u=void 0===(c=a).code?Br.UNKNOWN:ua(c.code),new Kr(u,c.message||"")),s=new Ra(n,r,i,o||null)}else if("documentChange"in e){e.documentChange,(n=e.documentChange).document,n.document.name,n.document.updateTime,r=tu(t,n.document.name),i=Ya(n.document.updateTime);var a=new no({mapValue:{fields:n.document.fields}}),u=(o=new co(r,i,a,{}),n.targetIds||[]),c=n.removedTargetIds||[];s=new Pa(u,c,o.key,o)}else if("documentDelete"in e)e.documentDelete,(n=e.documentDelete).document,r=tu(t,n.document),i=n.readTime?Ya(n.readTime):bi.min(),a=new ho(r,i),o=n.removedTargetIds||[],s=new Pa([],o,a.key,a);else if("documentRemove"in e)e.documentRemove,(n=e.documentRemove).document,r=tu(t,n.document),i=n.removedTargetIds||[],s=new Pa([],i,r,null);else{if(!("filter"in e))return Rr();e.filter,(e=e.filter).targetId,r=new Zs(n=e.count||0),i=e.targetId,s=new Ca(i,r)}return s}(this.Kt,t);return t=function(t){return"targetChange"in t?(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?bi.min():Ya(t.readTime):bi.min()}(t),this.listener.uh(e,t)},ll.prototype.hh=function(t){var e,n,r,i,o={};o.database=ru(this.Kt),o.addTarget=(e=this.Kt,(r=wo(r=(n=t).target)?{documents:cu(e,r)}:{query:hu(e,r)}).targetId=n.targetId,0<n.resumeToken.o()?r.resumeToken=Xa(e,n.resumeToken):0<n.Mt.u(bi.min())&&(r.readTime=Ja(e,n.Mt.G())),r),this.Kt,i=t,(t=null==(t=function(){switch(i.kt){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rr()}}())?null:{"goog-listen-tags":t})&&(o.labels=t),this.eh(o)},ll.prototype.lh=function(t){var e={};e.database=ru(this.Kt),e.removeTarget=t,this.eh(e)},ll),sl=(d(fl,nl=Ne),Object.defineProperty(fl.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),fl.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,nl.prototype.start.call(this)},fl.prototype.sh=function(){this._h&&this.dh([])},fl.prototype.ah=function(t){return this.Ku.xu("Write",t)},fl.prototype.onMessage=function(t){if(xr(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(xr(void 0!==r),n.map((function(t){return function(t,e){var n=t.updateTime?Ya(t.updateTime):Ya(e);return n.isEqual(bi.min())&&(n=Ya(e)),e=null,t.transformResults&&0<t.transformResults.length&&(e=t.transformResults),new Ls(n,e)}(t,r)}))):[]),n=Ya(t.commitTime);return this.listener.wh(n,e)}var r;return xr(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},fl.prototype.Th=function(){var t={};t.database=ru(this.Kt),this.eh(t)},fl.prototype.dh=function(t){var e=this;t={streamToken:this.lastStreamToken,writes:t.map((function(t){return au(e.Kt,t)}))},this.eh(t)},fl),al=(d(hl,el=function(){}),hl.prototype.mh=function(){if(this.Ih)throw new Kr(Br.FAILED_PRECONDITION,"The client has already been terminated.")},hl.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Br.UNAUTHENTICATED&&r.credentials.v(),t}))},hl.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Br.UNAUTHENTICATED&&r.credentials.v(),t}))},hl.prototype.terminate=function(){this.Ih=!1},hl),ul=(cl.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},cl.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,1<=this.Ah&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},cl.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},cl.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},cl.prototype.Vh=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Ph?(Dr(t),this.Ph=!1):Or("OnlineStateTracker",t)},cl.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},cl);function cl(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}function hl(t,e,n){var r=this;return(r=el.call(this)||this).credentials=t,r.Ku=e,r.Kt=n,r.Ih=!1,r}function fl(t,e,n,r,i){var o=this;return(o=nl.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).Kt=r,o._h=!1,o}function ll(t,e,n,r,i){var o=this;return(o=rl.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).Kt=r,o}function pl(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new il(t,e)}function dl(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}function vl(t){return v(this,void 0,void 0,(function(){var e,n;return y(this,(function(r){switch(r.label){case 0:if(!Tl(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function yl(t){return v(this,void 0,void 0,(function(){var e,n;return y(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function gl(t,e){t.Nh.has(e.targetId)||(t.Nh.set(e.targetId,e),El(t)?Il(t):Cl(t).Ju()&&bl(t,e))}function ml(t,e){var n=t;t=Cl(n),n.Nh.delete(e),t.Ju()&&wl(n,e),0===n.Nh.size&&(t.Ju()?t.Zu():Tl(n)&&n.Mh.set("Unknown"))}function bl(t,e){t.Lh.cn(e.targetId),Cl(t).hh(e)}function wl(t,e){t.Lh.cn(e),Cl(t).lh(e)}function Il(t){t.Lh=new La({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Cl(t).start(),t.Mh.yh()}function El(t){return Tl(t)&&!Cl(t).Hu()&&0<t.Nh.size}function Tl(t){return 0===t.Fh.size}function _l(t){t.Lh=void 0}function Al(t,e,n){return v(this,void 0,void 0,(function(){var r,i;return y(this,(function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Ra&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o;return y(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Or("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Sl(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Pa?t.Lh.wn(e):e instanceof Ca?t.Lh.yn(e):t.Lh.In(e),n.isEqual(bi.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Gh(t.Sh)];case 8:return i=o.sent(),0<=n.u(i)?[4,(a=n,(u=(s=t).Lh.pn(a)).Oe.forEach((function(t,e){var n;0<t.resumeToken.o()&&(n=s.Nh.get(e))&&s.Nh.set(e,n.$t(t.resumeToken,a))})),u.ke.forEach((function(t){var e=s.Nh.get(t);e&&(s.Nh.set(t,e.$t(Fr.h,e.Mt)),wl(s,t),e=new ps(e.target,t,1,e.sequenceNumber),bl(s,e))})),s.Ch.Bh(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Or("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,Sl(t,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var s,a,u}))}))}function Sl(t,e,n){return v(this,void 0,void 0,(function(){var r=this;return y(this,(function(i){switch(i.label){case 0:if(!Du(e))throw e;return t.Fh.add(1),[4,yl(t)];case 1:return i.sent(),t.Mh.set("Offline"),n=n||function(){return Gh(t.Sh)},t.fs.vo((function(){return v(r,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return Or("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,vl(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Nl(t,e){return e().catch((function(n){return Sl(t,n,e)}))}function kl(t){return v(this,void 0,void 0,(function(){var e,n,r,i;return y(this,(function(o){switch(o.label){case 0:n=Rl(e=t),r=0<e.xh.length?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!(Tl(e)&&e.xh.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(s=e.Sh,a=r,(u=s).persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===a&&(a=-1),u.Ho.pi(t,a)})))];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e),(t=Rl(t)).Ju()&&t.fh&&t.dh(e.mutations)}(e,i),[3,6]);case 4:return i=o.sent(),[4,Sl(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Ol(e)&&Dl(e),[2]}var s,a,u}))}))}function Ol(t){return Tl(t)&&!Rl(t).Hu()&&0<t.xh.length}function Dl(t){Rl(t).start()}function Pl(t,e){return v(this,void 0,void 0,(function(){var n;return y(this,(function(r){switch(r.label){case 0:return n=t,e?(n.Fh.delete(2),[4,vl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,yl(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Cl(t){var e,n,r,i=this;return t.Qh||(t.Qh=(e=t.Dh,n=t.fs,r={Eu:function(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){return t.Nh.forEach((function(e,n){bl(t,e)})),[2]}))}))}.bind(null,t),Iu:function(t,e){return v(this,void 0,void 0,(function(){return y(this,(function(n){return _l(t),El(t)?(t.Mh.ph(e),Il(t)):t.Mh.set("Unknown"),[2]}))}))}.bind(null,t),uh:Al.bind(null,t)},e.mh(),new ol(n,e.Ku,e.credentials,e.Kt,r)),t.Oh.push((function(e){return v(i,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return e?(t.Qh.Xu(),El(t)?Il(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:n.sent(),_l(t),n.label=3;case 3:return[2]}}))}))}))),t.Qh}function Rl(t){var e,n,r,i=this;return t.Kh||(t.Kh=(e=t.Dh,n=t.fs,r={Eu:function(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){return Rl(t).Th(),[2]}))}))}.bind(null,t),Iu:function(t,e){return v(this,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return e&&Rl(t).fh?[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r;return y(this,(function(i){switch(i.label){case 0:return aa(r=e.code)&&r!==Br.ABORTED?(n=t.xh.shift(),Rl(t).Xu(),[4,Nl(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,kl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ol(t)&&Dl(t),[2]}}))}))}.bind(null,t),Eh:function(t){return v(this,void 0,void 0,(function(){var e,n,r,i;return y(this,(function(o){for(e=Rl(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}.bind(null,t),wh:function(t,e,n){return v(this,void 0,void 0,(function(){var r,i;return y(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=dc.from(r,e,n),[4,Nl(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,kl(t)];case 2:return o.sent(),[2]}}))}))}.bind(null,t)},e.mh(),new sl(n,e.Ku,e.credentials,e.Kt,r)),t.Oh.push((function(e){return v(i,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return e?(t.Kh.Xu(),[4,kl(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:n.sent(),0<t.xh.length&&(Or("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),n.label=4;case 4:return[2]}}))}))}))),t.Kh}function xl(){this.queries=new Bc(cs,us),this.onlineState="Unknown",this.jh=new Set}var Ll=function(){this.Wh=void 0,this.listeners=[]};function Ml(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,s;return y(this,(function(a){switch(a.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ll),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=a.sent(),[3,4];case 3:return s=ju(s=a.sent(),"Initialization of query '"+hs(e.query)+"' failed"),[2,void e.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&jl(n),[2]}}))}))}function Vl(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,s;return y(this,(function(a){return n=t,r=e.query,i=!1,(o=n.queries.get(r))&&0<=(s=o.listeners.indexOf(e))&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function jl(t){t.jh.forEach((function(t){t.next()}))}var Ul=(zl.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ka(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},zl.prototype.onError=function(t){this.Yh.error(t)},zl.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},zl.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},zl.prototype.tl=function(t){if(0<t.docChanges.length)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},zl.prototype.nl=function(t){t=ka.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},zl),Fl=(Gl.prototype.il=function(){return"metadata"in this.payload},Gl),ql=(Kl.prototype.yc=function(t){return tu(this.Kt,t)},Kl.prototype.gc=function(t){return t.metadata.exists?su(this.Kt,t.document,!1):new ho(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},Kl.prototype.Vc=Ya,Kl),Hl=(Bl.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},Bl.prototype.cl=function(t){for(var e=new Map,n=new ql(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],h=(e.get(c)||_a()).add(s);e.set(c,h)}}return e},Bl.prototype.complete=function(){return v(this,void 0,void 0,(function(){var t,e,n,r;return y(this,(function(i){switch(i.label){case 0:return[4,function(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o,s,a,u,c,h,f,l,p;return y(this,(function(d){switch(d.label){case 0:for(i=t,o=_a(),s=ma,a=Ea,u=0,c=n;u<c.length;u++)h=c[u],f=e.yc(h.metadata.name),h.document&&(o=o.add(f)),s=s.Ht(f,e.gc(h)),a=a.Ht(f,e.Vc(h.metadata.readTime));return l=i.Tc.Or({Gr:!0}),[4,Jh(i,ss(Zo(wi.ct("__bundle__/docs/"+r))))];case 1:return p=d.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Wh(t,l,s,bi.min(),a).next((function(e){return l.apply(t),e})).next((function(e){return i.wo.Zi(t,p.targetId).next((function(){return i.wo.sr(t,o,p.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}(this.Sh,new ql(this.Kt),this.documents,this.rl.id)];case 1:t=i.sent(),e=this.cl(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(t,e,n){return void 0===n&&(n=_a()),v(this,void 0,void 0,(function(){var r,i;return y(this,(function(o){switch(o.label){case 0:return[4,Jh(t,ss(Nc(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=t).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Ya(e.readTime);return 0<=r.Mt.u(o)?i.To.qs(t,e):(o=r.$t(Fr.h,o),i.dc=i.dc.Ht(o.targetId,o),i.wo.Yi(t,o).next((function(){return i.wo.Zi(t,r.targetId)})).next((function(){return i.wo.sr(t,n,r.targetId)})).next((function(){return i.To.qs(t,e)})))}))]}}))}))}(this.Sh,r,e.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Uu(Object.assign({},this.progress),t))]}}))}))},Bl);function Bl(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=Wl(t)}function Kl(t){this.Kt=t}function Gl(t,e){this.payload=t,this.byteLength=e}function zl(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}function Wl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Jl=function(t){this.key=t},Xl=function(t){this.key=t},Yl=(Object.defineProperty(ep.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),ep.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Na,i=(e||this)._l,o=(e||this).Ce,s=i,a=!1,u=ts(this.query)&&i.size===this.query.limit?i.last():null,c=es(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var h=i.get(t),f=(f=e instanceof co?e:null)&&(fs(n.query,f)?f:null),l=!!h&&n.Ce.has(h.key),p=!!f&&(f.bt||n.Ce.has(f.key)&&f.hasCommittedMutations);e=!1,h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),e=!0):n.El(h,f)||(r.track({type:2,doc:f}),e=!0,(u&&0<n.ll(f,u)||c&&n.ll(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),e=!0):h&&!f&&(r.track({type:1,doc:h}),e=!0,(u||c)&&(a=!0)),e&&(o=f?(s=s.add(f),p?o.add(t):o.delete(t)):(s=s.delete(t),o.delete(t)))})),ts(this.query)||es(this.query))for(;s.size>this.query.limit;){var h=ts(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{_l:s,wl:r,_c:a,Ce:o}},ep.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},ep.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.ll(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rr()}}var i,o})),this.Tl(n);var s=e?this.Il():[];return e=(n=0===this.hl.size&&this.qe?1:0)!==this.ul,this.ul=n,0!==o.length||e?{snapshot:new ka(this.query,t._l,i,o,t.Ce,0==n,e,!1),ml:s}:{ml:s}},ep.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new Na,Ce:this.Ce,_c:!1},!1)):{ml:[]}},ep.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},ep.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},ep.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=_a(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Xl(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Jl(t))})),n},ep.prototype.Rl=function(t){return this.al=t.Pc,this.hl=_a(),t=this.dl(t.documents),this.Ti(t,!0)},ep.prototype.Pl=function(){return ka.Fe(this.query,this._l,this.Ce,0===this.ul)},ep),$l=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ql=function(t){this.key=t,this.yl=!1},Zl=(Object.defineProperty(tp.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),tp);function tp(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Bc(cs,us),this.Dl=new Map,this.Cl=[],this.xl=new ca(Ti.J),this.Nl=new Map,this.Fl=new rf,this.Ol={},this.kl=new Map,this.Ml=th.qi(),this.onlineState="Unknown",this.Ll=void 0}function ep(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=_a(),this.Ce=_a(),this.ll=ls(t),this._l=new Sa(this.ll)}function np(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o,s;return y(this,(function(a){switch(a.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o;return y(this,(function(s){switch(s.label){case 0:return(i=e.view.dl(n))._c?[4,Yh(t.Sh,e.query,!1).then((function(t){return t=t.documents,e.view.dl(t,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Oe.get(e.targetId),o=e.view.Ti(i,t.$l,o),[2,(lp(t,e.targetId,o.ml),o.snapshot)]}}))}))}(t,e,n,r)},[4,Yh(t.Sh,e,!0)];case 1:return o=a.sent(),s=new Yl(e,o.Pc),i=s.dl(o.documents),o=Da.Be(n,r&&"Offline"!==t.onlineState),o=s.Ti(i,t.$l,o),lp(t,n,o.ml),s=new $l(e,n,s),[2,(t.Sl.set(e,s),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),o.snapshot)]}}))}))}function rp(t,e,n){return v(this,void 0,void 0,(function(){var r,i;return y(this,(function(o){switch(o.label){case 0:i=Ip(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.Sh,h=e,l=c,p=mi.now(),d=h.reduce((function(t,e){return t.add(e.key)}),_a()),l.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return l.Ic.Zo(t,d).next((function(e){f=e;for(var n,r=[],i=0,o=h;i<o.length;i++){var s=o[i],a=(n=s,a=f.get(s.key),void 0!==n.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof co?e.field(o.field):void 0;null!=(s=ms(o.transform,s||null))&&(n=(null==n?new ro:n).set(o.field,s))}return n?n.yt():null}(n.fieldTransforms,a):null);null!=a&&r.push(new zs(s.key,a,function t(e){var n=[];return Pi(e.fields||{},(function(e,r){var i=new Ei([e]);if(eo(r))if(0===(r=t(r.mapValue).fields).length)n.push(i);else for(var o=0,s=r;o<s.length;o++){var a=s[o];n.push(i.child(a))}else n.push(i)})),new Ri(n)}(a.proto.mapValue),Vs.exists(!0)))}return l.Ho.yi(t,p,r,h)}))})).then((function(t){var e=t.Fs(f);return{batchId:t.batchId,ci:e}})))];case 2:return r=o.sent(),i.pl.xa(r.batchId),s=i,a=r.batchId,u=n,c=(c=(c=s.Ol[s.currentUser.R()])||new ca(Vr)).Ht(a,u),s.Ol[s.currentUser.R()]=c,[4,dp(i,r.ci)];case 3:return o.sent(),[4,kl(i.gl)];case 4:return o.sent(),[3,6];case 5:return i=ju(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var s,a,u,c,h,f,l,p,d}))}))}function ip(t,e){return v(this,void 0,void 0,(function(){var n,r;return y(this,(function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,zh(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){(e=n.Nl.get(e))&&(xr(t.Ue.size+t.Qe.size+t.Ke.size<=1),0<t.Ue.size?e.yl=!0:0<t.Qe.size?xr(e.yl):0<t.Ke.size&&(xr(e.yl),e.yl=!1))})),[4,dp(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Hc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function op(t,e,n){var r;((t=t).$l&&0===n||!t.$l&&1===n)&&(r=[],t.Sl.forEach((function(t,n){(n=n.view.zh(e)).snapshot&&r.push(n.snapshot)})),function(t,e){t.onlineState=e;var n=!1;t.queries.forEach((function(t,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zh(e)&&(n=!0)})),n&&jl(t)}(t.Vl,e),r.length&&t.vl.uh(r),t.onlineState=e,t.$l&&t.pl.Ka(e))}function sp(t,e,n){return v(this,void 0,void 0,(function(){var r,i;return y(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.Sh,a=e,(u=s).persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.Ho.gi(t,a).next((function(n){return xr(null!==n),e=n.keys(),u.Ho.Ni(t,n)})).next((function(){return u.Ho.ki(t)})).next((function(){return u.Ic.Zo(t,e)}))})))];case 2:return i=o.sent(),cp(r,e,n),up(r,e),r.pl.Fa(e,"rejected",n),[4,dp(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Hc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function ap(t,e){return v(this,void 0,void 0,(function(){var n,r,i;return y(this,(function(o){switch(o.label){case 0:Tl((n=t).gl)||Or("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(s=n.Sh).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return s.Ho.bi(t)}))];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return i=ju(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(i),[3,4];case 4:return[2]}var s}))}))}function up(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function cp(t,e,n){var r=t,i=r.Ol[r.currentUser.R()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i)}function hp(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||fp(t,e)}))}function fp(t,e){var n=t.xl.get(e);null!==n&&(ml(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),pp(t))}function lp(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Jl?(t.Fl.ir(o.key,e),function(t,e){e=e.key,t.xl.get(e)||(Or("SyncEngine","New document in limbo: "+e),t.Cl.push(e),pp(t))}(t,o)):o instanceof Xl?(Or("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||fp(t,o.key)):Rr()}}function pp(t){for(;0<t.Cl.length&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Ql(e)),t.xl=t.xl.Ht(e,n),gl(t.gl,new ps(ss(Zo(e.path)),n,2,hi.U))}}function dp(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,s;return y(this,(function(a){switch(a.label){case 0:return i=[],o=[],s=[],(r=t).Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){t&&(r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t),t=Lh.cc(a.targetId,t),o.push(t))})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return y(this,(function(c){switch(c.label){case 0:n=t,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return wu.forEach(e,(function(e){return wu.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return wu.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!Du(r=c.sent()))throw r;return Or("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=o[i],s=u.targetId,u.fromCache||(a=n.dc.get(s),u=a.Mt,u=a.Bt(u),n.dc=n.dc.Ht(s,u));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function vp(t,e){return v(this,void 0,void 0,(function(){var n,r;return y(this,(function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(Or("SyncEngine","User change. New user:",e.R()),[4,Bh(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).kl.forEach((function(t){t.forEach((function(t){t.reject(new Kr(Br.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.kl.clear(),n.pl.Qa(e,r.Ac,r.Rc),[4,dp(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function yp(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o;return y(this,(function(s){switch(s.label){case 0:return[4,(a=(i=t).Sh,u=e,h=(c=a).Ho,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return h.Vi(t,u).next((function(e){return e?c.Ic.Zo(t,e):wu.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,kl(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cp(i,e,r||null),up(i,e),i.Sh.Ho.Fi(e)):Rr(),s.label=4;case 4:return[4,dp(i,o)];case 5:return s.sent(),[3,7];case 6:Or("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,h}))}))}function gp(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return y(this,(function(h){switch(h.label){case 0:return wp(n=t),Ip(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,mp(n,r.rt())]);case 1:return i=h.sent(),n.Ll=!0,[4,Pl(n.gl,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)a=s[o],gl(n.gl,a);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],c=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):c=c.then((function(){return hp(n,e),Xh(n.Sh,e,!0)})),ml(n.gl,e)})),[4,c]);case 4:return h.sent(),[4,mp(n,u)];case 5:return h.sent(),(f=n).Nl.forEach((function(t,e){ml(f.gl,e)})),f.Fl.Mc(),f.Nl=new Map,f.xl=new ca(Ti.J),n.Ll=!1,[4,Pl(n.gl,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}var f}))}))}function mp(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,h,f,l,p;return y(this,(function(d){switch(d.label){case 0:n=t,r=[],i=[],o=0,s=e,d.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Dl.get(a))&&0!==c.length?[4,Jh(n.Sh,ss(c[0]))]:[3,7]):[3,13];case 2:u=d.sent(),h=0,f=c,d.label=3;case 3:return h<f.length?(l=f[h],l=n.Sl.get(l),[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r;return y(this,(function(i){switch(i.label){case 0:return[4,Yh((n=t).Sh,e.query,!0)];case 1:return r=i.sent(),r=e.view.Rl(r),[2,(n.$l&&lp(n,e.targetId,r.ml),r)]}}))}))}(n,l)]):[3,6];case 4:(l=d.sent()).snapshot&&i.push(l.snapshot),d.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,$h(n.Sh,a)];case 8:return p=d.sent(),[4,Jh(n.Sh,p)];case 9:return u=d.sent(),[4,np(n,bp(p),a,!1)];case 10:d.sent(),d.label=11;case 11:r.push(u),d.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function bp(t){return Qo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function wp(t){return t.gl.Ch.Bh=ip.bind(null,t),t.gl.Ch.Sn=function(t,e){var n=t;if((t=n.Nl.get(e))&&t.yl)return _a().add(t.key);var r=_a();if(!(e=n.Dl.get(e)))return r;for(var i=0,o=e;i<o.length;i++){var s=o[i];s=n.Sl.get(s),r=r.ye(s.view.fl)}return r}.bind(null,t),t.gl.Ch.$h=function(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,s;return y(this,(function(a){switch(a.label){case 0:return(r=t).pl.qa(e,"rejected",n),s=r.Nl.get(e),(i=s&&s.key)?(o=(o=new ca(Ti.J)).Ht(i,new ho(i,bi.min())),s=_a().add(i),s=new Oa(bi.min(),new Map,new ya(Vr),o,s),[4,ip(r,s)]):[3,2];case 1:return a.sent(),r.xl=r.xl.remove(i),r.Nl.delete(e),pp(r),[3,4];case 2:return[4,Xh(r.Sh,e,!1).then((function(){return hp(r,e,n)})).catch(Hc)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))}.bind(null,t),t.vl.uh=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query;if(a=n.queries.get(a)){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.Wh=s}}r&&jl(n)}.bind(null,t.Vl),t.vl.ql=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.Vl),t}function Ip(t){return t.gl.Ch.qh=function(t,e){return v(this,void 0,void 0,(function(){var n,r,i;return y(this,(function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Kh(n.Sh,e)];case 2:return i=o.sent(),cp(n,r,null),up(n,r),n.pl.Fa(r,"acknowledged"),[4,dp(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Hc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,t),t.gl.Ch.Uh=sp.bind(null,t),t}function Ep(t,e,n){var r=t;(function(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,s,a;return y(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=u.sent(),[4,(f=t.Sh,p=f,d=Ya((l=r).createTime),p.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return p.To.Ls(t,l.id)})).then((function(t){return!!t&&0<=t.createTime.u(d)})))];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n.Ul({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n.Ql(Wl(r)),i=new Hl(r,t.Sh,e.Kt),[4,e.Kl()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.ol(o)]:[3,10];case 7:return(s=u.sent())&&n.Ql(s),[4,e.Kl()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=u.sent(),[4,dp(t,a.gs,void 0)];case 12:return u.sent(),[4,(f=t.Sh,c=r,(h=f).persistence.runTransaction("Save bundle","readwrite",(function(t){return h.To.$s(t,c)})))];case 13:return u.sent(),n.Ul(a.progress),[3,15];case 14:return Pr("SyncEngine","Loading bundle failed with "+(a=u.sent())),n.Wl(a),[3,15];case 15:return[2]}var c,h,f,l,p,d}))}))})(r,e,n).then((function(){r.pl.ja()}))}var Tp,_p,Ap=(Cp.prototype.initialize=function(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return this.Kt=Zf(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},Cp.prototype.Hl=function(t){return null},Cp.prototype.Jl=function(t){return Hh(this.persistence,new Mh,t.Yl,this.Kt)},Cp.prototype.Gl=function(t){return new hf(lf.ra,this.Kt)},Cp.prototype.jl=function(t){return new Rf},Cp.prototype.terminate=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},Cp),Sp=(d(Pp,_p=Ap),Pp.prototype.initialize=function(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,_p.prototype.initialize.call(this,t)];case 1:return e.sent(),[4,Zh(this.Sh)];case 2:return e.sent(),[4,this.Xl.initialize(this,t)];case 3:return e.sent(),[4,Ip(this.Xl.fa)];case 4:return e.sent(),[4,kl(this.Xl.gl)];case 5:return e.sent(),[2]}}))}))},Pp.prototype.Jl=function(t){return Hh(this.persistence,new Mh,t.Yl,this.Kt)},Pp.prototype.Hl=function(t){var e=this.persistence.mi.dr;return new ch(e,t.fs)},Pp.prototype.Gl=function(t){var e=Rh(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Fc.Zs(this.cacheSizeBytes):Fc.ni;return new Oh(this.synchronizeTabs,e,t.clientId,n,t.fs,$f(),Qf(),this.Kt,this.pl,!!this.forceOwnership)},Pp.prototype.jl=function(t){return new Rf},Pp),Np=(d(Dp,Tp=Sp),Dp.prototype.initialize=function(t){return v(this,void 0,void 0,(function(){var e,n=this;return y(this,(function(r){switch(r.label){case 0:return[4,Tp.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.Xl.fa,this.pl instanceof Cf?(this.pl.fa={nu:yp.bind(null,e),su:function(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o,s;return y(this,(function(a){switch(a.label){case 0:return(i=t).Ll?(Or("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Qh(i.Sh)];case 3:return o=a.sent(),s=Oa.$e(e,"current"===n),[4,dp(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Xh(i.Sh,e,!0)];case 6:return a.sent(),hp(i,e,r),[3,8];case 7:Rr(),a.label=8;case 8:return[2]}}))}))}.bind(null,e),iu:function(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,h;return y(this,(function(f){switch(f.label){case 0:if(!(r=wp(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?(o=o[i],r.Dl.has(o)?(Or("SyncEngine","Adding an already active target "+o),[3,5]):[4,$h(r.Sh,o)]):[3,6];case 2:return s=f.sent(),[4,Jh(r.Sh,s)];case 3:return a=f.sent(),[4,np(r,bp(s),a.targetId,!1)];case 4:f.sent(),gl(r.gl,a),f.label=5;case 5:return i++,[3,1];case 6:u=function(t){return y(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Xh(r.Sh,t,!1).then((function(){ml(r.gl,t),hp(r,t)})).catch(Hc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,h=n,f.label=7;case 7:return c<h.length?(h=h[c],[5,u(h)]):[3,10];case 8:f.sent(),f.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,e),Ko:function(t){return t.Sh.persistence.Ko()}.bind(null,e),eu:function(t){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){return[2,Qh((e=t).Sh).then((function(t){return dp(e,t)}))]}))}))}.bind(null,e)},[4,this.pl.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.yo((function(t){return v(n,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,gp(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},Dp.prototype.jl=function(t){var e=$f();if(!Cf.Wn(e))throw new Kr(Br.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rh(t.gu.T,t.gu.persistenceKey);return new Cf(e,t.fs,n,t.clientId,t.Yl)},Dp),kp=(Op.prototype.initialize=function(t,e){return v(this,void 0,void 0,(function(){var n=this;return y(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return op(n.fa,t,1)},this.gl.Ch.s_=vp.bind(null,this.fa),[4,Pl(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},Op.prototype.e_=function(t){return new xl},Op.prototype.Zl=function(t){var e=Zf(t.gu.T),n=(n=t.gu,new jf(n));return t=t.credentials,new al(t,n,e)},Op.prototype.t_=function(t){var e=this;return new tl(this.Sh,this.Dh,t.fs,(function(t){return op(e.fa,t,0)}),t=new(Lf.Wn()?Lf:xf))},Op.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){return o=new Zl(t,e,n,r,i,o),s&&(o.Ll=!0),o}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},Op.prototype.terminate=function(){return function(t){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return e=t,Or("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,yl(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},Op);function Op(){}function Dp(t,e){var n=this;return(n=Tp.call(this,t,e,!1)||this).Xl=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function Pp(t,e,n){var r=this;return(r=_p.call(this)||this).Xl=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function Cp(){this.synchronizeTabs=!1}function Rp(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return v(this,void 0,void 0,(function(){var r;return y(this,(function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]}))}))},cancel:function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){return[2]}))}))},releaseLock:function(){}}}var xp=(Fp.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},Fp.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},Fp.prototype.r_=function(){this.muted=!0},Fp.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},Fp),Lp=(Up.prototype.close=function(){return this.o_.cancel()},Up.prototype.getMetadata=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){return[2,this.metadata.promise]}))}))},Up.prototype.Kl=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},Up.prototype.a_=function(){return v(this,void 0,void 0,(function(){var t,e,n;return y(this,(function(r){switch(r.label){case 0:return[4,this.u_()];case 1:return null===(t=r.sent())?[2,null]:(n=this.c_.decode(t),e=Number(n),isNaN(e)&&this.h_("length string ("+n+") is not valid number"),[4,this.l_(e)]);case 2:return n=r.sent(),[2,new Fl(JSON.parse(n),t.length+e)]}}))}))},Up.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},Up.prototype.u_=function(){return v(this,void 0,void 0,(function(){var t,e;return y(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},Up.prototype.l_=function(t){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},Up.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},Up.prototype.f_=function(){return v(this,void 0,void 0,(function(){var t,e;return y(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},Up),Mp=(jp.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},jp),Vp=function(t){this._methodName=t};function jp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Kr(Br.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Ei(t)}function Up(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new bu,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}function Fp(t){this.observer=t,this.muted=!1}function qp(t,e,n){if(!n)throw new Kr(Br.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Hp(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Kr(Br.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Bp(t,e,n,r){if(!0===e&&!0===r)throw new Kr(Br.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Kp(t){if(!Ti.Et(t))throw new Kr(Br.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Gp(t){if(Ti.Et(t))throw new Kr(Br.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Rr();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function Wp(t,e){if("_delegate"in t&&(t=t._),t instanceof e)return t;if(e.name===t.constructor.name)throw new Kr(Br.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw t=zp(t),new Kr(Br.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}function Jp(t,e){if(e<=0)throw new Kr(Br.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Xp,Yp=(sd.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},sd),$p=new Map,Qp=(Object.defineProperty(od.prototype,"app",{get:function(){if(!this.A_)throw new Kr(Br.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(od.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(od.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),od.prototype.g_=function(t){if(this.T_)throw new Kr(Br.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Yp(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new si;switch(t.type){case"gapi":var e=t.client;return xr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ci(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Kr(Br.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},od.prototype.V_=function(){return this.E_},od.prototype.p_=function(){return this.T_=!0,this.E_},od.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},od.prototype.b_=function(){return(t=$p.get(this))&&(Or("ComponentProvider","Removing Datastore"),$p.delete(this),t.terminate()),Promise.resolve();var t},od),Zp=(Object.defineProperty(id.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(id.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(id.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(id.prototype,"parent",{get:function(){return new ed(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),id.prototype.withConverter=function(t){return new id(this.firestore,t,this.S_)},id),td=(rd.prototype.withConverter=function(t){return new rd(this.firestore,t,this.C_)},rd),ed=(d(nd,Xp=td),Object.defineProperty(nd.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(nd.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(nd.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Zp(this.firestore,null,new Ti(t))},enumerable:!1,configurable:!0}),nd.prototype.withConverter=function(t){return new nd(this.firestore,t,this.D_)},nd);function nd(t,e,n){var r=this;return(r=Xp.call(this,t,e,Zo(n))||this).firestore=t,r.D_=n,r.type="collection",r}function rd(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}function id(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}function od(t,e){this.w_="(lite)",this.E_=new Yp({}),this.T_=!1,t instanceof ti?(this.I_=t,this.m_=new si):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Kr(Br.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ti(t.options.projectId)}(t),this.m_=new ai(e))}function sd(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Kr(Br.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Kr(Br.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Bp("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function ad(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof zr&&(t=t._),qp("collection","path",e),t instanceof Qp)return Gp(n=wi.ct.apply(wi,g([e],r))),new ed(t,null,n);if(!(t instanceof Zp||t instanceof ed))throw new Kr(Br.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gp(n=wi.ct.apply(wi,g([t.path],r)).child(wi.ct(e))),new ed(t.firestore,null,n)}function ud(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof zr&&(t=t._),1===arguments.length&&(e=Lr.t()),qp("doc","path",e),t instanceof Qp)return Kp(n=wi.ct.apply(wi,g([e],r))),new Zp(t,null,new Ti(n));if(!(t instanceof Zp||t instanceof ed))throw new Kr(Br.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kp(n=t.D_.child(wi.ct.apply(wi,g([e],r)))),new Zp(t.firestore,t instanceof ed?t.v_:null,new Ti(n))}function cd(t,e){return t instanceof zr&&(t=t._),e instanceof zr&&(e=e._),(t instanceof Zp||t instanceof ed)&&(e instanceof Zp||e instanceof ed)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function hd(t,e){return t instanceof zr&&(t=t._),e instanceof zr&&(e=e._),t instanceof td&&e instanceof td&&t.firestore===e.firestore&&us(t.C_,e.C_)&&t.v_===e.v_}var fd=(Object.defineProperty(gd.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(gd.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),gd.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},gd.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},gd.prototype.K=function(t){return Vr(this.x_,t.x_)||Vr(this.N_,t.N_)},gd),ld=/^__.*__$/,pd=(yd.prototype.F_=function(t,e){return null!==this.zt?new zs(t,this.data,this.zt,e,this.fieldTransforms):new Gs(t,this.data,e,this.fieldTransforms)},yd),dd=(vd.prototype.F_=function(t,e){return new zs(t,this.data,this.zt,e,this.fieldTransforms)},vd);function vd(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}function yd(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}function gd(t,e){if(!isFinite(t)||t<-90||90<t)throw new Kr(Br.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Kr(Br.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}function md(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Rr()}}var bd=(Object.defineProperty(Ed.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Ed.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),Ed.prototype.M_=function(t){return new Ed(Object.assign(Object.assign({},this.settings),t),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},Ed.prototype.L_=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t);return(e=this.M_({path:e,B_:!1})).q_(t),e},Ed.prototype.U_=function(t){var e;return t=null===(e=this.path)||void 0===e?void 0:e.child(t),(t=this.M_({path:t,B_:!1})).O_(),t},Ed.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},Ed.prototype.K_=function(t){return $d(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},Ed.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},Ed.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},Ed.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(md(this.k_)&&ld.test(t))throw this.K_('Document fields cannot begin and end with "__"')},Ed),wd=(Id.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new bd({k_:t,methodName:e,j_:n,path:Ei.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},Id);function Id(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Zf(t)}function Ed(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}function Td(t){var e=t.p_(),n=Zf(t.I_);return new wd(t.I_,!!e.ignoreUndefinedProperties,n)}function _d(t,e,n,r,i,o){void 0===o&&(o={});var s,a,u=t.G_(o.merge||o.mergeFields?2:0,e,n,i);if(Wd("Data must be an object, but it was:",u,r),r=Gd(r,u),o.merge)s=new Ri(u.zt),a=u.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var l=Jd(e,f[h],n);if(!u.contains(l))throw new Kr(Br.INVALID_ARGUMENT,"Field '"+l+"' is specified in your field mask but missing from your input data.");Qd(c,l)||c.push(l)}s=new Ri(c),a=u.fieldTransforms.filter((function(t){return s.It(t.field)}))}else s=null,a=u.fieldTransforms;return new pd(new no(r),s,a)}var Ad,Sd=(d(Nd,Ad=Vp),Nd.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},Nd.prototype.isEqual=function(t){return t instanceof Nd},Nd);function Nd(){return null!==Ad&&Ad.apply(this,arguments)||this}function kd(t,e,n){return new bd({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Od,Dd,Pd,Cd,Rd=(d(Fd,Cd=Vp),Fd.prototype.z_=function(t){return new Ms(t.path,new Is)},Fd.prototype.isEqual=function(t){return t instanceof Fd},Fd),xd=(d(Ud,Pd=Vp),Ud.prototype.z_=function(t){var e=kd(this,t,!0),n=this.H_.map((function(t){return Kd(t,e)}));return n=new Es(n),new Ms(t.path,n)},Ud.prototype.isEqual=function(t){return this===t},Ud),Ld=(d(jd,Dd=Vp),jd.prototype.z_=function(t){var e=kd(this,t,!0),n=this.H_.map((function(t){return Kd(t,e)}));return n=new Ns(n),new Ms(t.path,n)},jd.prototype.isEqual=function(t){return this===t},jd),Md=(d(Vd,Od=Vp),Vd.prototype.z_=function(t){var e=new Ps(t.Kt,gs(t.Kt,this.J_));return new Ms(t.path,e)},Vd.prototype.isEqual=function(t){return this===t},Vd);function Vd(t,e){var n=this;return(n=Od.call(this,t)||this).J_=e,n}function jd(t,e){var n=this;return(n=Dd.call(this,t)||this).H_=e,n}function Ud(t,e){var n=this;return(n=Pd.call(this,t)||this).H_=e,n}function Fd(){return null!==Cd&&Cd.apply(this,arguments)||this}function qd(t,e,n,r){var i=t.G_(1,e,n);Wd("Data must be an object, but it was:",i,r);var o=[],s=new ro;return Pi(r,(function(t,r){var a=Yd(e,t,n);r instanceof zr&&(r=r._),t=i.U_(a),r instanceof Sd?o.push(a):null!=(t=Kd(r,t))&&(o.push(a),s.set(a,t))})),r=new Ri(o),new dd(s.yt(),r,i.fieldTransforms)}function Hd(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Jd(e,r,n)],u=[i];if(o.length%2!=0)throw new Kr(Br.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Jd(e,o[c])),u.push(o[c+1]);for(var h,f,l,p=[],d=new ro,v=a.length-1;0<=v;--v)Qd(p,a[v])||(h=a[v],(f=u[v])instanceof zr&&(f=f._),l=s.U_(h),f instanceof Sd?p.push(h):null!=(l=Kd(f,l))&&(p.push(h),d.set(h,l)));return i=new Ri(p),new dd(d.yt(),i,s.fieldTransforms)}function Bd(t,e,n,r){return void 0===r&&(r=!1),Kd(n,t.G_(r?4:3,e))}function Kd(t,e){if(t instanceof zr&&(t=t._),zd(t))return Wd("Unsupported field value:",e,t),Gd(t,e);if(t instanceof Vp)return function(t,e){if(!md(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");(t=t.z_(e))&&e.fieldTransforms.push(t)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Kd(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(t instanceof zr&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gs(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=mi.fromDate(t);return{timestampValue:Ja(e.Kt,n)}}if(t instanceof mi)return n=new mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ja(e.Kt,n)};if(t instanceof fd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gr)return{bytesValue:Xa(e.Kt,t.l)};if(t instanceof Zp){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:$a(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+zp(t))}(t,e)}function Gd(t,e){var n={};return Ci(t)?e.path&&0<e.path.length&&e.zt.push(e.path):Pi(t,(function(t,r){null!=(r=Kd(r,e.L_(t)))&&(n[t]=r)})),{mapValue:{fields:n}}}function zd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof mi||t instanceof fd||t instanceof Gr||t instanceof Zp||t instanceof Vp)}function Wd(t,e,n){if(!zd(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=zp(n))?e.K_(t+" a custom object"):e.K_(t+" "+n);var r}function Jd(t,e,n){if(e instanceof zr&&(e=e._),e instanceof Mp)return e.d_;if("string"==typeof e)return Yd(t,e);throw $d("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Xd=new RegExp("[~\\*/\\[\\]]");function Yd(t,e,n){if(0<=e.search(Xd))throw $d("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Mp.bind.apply(Mp,g([void 0],e.split("."))))).d_}catch(r){throw $d("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function $d(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i;return e="Function "+e+"() called with invalid data",n&&(e+=" (via `toFirestore()`)"),n="",(o||s)&&(n+=" (found",o&&(n+=" in field "+r),s&&(n+=" in document "+i),n+=")"),new Kr(Br.INVALID_ARGUMENT,(e+=". ")+t+n)}function Qd(t,e){return t.some((function(t){return t.isEqual(e)}))}var Zd=(iv.prototype.ef=function(t){return v(this,void 0,void 0,(function(){var e,n=this;return y(this,(function(r){switch(r.label){case 0:if(this.nf(),0<this.mutations.length)throw new Kr(Br.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,s;return y(this,(function(a){switch(a.label){case 0:return r=ru((n=t).Kt)+"/documents",i={documents:e.map((function(t){return Za(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return i=a.sent(),o=new Map,i.forEach((function(t){var e;e=n.Kt,t="found"in(t=t)?function(t,e){xr(!!e.found),e.found.name,e.found.updateTime;var n=tu(t,e.found.name);return t=Ya(e.found.updateTime),e=new no({mapValue:{fields:e.found.fields}}),new co(n,t,e,{})}(e,t):"missing"in t?function(t,e){return xr(!!e.missing),xr(!!e.readTime),t=tu(t,e.missing),e=Ya(e.readTime),new ho(t,e)}(e,t):Rr(),o.set(t.key.toString(),t)})),s=[],[2,(e.forEach((function(t){xr(!!(t=o.get(t.toString()))),s.push(t)})),s)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ho||t instanceof co?n.sf(t):Rr()})),e)]}}))}))},iv.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},iv.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},iv.prototype.delete=function(t){this.write(new ra(t,this.Gt(t))),this.tf.add(t.toString())},iv.prototype.commit=function(){return v(this,void 0,void 0,(function(){var t,e=this;return y(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){n=Ti.ft(n),e.mutations.push(new ia(n,e.Gt(n)))})),[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r,i;return y(this,(function(o){switch(o.label){case 0:return r=ru((n=t).Kt)+"/documents",i={writes:e.map((function(t){return au(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},iv.prototype.sf=function(t){var e;if(t instanceof co)e=t.version;else{if(!(t instanceof ho))throw Rr();e=bi.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Kr(Br.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},iv.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Vs.updateTime(e):Vs.Wt()},iv.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(this.tf.has(t.toString())||!e)return Vs.exists(!0);if(e.isEqual(bi.min()))throw new Kr(Br.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vs.updateTime(e)},iv.prototype.write=function(t){this.nf(),this.mutations.push(t)},iv.prototype.nf=function(){},iv),tv=(rv.prototype.run=function(){this.af()},rv.prototype.af=function(){var t=this;this.zu.Bu((function(){return v(t,void 0,void 0,(function(){var t,e,n=this;return y(this,(function(r){return t=new Zd(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},rv.prototype.uf=function(t){try{var e=this.updateFunction(t);return!qi(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},rv.prototype.hf=function(t){var e=this;0<this.cf&&this.lf(t)?(--this.cf,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},rv.prototype.lf=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!aa(t))},rv),ev=(nv.prototype.getConfiguration=function(){return v(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},nv.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},nv.prototype.df=function(){if(this.fs.wf)throw new Kr(Br.FAILED_PRECONDITION,"The client has already been terminated.")},nv.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new bu;return this.fs.Tf((function(){return v(t,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=ju(t=n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}}))}))})),e.promise},nv);function nv(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=ei.UNAUTHENTICATED,this.clientId=Lr.t(),this._f=function(){},this.N=new bu,this.credentials.S((function(t){Or("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}function rv(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new il(this.fs,"transaction_retry")}function iv(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}function ov(t,e){return v(this,void 0,void 0,(function(){var n,r,i=this;return y(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Or("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return v(i,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,Bh(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function sv(t,e){return v(this,void 0,void 0,(function(){var n,r;return y(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,av(t)];case 1:return n=i.sent(),Or("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return v(this,void 0,void 0,(function(){var n,r;return y(this,(function(i){switch(i.label){case 0:return(n=t).fs.Af(),Or("RemoteStore","RemoteStore received new credentials"),r=Tl(n),n.Fh.add(3),[4,yl(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,vl(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function av(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Or("FirestoreClient","Using default OfflineComponentProvider"),[4,ov(t,new Ap)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function uv(t){return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Or("FirestoreClient","Using default OnlineComponentProvider"),[4,sv(t,new kp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function cv(t){return av(t).then((function(t){return t.persistence}))}function hv(t){return av(t).then((function(t){return t.Sh}))}function fv(t){return uv(t).then((function(t){return t.gl}))}function lv(t){return uv(t).then((function(t){return t.fa}))}function pv(t){return v(this,void 0,void 0,(function(){var e,n;return y(this,(function(r){switch(r.label){case 0:return[4,uv(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=function(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,s;return y(this,(function(a){switch(a.label){case 0:return n=wp(t),(s=n.Sl.get(e))?(r=s.targetId,n.pl.ka(r),i=s.view.Pl(),[3,4]):[3,1];case 1:return[4,Jh(n.Sh,ss(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),r=o.targetId,[4,np(n,e,r,"current"===s)];case 3:i=a.sent(),n.$l&&gl(n.gl,o),a.label=4;case 4:return[2,i]}}))}))}.bind(null,e.fa),n.Jh=function(t,e){return v(this,void 0,void 0,(function(){var n,r,i;return y(this,(function(o){switch(o.label){case 0:return r=(n=t).Sl.get(e),1<(i=n.Dl.get(r.targetId)).length?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!us(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Xh(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),ml(n.gl,r.targetId),hp(n,r.targetId)})).catch(Hc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hp(n,r.targetId),[4,Xh(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,e.fa),n)]}}))}))}function dv(t,e,n){var r=this;void 0===n&&(n={});var i=new bu;return t.fs.ys((function(){return v(r,void 0,void 0,(function(){var r;return y(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new xp({next:function(o){e.ys((function(){return Vl(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Kr(Br.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Kr(Br.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Ul(Zo(n.path),o,{includeMetadataChanges:!0,sl:!0});return Ml(t,s)},[4,pv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function vv(t,e,n){var r=this;void 0===n&&(n={});var i=new bu;return t.fs.ys((function(){return v(r,void 0,void 0,(function(){var r;return y(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new xp({next:function(n){e.ys((function(){return Vl(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Kr(Br.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Ul(n,o,{includeMetadataChanges:!0,sl:!0});return Ml(t,s)},[4,pv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var yv,gv=(Object.defineProperty(wv.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),wv.prototype.ys=function(t){this.enqueue(t)},wv.prototype.Tf=function(t){this.Sf(),this.Df(t)},wv.prototype.Ef=function(){var t;this.yf||(this.yf=!0,(t=Qf())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf))},wv.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},wv.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},wv.prototype.Cf=function(){return v(this,void 0,void 0,(function(){var t,e=this;return y(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Du(t=n.sent()))throw t;return Or("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.Pf.length&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},wv.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Dr("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n},wv.prototype.mr=function(t,e,n){var r=this;return this.Sf(),-1<this.bf.indexOf(t)&&(e=0),n=Mu.Is(this,t,e,n,(function(t){return r.xf(t)})),this.gf.push(n),n},wv.prototype.Sf=function(){this.Vf&&Rr()},wv.prototype.Af=function(){},wv.prototype.Nf=function(){return v(this,void 0,void 0,(function(){var t;return y(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},wv.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},wv.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},wv.prototype.kf=function(t){this.bf.push(t)},wv.prototype.xf=function(t){t=this.gf.indexOf(t),this.gf.splice(t,1)},wv),mv=(d(bv,yv=Qp),bv.prototype.b_=function(){return this.Lf||Ev(this),this.Lf.terminate()},bv);function bv(t,e){var n=this;return(n=yv.call(this,t,e)||this).Mf=new gv,n.w_="name"in t?t.name:"[DEFAULT]",n}function wv(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new il(this,"async_queue_retry"),this.vf=function(){var e=Qf();e&&Or("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Qf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}function Iv(t){return t.Lf||Ev(t),t.Lf.df(),t.Lf}function Ev(t){var e,n,r=t.p_();e=t.I_,n=t.w_,r=new Zr(e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling),t.Lf=new ev(t.m_,t.Mf,r)}function Tv(t,e,n){var r=this,i=new bu;return t.fs.enqueue((function(){return v(r,void 0,void 0,(function(){var r;return y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ov(t,n)];case 1:return o.sent(),[4,sv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(o=r=o.sent()).name?o.code===Br.FAILED_PRECONDITION||o.code===Br.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function _v(t){if(t.R_||t.P_)throw new Kr(Br.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}Dv.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Ki(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vi(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(ji(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Rr()}},Dv.prototype.jf=function(t,e){var n=this,r={};return Pi(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},Dv.prototype.Kf=function(t){return new fd(Vi(t.latitude),Vi(t.longitude))},Dv.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},Dv.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){return Ui(e=e.mapValue.fields.__previous_value__)?t(e):e}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Fi(t));default:return null}},Dv.prototype.Bf=function(t){return t=Mi(t),new mi(t.seconds,t.nanos)},Dv.prototype.Gf=function(t,e){var n=wi.ct(t);return xr(gu(n)),t=new ti(n.get(1),n.get(3)),n=new Ti(n.X(5)),t.isEqual(e)||Dr("Document "+n+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),n},f=Dv;var Av,Sv=(Object.defineProperty(Ov.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(Ov.prototype,"ref",{get:function(){return new Zp(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),Ov.prototype.exists=function(){return null!==this.Jf},Ov.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Nv(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},Ov.prototype.get=function(t){if(this.Jf&&null!==(t=this.Jf.data().field(Pv("DocumentSnapshot.get",t))))return this.Hf.$f(t)},Ov),Nv=(d(kv,Av=Sv),kv.prototype.data=function(){return Av.prototype.data.call(this)},kv);function kv(){return null!==Av&&Av.apply(this,arguments)||this}function Ov(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}function Dv(){}function Pv(t,e){return"string"==typeof e?Yd(t,e):(e instanceof zr?e._:e).d_}function Cv(t){if(es(t)&&0===t.Nt.length)throw new Kr(Br.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Rv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r].Yf(t);return t}var xv,Lv,Mv,Vv,jv,Uv=(d(Jv,jv=Ne=function(){}),Jv.prototype.Yf=function(t){var e=Td(t.firestore);return e=function(t,e,n,r,i,o){if(r.ht()){if("array-contains"===i||"array-contains-any"===i)throw new Kr(Br.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){$v(o,i);for(var s=[],a=0,u=o;a<u.length;a++){var c=u[a];s.push(Yv(n,t,c))}h={arrayValue:{values:s}}}else h=Yv(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||$v(o,i),h=Bd(e,"where",o,"in"===i||"not-in"===i);var h=Eo.create(r,i,h);return function(t,e){if(e.xt()){var n=rs(t);if(null!==n&&!n.isEqual(e.field))throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");null!==(n=ns(t))&&Qv(0,e.field,n)}if(null!==(t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw t===e.op?new Kr(Br.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Kr(Br.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,h),h}(t.C_,e,t.firestore.I_,this.Xf,this.Zf,this.td),new td(t.firestore,t.v_,(e=(t=t.C_).filters.concat([e]),new $o(t.path,t.collectionGroup,t.Nt.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)))},Jv),Fv=(d(Wv,Vv=Ne),Wv.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Jo(e,n);return e=r,null!==ns(n=t)||null!==(t=rs(n))&&Qv(0,t,e.field),r}(t.C_,this.Xf,this.ed);return new td(t.firestore,t.v_,(e=(t=t.C_).Nt.concat([e]),new $o(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},Wv),qv=(d(zv,Mv=Ne),zv.prototype.Yf=function(t){return new td(t.firestore,t.v_,as(t.C_,this.nd,this.sd))},zv),Hv=(d(Gv,Lv=Ne),Gv.prototype.Yf=function(t){var e=Xv(t,this.type,this.rd,this.od);return new td(t.firestore,t.v_,(t=t.C_,e=e,new $o(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))},Gv),Bv=(d(Kv,xv=Ne),Kv.prototype.Yf=function(t){var e=Xv(t,this.type,this.rd,this.od);return new td(t.firestore,t.v_,(t=t.C_,e=e,new $o(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))},Kv);function Kv(t,e,n){var r=this;return(r=xv.call(this)||this).type=t,r.rd=e,r.od=n,r}function Gv(t,e,n){var r=this;return(r=Lv.call(this)||this).type=t,r.rd=e,r.od=n,r}function zv(t,e,n){var r=this;return(r=Mv.call(this)||this).type=t,r.nd=e,r.sd=n,r}function Wv(t,e){var n=this;return(n=Vv.call(this)||this).Xf=t,n.ed=e,n.type="orderBy",n}function Jv(t,e,n){var r=this;return(r=jv.call(this)||this).Xf=t,r.Zf=e,r.td=n,r.type="where",r}function Xv(t,e,n,r){if(n[0]instanceof zr&&(n[0]=n[0]._),n[0]instanceof Sv)return function(t,n,r,i){if(!r)throw new Kr(Br.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");for(var o=[],s=0,a=os(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(Yi(n,r.key));else{var c=r.field(u.field);if(Ui(c))throw new Kr(Br.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.ot(),new Kr(Br.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new Ho(o,i)}(t.C_,t.firestore.I_,n[0].Jf,r);var i=Td(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Kr(Br.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!is(t)&&-1!==c.indexOf("/"))throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(wi.ct(c));if(!Ti.Et(h))throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");h=new Ti(h),a.push(Yi(e,h))}else c=Bd(n,r,c),a.push(c)}return new Ho(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Yv(t,e,n){if(n instanceof zr&&(n=n._),"string"==typeof n){if(""===n)throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!is(e)&&-1!==n.indexOf("/"))throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(e=e.path.child(wi.ct(n)),!Ti.Et(e))throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Yi(t,new Ti(e))}if(n instanceof Zp)return Yi(t,n.S_);throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zp(n)+".")}function $v(t,e){if(!Array.isArray(t)||0===t.length)throw new Kr(Br.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Kr(Br.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Qv(t,e,n){if(!n.isEqual(e))throw new Kr(Br.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Zv(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}function ty(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ey,ny,ry,iy=(d(py,ry=f),py.prototype.Uf=function(t){return new Gr(t)},py.prototype.Qf=function(t){return t=this.Gf(t,this.firestore.I_),new Zp(this.firestore,null,t)},py),oy=(ly.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},ly),sy=(d(fy,ny=Sv),fy.prototype.exists=function(){return ny.prototype.exists.call(this)},fy.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new ay(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},fy.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf&&null!==(t=this.Jf.data().field(Pv("DocumentSnapshot.get",t))))return this.Hf.$f(t,e.serverTimestamps)},fy),ay=(d(hy,ey=sy),hy.prototype.data=function(t){return void 0===t&&(t={}),ey.prototype.data.call(this,t)},hy),uy=(Object.defineProperty(cy.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(cy.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(cy.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),cy.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new ay(n.zf,n.Hf,r.key,r,new oy(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},cy.prototype.docChanges=function(t){if(void 0===t&&(t={}),(t=!!t.includeMetadataChanges)&&this.ud.Ne)throw new Kr(Br.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===t||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new ay(t.zf,t.Hf,e.doc.key,e.doc,new oy(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new ay(t.zf,t.Hf,e.doc.key,e.doc,new oy(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rr()}}(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this.ld=t),this.hd},cy);function cy(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new oy(r.hasPendingWrites,r.fromCache),this.query=n}function hy(){return null!==ey&&ey.apply(this,arguments)||this}function fy(t,e,n,r,i,o){var s=this;return(s=ny.call(this,t,e,n,r,o)||this).zf=t,s.ad=t,s.metadata=i,s}function ly(t,e){this.hasPendingWrites=t,this.fromCache=e}function py(t){var e=this;return(e=ry.call(this)||this).firestore=t,e}function dy(t,e){return t instanceof sy&&e instanceof sy?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof uy&&e instanceof uy&&t.zf===e.zf&&hd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var vy,yy=(d(gy,vy=f),gy.prototype.Uf=function(t){return new Gr(t)},gy.prototype.Qf=function(t){return t=this.Gf(t,this.firestore.I_),new Zp(this.firestore,null,t)},gy);function gy(t){var e=this;return(e=vy.call(this)||this).firestore=t,e}function my(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Wp(t,Zp);var o=Wp(t.firestore,mv),s=Td(o);return e instanceof zr&&(e=e._),wy(o,[("string"==typeof e||e instanceof Mp?Hd(s,"updateDoc",t.S_,e,n,r):qd(s,"updateDoc",t.S_,e)).F_(t.S_,Vs.exists(!0))])}function by(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t instanceof zr&&(t=t._);var r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||Zv(e[i])||(r=e[i],i++);var o,s,a,u,c,h,f={includeMetadataChanges:r.includeMetadataChanges};return Zv(e[i])&&(o=e[i],e[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),e[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),e[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),t instanceof Zp?(a=Wp(t.firestore,mv),u=Zo(t.S_.path),h={next:function(n){e[i]&&e[i](Iy(a,t,n))},error:e[i+1],complete:e[i+2]}):(s=Wp(t,td),a=Wp(s.firestore,mv),u=s.C_,c=new yy(a),h={next:function(t){e[i]&&e[i](new uy(a,c,s,t))},error:e[i+1],complete:e[i+2]},Cv(t.C_)),function(t,e,n){var r=this,i=new xp(h),o=new Ul(e,i,n);return t.fs.ys((function(){return v(r,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return e=Ml,[4,pv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.r_(),t.fs.ys((function(){return v(r,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return e=Vl,[4,pv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(Iv(a),u,f)}function wy(t,e){return function(t,e){var n=this,r=new bu;return t.fs.ys((function(){return v(n,void 0,void 0,(function(){var n;return y(this,(function(i){switch(i.label){case 0:return n=rp,[4,lv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Iv(t),e)}function Iy(t,e,n){var r=n.docs.get(e.S_),i=new yy(t);return new sy(t,i,e.S_,r,new oy(n.hasPendingWrites,n.fromCache),e.v_)}var Ey=(Ty.prototype.set=function(t,e,n){return this.Ed(),e=ty((t=_y(t,this.zf)).v_,e,n),n=_d(this.wd,"WriteBatch.set",t.S_,e,null!==t.v_,n),this.fd.push(n.F_(t.S_,Vs.Wt())),this},Ty.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this.Ed(),t=_y(t,this.zf),e instanceof zr&&(e=e._),e="string"==typeof e||e instanceof Mp?Hd(this.wd,"WriteBatch.update",t.S_,e,n,r):qd(this.wd,"WriteBatch.update",t.S_,e),this.fd.push(e.F_(t.S_,Vs.exists(!0))),this},Ty.prototype.delete=function(t){return this.Ed(),t=_y(t,this.zf),this.fd=this.fd.concat(new ra(t.S_,Vs.Wt())),this},Ty.prototype.commit=function(){return this.Ed(),this.dd=!0,0<this.fd.length?this._d(this.fd):Promise.resolve()},Ty.prototype.Ed=function(){if(this.dd)throw new Kr(Br.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Ty);function Ty(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Td(t)}function _y(t,e){if(t instanceof zr&&(t=t._),t.firestore!==e)throw new Kr(Br.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ay,Sy,Ny,ky=(My.prototype.get=function(t){var e=this,n=_y(t,this.zf),r=new iy(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Rr();if((t=t[0])instanceof ho)return new Sv(e.zf,r,n.S_,null,n.v_);if(t instanceof co)return new Sv(e.zf,r,t.key,t,n.v_);throw Rr()}))},My.prototype.set=function(t,e,n){return e=ty((t=_y(t,this.zf)).v_,e,n),n=_d(this.wd,"Transaction.set",t.S_,e,null!==t.v_,n),this.Td.set(t.S_,n),this},My.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t=_y(t,this.zf),e instanceof zr&&(e=e._),e="string"==typeof e||e instanceof Mp?Hd(this.wd,"Transaction.update",t.S_,e,n,r):qd(this.wd,"Transaction.update",t.S_,e),this.Td.update(t.S_,e),this},My.prototype.delete=function(t){return t=_y(t,this.zf),this.Td.delete(t.S_),this},d(Ly,Ny=My),Ly.prototype.get=function(t){var e=this,n=_y(t,this.zf),r=new yy(this.zf);return Ny.prototype.get.call(this,t).then((function(t){return new sy(e.zf,r,n.S_,t.Jf,new oy(!1,!1),n.v_)}))},Ly),Oy=(xy.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_v(t=Wp(t,mv));var n=Iv(t),r=t.p_();return Tv(n,t=new kp,new Sp(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},xy.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_v(t=Wp(t,mv));var e=Iv(t),n=t.p_();return Tv(e,t=new kp,new Np(t,n.cacheSizeBytes))}(t._)},xy.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Kr(Br.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new bu;return t.Mf.Tf((function(){return v(e,void 0,void 0,(function(){var e;return y(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return Eu.Wn()?(e=t+"main",[4,Eu.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Rh(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},xy),Dy=(d(Ry,Sy=zr),Object.defineProperty(Ry.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),Ry.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},Ry.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&Pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},Ry.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return v(e,void 0,void 0,(function(){var e,n;return y(this,(function(r){switch(r.label){case 0:return[4,cv(t)];case 1:return e=r.sent(),[4,fv(t)];case 2:return n=r.sent(),[2,(e.po(!0),(r=n).Fh.delete(0),vl(r))]}}))}))}))}(Iv(Wp(this._,mv)))},Ry.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return v(e,void 0,void 0,(function(){var e,n;return y(this,(function(r){switch(r.label){case 0:return[4,cv(t)];case 1:return e=r.sent(),[4,fv(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return(e=t).Fh.add(0),[4,yl(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Iv(Wp(this._,mv)))},Ry.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Bp("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},Ry.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},Ry.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},Ry.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new bu;return t.fs.ys((function(){return v(e,void 0,void 0,(function(){var e;return y(this,(function(r){switch(r.label){case 0:return e=ap,[4,lv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Iv(Wp(this._,mv)))},Ry.prototype.onSnapshotsInSync=function(t){return t=t,function(t,e){var n=this,r=new xp(e);return t.fs.ys((function(){return v(n,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return e=function(t,e){t.jh.add(e),e.next()},[4,pv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return v(n,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return e=function(t,e){t.jh.delete(e)},[4,pv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Iv(Wp(this._,mv)),Zv(t)?t:{next:t})},Object.defineProperty(Ry.prototype,"app",{get:function(){if(!this.md)throw new Kr(Br.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),Ry.prototype.collection=function(t){try{return new sg(this,ad(this._,t))}catch(t){throw zy(t,"collection()","Firestore.collection()")}},Ry.prototype.doc=function(t){try{return new Hy(this,ud(this._,t))}catch(t){throw zy(t,"doc()","Firestore.doc()")}},Ry.prototype.collectionGroup=function(t){try{return new rg(this,function(t,e){if(t=Wp(t,Qp),qp("collectionGroup","collection id",e),0<=e.indexOf("/"))throw new Kr(Br.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new td(t,null,(e=e,new $o(wi.at(),e)))}(this._,t))}catch(t){throw zy(t,"collectionGroup()","Firestore.collectionGroup()")}},Ry.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new bu;return t.fs.ys((function(){return v(n,void 0,void 0,(function(){var n;return y(this,(function(i){switch(i.label){case 0:return[4,uv(t).then((function(t){return t.Dh}))];case 1:return n=i.sent(),new tv(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Iv(e=this._),(function(r){return r=new ky(e,r),t(new Fy(n,r))}))},Ry.prototype.batch=function(){var t=this;return Iv(this._),new qy(new Ey(this._,(function(e){return wy(t._,e)})))},Ry.prototype.loadBundle=function(t){throw new Kr(Br.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},Ry.prototype.namedQuery=function(t){throw new Kr(Br.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},Ry),Py=(d(Cy,Ay=f),Cy.prototype.Uf=function(t){return new Qr(new Gr(t))},Cy.prototype.Qf=function(t){return t=this.Gf(t,this.firestore.I_),Hy.Ad(t,this.firestore,null)},Cy);function Cy(t){var e=this;return(e=Ay.call(this)||this).firestore=t,e}function Ry(t,e,n){var r=this;return(r=Sy.call(this,e)||this).Id=n,r.INTERNAL={delete:function(){return r.terminate()}},t instanceof ti||(r.md=t),r}function xy(){}function Ly(t,e){var n=this;return(n=Ny.call(this,t,e)||this).zf=t,n}function My(t,e){this.zf=t,this.Td=e,this.wd=Td(t)}var Vy,jy,Uy,Fy=(d(Gy,Uy=zr),Gy.prototype.get=function(t){var e=this;return t=pg(t),this._.get(t).then((function(t){return new eg(e.zf,t)}))},Gy.prototype.set=function(t,e,n){return t=pg(t),n?(Hp("Transaction.set",n),this._.set(t,e,n)):this._.set(t,e),this},Gy.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=pg(t);return 2===arguments.length?this._.update(o,e):(t=this._).update.apply(t,g([o,e,n],r)),this},Gy.prototype.delete=function(t){return t=pg(t),this._.delete(t),this},Gy),qy=(d(Ky,jy=zr),Ky.prototype.set=function(t,e,n){return t=pg(t),n?(Hp("WriteBatch.set",n),this._.set(t,e,n)):this._.set(t,e),this},Ky.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=pg(t);return 2===arguments.length?this._.update(o,e):(t=this._).update.apply(t,g([o,e,n],r)),this},Ky.prototype.delete=function(t){return t=pg(t),this._.delete(t),this},Ky.prototype.commit=function(){return this._.commit()},Ky),Hy=(d(By,Vy=zr),By.Rd=function(t,e,n){if(t.length%2!=0)throw new Kr(Br.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new By(e,new Zp(e._,n,new Ti(t)))},By.Ad=function(t,e,n){return new By(e,new Zp(e._,n,t))},Object.defineProperty(By.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(By.prototype,"parent",{get:function(){return new sg(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(By.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),By.prototype.collection=function(t){try{return new sg(this.firestore,ad(this._,t))}catch(t){throw zy(t,"collection()","DocumentReference.collection()")}},By.prototype.isEqual=function(t){return t instanceof zr&&(t=t._),t instanceof Zp&&cd(this._,t)},By.prototype.set=function(t,e){e=Hp("DocumentReference.set",e);try{return function(t,e,n){t=Wp(t,Zp);var r=Wp(t.firestore,mv);return e=ty(t.v_,e,n),wy(r,[_d(Td(r),"setDoc",t.S_,e,null!==t.v_,n).F_(t.S_,Vs.Wt())])}(this._,t,e)}catch(t){throw zy(t,"setDoc()","DocumentReference.set()")}},By.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?my(this._,t):my.apply(void 0,g([this._,t,e],n))}catch(t){throw zy(t,"updateDoc()","DocumentReference.update()")}},By.prototype.delete=function(){return wy(Wp((t=this._).firestore,mv),[new ra(t.S_,Vs.Wt())]);var t},By.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Wy(e),i=Jy(e,(function(e){return new eg(t.firestore,new sy(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return by(this._,r,i)},By.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wp(t,Zp);var e=Wp(t.firestore,mv),n=Iv(e),r=new yy(e);return function(t,e){var n=this,r=new bu;return t.fs.ys((function(){return v(n,void 0,void 0,(function(){var n;return y(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return v(this,void 0,void 0,(function(){var r,i;return y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=e,(a=t).persistence.runTransaction("read document","readonly",(function(t){return a.Ic.Jo(t,s)})))];case 1:return(i=o.sent())instanceof co?n.resolve(i):i instanceof ho?n.resolve(null):n.reject(new Kr(Br.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ju(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a}))}))},[4,hv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new sy(e,r,t.S_,n,new oy(n instanceof co&&n.bt,!0),t.v_)}))}:"server"===(null==t?void 0:t.source)?function(t){t=Wp(t,Zp);var e=Wp(t.firestore,mv);return dv(Iv(e),t.S_,{source:"server"}).then((function(n){return Iy(e,t,n)}))}:function(t){t=Wp(t,Zp);var e=Wp(t.firestore,mv);return dv(Iv(e),t.S_).then((function(n){return Iy(e,t,n)}))})(this._).then((function(t){return new eg(e.firestore,new sy(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},By.prototype.withConverter=function(t){return new By(this.firestore,this._.withConverter(t))},By);function By(t,e){var n=this;return(n=Vy.call(this,e)||this).firestore=t,n.Hf=new Py(t),n}function Ky(){return null!==jy&&jy.apply(this,arguments)||this}function Gy(t,e){var n=this;return(n=Uy.call(this,e)||this).zf=t,n}function zy(t,e,n){return t.message=t.message.replace(e,n),t}function Wy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Zv(r))return r}return{}}function Jy(t,e){var n;return{next:function(t){n.next&&n.next(e(t))},error:null===(t=(n=Zv(t[0])?t[0]:Zv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}var Xy,Yy,$y,Qy,Zy,tg,eg=(d(lg,tg=zr),Object.defineProperty(lg.prototype,"ref",{get:function(){return new Hy(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(lg.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(lg.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(lg.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),lg.prototype.data=function(t){return this._.data(t)},lg.prototype.get=function(t,e){return this._.get(t,e)},lg.prototype.isEqual=function(t){return dy(this._,t._)},lg),ng=(d(fg,Zy=eg),fg.prototype.data=function(t){return this._.data(t)},fg),rg=(d(hg,Qy=zr),hg.prototype.where=function(t,e,n){try{return new hg(this.firestore,Rv(this._,(r=n,i=e,o=Pv("where",t),new Uv(o,i,r))))}catch(t){throw zy(t,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},hg.prototype.orderBy=function(t,e){try{return new hg(this.firestore,Rv(this._,function(e){void 0===e&&(e="asc");var n=e;return e=Pv("orderBy",t),new Fv(e,n)}(e)))}catch(t){throw zy(t,/(orderBy|where)\(\)/,"Query.$1()")}},hg.prototype.limit=function(t){try{return new hg(this.firestore,Rv(this._,(Jp("limit",e=t),new qv("limit",e,"F"))))}catch(t){throw zy(t,"limit()","Query.limit()")}var e},hg.prototype.limitToLast=function(t){try{return new hg(this.firestore,Rv(this._,(Jp("limitToLast",e=t),new qv("limitToLast",e,"L"))))}catch(t){throw zy(t,"limitToLast()","Query.limitToLast()")}var e},hg.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new hg(this.firestore,Rv(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hv("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw zy(t,"startAt()","Query.startAt()")}},hg.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new hg(this.firestore,Rv(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hv("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw zy(t,"startAfter()","Query.startAfter()")}},hg.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new hg(this.firestore,Rv(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bv("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw zy(t,"endBefore()","Query.endBefore()")}},hg.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new hg(this.firestore,Rv(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bv("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw zy(t,"endAt()","Query.endAt()")}},hg.prototype.isEqual=function(t){return hd(this._,t._)},hg.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wp(t,td);var e=Wp(t.firestore,mv),n=Iv(e),r=new yy(e);return function(t,e){var n=this,r=new bu;return t.fs.ys((function(){return v(n,void 0,void 0,(function(){var n;return y(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o;return y(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Yh(t,e,!0)];case 1:return o=s.sent(),r=new Yl(e,o.Pc),i=r.dl(o.documents),i=r.Ti(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=s.sent(),o=ju(i,"Failed to execute query '"+e+" against cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,hv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new uy(e,r,t,n)}))}:"server"===(null==t?void 0:t.source)?function(t){t=Wp(t,td);var e=Wp(t.firestore,mv),n=Iv(e),r=new yy(e);return vv(n,t.C_,{source:"server"}).then((function(n){return new uy(e,r,t,n)}))}:function(t){t=Wp(t,td);var e=Wp(t.firestore,mv),n=Iv(e),r=new yy(e);return Cv(t.C_),vv(n,t.C_).then((function(n){return new uy(e,r,t,n)}))})(this._).then((function(t){return new og(e.firestore,new uy(e.firestore._,e.Hf,e._,t.ud))}))},hg.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Wy(e),i=Jy(e,(function(e){return new og(t.firestore,new uy(t.firestore._,t.Hf,t._,e.ud))}));return by(this._,r,i)},hg.prototype.withConverter=function(t){return new hg(this.firestore,this._.withConverter(t))},hg),ig=(d(cg,$y=zr),Object.defineProperty(cg.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(cg.prototype,"doc",{get:function(){return new ng(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(cg.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(cg.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),cg),og=(d(ug,Yy=zr),Object.defineProperty(ug.prototype,"query",{get:function(){return new rg(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(ug.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(ug.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(ug.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(ug.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new ng(t.zf,e)}))},enumerable:!1,configurable:!0}),ug.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new ig(e.zf,t)}))},ug.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new ng(n.zf,r))}))},ug.prototype.isEqual=function(t){return dy(this._,t._)},ug),sg=(d(ag,Xy=rg),Object.defineProperty(ag.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(ag.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(ag.prototype,"parent",{get:function(){var t=this._.parent;return t?new Hy(this.firestore,t):null},enumerable:!1,configurable:!0}),ag.prototype.doc=function(t){try{return new Hy(this.firestore,void 0===t?ud(this._):ud(this._,t))}catch(t){throw zy(t,"doc()","CollectionReference.doc()")}},ag.prototype.add=function(t){var e,n,r,i=this;return n=t,t=Wp((e=this._).firestore,mv),r=ud(e),n=ty(e.v_,n),wy(t,[_d(Td(e.firestore),"addDoc",r.S_,n,null!==e.v_,{}).F_(r.S_,Vs.exists(!1))]).then((function(){return r})).then((function(t){return new Hy(i.firestore,t)}))},ag.prototype.isEqual=function(t){return cd(this._,t._)},ag.prototype.withConverter=function(t){return new ag(this.firestore,this._.withConverter(t))},ag);function ag(t,e){var n=this;return(n=Xy.call(this,t,e)||this).firestore=t,n._=e,n}function ug(t,e){var n=this;return(n=Yy.call(this,e)||this).zf=t,n}function cg(t,e){var n=this;return(n=$y.call(this,e)||this).zf=t,n}function hg(t,e){var n=this;return(n=Qy.call(this,e)||this).firestore=t,n.Hf=new Py(t),n}function fg(){return null!==Zy&&Zy.apply(this,arguments)||this}function lg(t,e){var n=this;return(n=tg.call(this,e)||this).zf=t,n}function pg(t){return t instanceof zr&&(t=t._),Wp(t,Zp)}d(bg,vg=zr),bg.documentId=function(){return new bg(Ei.lt().ot())},bg.prototype.isEqual=function(t){return t instanceof zr&&(t=t._),t instanceof Mp&&this._.d_.isEqual(t.d_)},Ne=bg,d(mg,dg=zr),mg.serverTimestamp=function(){var t=new Rd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new mg(t)},mg.delete=function(){var t=new Sd("deleteField");return t._methodName="FieldValue.delete",new mg(t)},mg.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xd("arrayUnion",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayUnion",new mg(n)},mg.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ld("arrayRemove",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayRemove",new mg(n)},mg.increment=function(t){return(t=new Md("increment",t))._methodName="FieldValue.increment",new mg(t)},mg.prototype.isEqual=function(t){return this._.isEqual(t._)},f=mg;var dg,vg,yg=(gg.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},gg.prototype.catch=function(t){return this.yd.promise.catch(t)},gg.prototype.then=function(t,e){return this.yd.promise.then(t,e)},gg.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},gg.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},gg.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)},gg);function gg(){this.Pd={},this.yd=new bu,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function mg(){return null!==dg&&dg.apply(this,arguments)||this}function bg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vg.call(this,new(Mp.bind.apply(Mp,g([void 0],t))))||this}function wg(t,e){var n=new yg;return function(t,n,r){var i,o=this,s=(i=e,n=Zf(n),i=function(t){if(t instanceof Uint8Array)return Rp(t,void 0);if(t instanceof ArrayBuffer)return Rp(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new Lp(i,n));t.fs.ys((function(){return v(o,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return e=Ep,[4,lv(t)];case 1:return e.apply(void 0,[n.sent(),s,r]),[2]}}))}))}))}(Iv(t._),t.I_,n),n}var Ig=(Eg.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},Eg.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},Eg.prototype.setServiceProps=function(t){return this.serviceProps=t,this},Eg);function Eg(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var Tg,_g,Ag={Firestore:Dy,GeoPoint:fd,Timestamp:mi,Blob:Qr,Transaction:Fy,WriteBatch:qy,DocumentReference:Hy,DocumentSnapshot:eg,Query:rg,QueryDocumentSnapshot:ng,QuerySnapshot:og,CollectionReference:sg,FieldPath:Ne,FieldValue:f,setLogLevel:function(t){Nr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(Tg=o.default).INTERNAL.registerComponent(new Ig("firestore",(function(t){var e=t.getProvider("app").getImmediate();return e=e,t=t.getProvider("auth-internal"),new Dy(e,new mv(e,t),new Oy)}),"PUBLIC").setServiceProps(Object.assign({},Ag))),Tg.registerVersion("@firebase/firestore","2.1.1"),(_g=Dy).prototype.loadBundle=function(t){return wg(this,t)},_g.prototype.namedQuery=function(t){return t=t,function(t,e){var n=this;return t.fs.enqueue((function(){return v(n,void 0,void 0,(function(){var n;return y(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=t;return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.To.Bs(t,e)}))},[4,hv(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(Iv((e=this)._),t).then((function(t){return t?new rg(e,new td(e._,null,t.query)):null}));var e}}).apply(this,arguments)}catch(r){throw console.error(r),new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}}(n(40))}).call(this,n(17),n(73))},60:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u}));var r=n(47),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function c(){return"object"===typeof self&&self.self===self}var h=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,f.prototype.create),o}return Object(r.c)(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?l(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new h(i,a,r);return u},t}();function l(t,e){return t.replace(p,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var p=/\{\$([^}]+)}/g;function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295;f=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function v(t,e){var n=new y(t,e);return n.subscribe.bind(n)}var y=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=g),void 0===r.error&&(r.error=g),void 0===r.complete&&(r.complete=g);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function g(){}}).call(this,n(17))},72:function(t,e,n){"use strict";(function(t){var e=n(40);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in n||(n[s]={}),n=n[s]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Pa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Pa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var a=a||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,h=null;function f(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function l(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==p(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function I(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:I).apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now;function A(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function N(t,e,n){this.code=D+t,this.message=e||P[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new N(e.substring(D.length),t.message,t.serverResponse):null}A(N,Error),N.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},N.prototype.toJSON=function(){return this.w()};var O,D="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},C={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in C)if(C[e].id===t)return{firebaseEndpoint:(t=C[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function V(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}O=R("__EID__")?"__EID__":void 0,A(L,Error),L.prototype.name="CustomError",A(M,L),M.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var q=new j((function(){return new B}),(function(t){t.reset()}));function H(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=q.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},J=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function X(t,e){return 0<=K(t,e)}function Y(t,e){var n;return(n=0<=(e=K(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,st=/'/g,at=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ht(t,e){return t<e?-1:t>e?1:0}t:{var ft=u.navigator;if(ft){var lt=ft.userAgent;if(lt){tt=lt;break t}}tt=""}function pt(t){return ct(tt,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function yt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;V("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===_t&&e||"",this.b=Tt}function It(t){return t instanceof wt&&t.constructor===wt&&t.b===Tt?t.a:(V("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,Tt={},_t={};function At(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function St(t,e){this.a=e===Pt?t:""}function Nt(t){return t instanceof St&&t.constructor===St?t.a:(V("expected object of type TrustedResourceUrl, got '"+t+"' of type "+p(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=It(t);if(!Dt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=At();return new St(t=e?e.createScriptURL(t):t,Pt)}(t=n.replace(Ot,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?It(t):encodeURIComponent(String(t))})))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ot=/%{(\w+)}/g,Dt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pt={};function Ct(t,e){this.a=e===Ut?t:""}function Rt(t){return t instanceof Ct&&t.constructor===Ct?t.a:(V("expected object of type SafeUrl, got '"+t+"' of type "+p(t)),"type_error:SafeUrl")}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Vt(t){if(t instanceof Ct)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t))t=new Ct(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&xt.test(e[1])?new Ct(t,Ut):null}return t}function jt(t){return t instanceof Ct?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Ct(t,Ut))}var Ut={},Ft=new Ct("about:invalid#zClosurez",Ut);function qt(t,e,n){this.a=n===Ht?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ht={};function Bt(t,e,n,r){return t=t instanceof Ct?t:jt(t),e=e||u,n=n instanceof wt?It(n):n||"",e.open(Rt(t),n,r,void 0)}function Kt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Gt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(st,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=l;var Wt,Jt=pt("Opera"),Xt=pt("Trident")||pt("MSIE"),Yt=pt("Edge"),$t=Yt||Xt,Qt=pt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),Zt=ct(tt.toLowerCase(),"webkit")&&!pt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Qt?/rv:([^\);]+)(\)|;)/.exec(t):Yt?/Edge\/([\d\.]+)/.exec(t):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Jt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),Xt){var re=te();if(null!=re&&re>parseFloat(ee)){Wt=String(re);break t}}Wt=ee}var ie,oe={};function se(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(Wt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ht(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ht(0==s[2].length,0==a[2].length)||ht(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(u.document&&Xt){var ae=te();ie=ae||(parseInt(Wt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ls){}var ce=!Xt||9<=Number(ue);function he(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function fe(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||y(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(y(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){s="function"==typeof o.item;break t}}s=!1}G(s?Z(o):o,r)}}}function ye(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){u.setTimeout((function(){throw t}),0)}function me(t,e){pe||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);pe=function(){t.then(Ie)}}else pe=function(){var t=Ie;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!pt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(le||(le=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(t=function(){var t=ye(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!pt("Trident")&&!pt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),le(t)):u.setImmediate(t)}}(),be||(pe(),be=!0),we.add(t,e)}var be=!1,we=new F;function Ie(){for(var t;t=H();){try{t.a.call(t.b)}catch(e){ge(e)}U(q,t)}be=!1}function Ee(t,e){if(this.a=Te,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=l)try{var n=this;t.call(e,(function(t){Me(n,_e,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Me(n,Ae,t)}))}catch(r){Me(this,Ae,r)}}var Te=0,_e=2,Ae=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ne=new j((function(){return new Se}),(function(t){t.reset()}));function ke(t,e,n){var r=Ne.get();return r.g=t,r.b=e,r.f=n,r}function Oe(t){if(t instanceof Ee)return t;var e=new Ee(l);return Me(e,_e,t),e}function De(t){return new Ee((function(e,n){n(t)}))}function Pe(t,e,n){Ve(t,e,n,null)||me(T(e,t))}function Ce(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],T(i,o,!0),T(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==Te)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Te&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Fe(n,i,Ae,e)))}t.c=null}else Me(t,Ae,e)}function xe(t,e){t.b||t.a!=_e&&t.a!=Ae||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=ke(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,xe(t,i),i.a}function Me(t,e,n){t.a==Te&&(t===n&&(e=Ae,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ve(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,je(t),e!=Ae||n instanceof Be||function(t,e){t.g=!0,me((function(){t.g&&He.call(null,e)}))}(t,n)))}function Ve(t,e,n,r){if(t instanceof Ee)return xe(t,ke(e||l,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function je(t){t.i||(t.i=!0,me(t.fc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ae&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(i){He.call(null,i)}U(Ne,e)}function qe(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return Le(this,v(t)?t:null,v(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(n=Ee.prototype).na=function(t,e){return(t=ke(t,t,e)).c=!0,xe(this,t),this},n.o=function(t,e){return Le(this,null,t,e)},n.cancel=function(t){if(this.a==Te){var e=new Be(t);me((function(){Re(this,e)}),this)}},n.Zc=function(t){this.a=Te,Me(this,_e,t)},n.$c=function(t){this.a=Te,Me(this,Ae,t)},n.fc=function(){for(var t;t=Ue(this);)Fe(this,t,this.a,this.h);this.i=!1};var He=ge;function Be(t){L.call(this,t)}function Ke(){0!=Ge&&(ze[g(this)]=this),this.xa=this.xa,this.oa=this.oa}A(Be,L),Be.prototype.name="cancel";var Ge=0,ze={};function We(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ge)){var e=g(t);if(0!=Ge&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}Ke.prototype.xa=!1,Ke.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Je=Object.freeze||function(t){return t},Xe=!Xt||9<=Number(ue),Ye=Xt&&!se("9"),$e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",l,e),u.removeEventListener("test",l,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},A(Ze,Qe);var tn=Je({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++nn,this.va=this.Oa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function sn(t){this.src=t,this.a={},this.b=0}function an(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}sn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=un(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new rn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),hn={};function fn(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else n=En(n),t&&t[en]?_n(t,e,n,y(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=y(i)?!!i.capture:!!i,a=wn(t);if(a||(t[cn]=a=new sn(t)),!(n=a.add(e,n,r,s,o)).proxy){if(r=function(){var t=bn,e=Xe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=En(n),t&&t[en]?An(t,e,n,y(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])an(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(an(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function yn(t){return t in hn?hn[t]:hn[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Xe){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof sn?t:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return v(t)?t:(t[In]||(t[In]=function(e){return t.handleEvent(e)}),t[In])}function Tn(){Ke.call(this),this.v=new sn(this),this.$b=this,this.fb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function An(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Sn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&an(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Nn(t,e,n){if(v(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function kn(t){var e=null;return new Ee((function(n,r){-1==(e=Nn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function On(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Dn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Cn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}A(Tn,Ke),Tn.prototype[en]=!0,Tn.prototype.addEventListener=function(t,e,n,r){fn(this,t,e,n,r)},Tn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},Tn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"===typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;mt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Sn(s,r,!0,t)&&i}if(i=Sn(s=t.b=n,r,!0,t)&&i,i=Sn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Sn(s=t.b=e[o],r,!1,t)&&i;return i},Tn.prototype.Da=function(){if(Tn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.fb=null},(n=Pn.prototype).V=function(){Cn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Cn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},n.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof Ln?(this.h=void 0!==e?e:t.h,Mn(this,t.f),this.l=t.l,this.a=t.a,Vn(this,t.g),this.c=t.c,jn(this,rr(t.b)),this.i=t.i):t&&(n=String(t).match(xn))?(this.h=!!e,Mn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Vn(this,n[4]),this.c=Bn(n[5]||"",!0),jn(this,n[6]||"",!0),this.i=Bn(n[7]||"")):(this.h=!!e,this.b=new $n(null,this.h))}function Mn(t,e,n){t.f=n?Bn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Vn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.h)):(n||(e=Kn(e,Xn)),t.b=new $n(e,t.h))}function Un(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function qn(t){return t instanceof Ln?new Ln(t):new Ln(t,void 0)}function Hn(t,e,n,r){var i=new Ln(null,void 0);return t&&Mn(i,t),e&&(i.a=e),n&&Vn(i,n),r&&(i.c=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Gn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ln.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Kn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Kn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kn(n,"/"==n.charAt(0)?Jn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Kn(n,Yn)),t.join("")},Ln.prototype.resolve=function(t){var e=new Ln(this),n=!!t.f;n?Mn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Vn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?jn(e,rr(t.b)):n=!!t.i,n&&(e.i=t.i),e};var zn=/[#\/\?@]/g,Wn=/[#\?:]/g,Jn=/[#\?]/g,Xn=/[#\?@]/g,Yn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=Dn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=On(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Qn(t),e=ir(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Cn(t)))}function er(t,e){return Qn(t),e=ir(t,e),Rn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Z(n)),t.b+=n.length)}function rr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new Pn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return ar(new sr,t,e),e.join("")}function sr(){}function ar(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ar(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),hr(r,n),n.push(":"),ar(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":hr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(n=$n.prototype).add=function(t,e){Qn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},n.Y=function(){Qn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.V=function(t){Qn(this);var e=[];if("string"===typeof t)er(this,t)&&(e=Q(e,this.a.get(ir(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},n.set=function(t,e){return Qn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function fr(){var t=Pr();return Xt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function lr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||u.window;var n="about:blank";t&&(n=Rt(Vt(t)||Ft)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yr(t){t=t||u.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),kr(Pr())==Sr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ct?n:Vt("undefined"!=typeof n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(s=ye(document,"A"),"HTMLAnchorElement"),e=e instanceof Ct?e:jt(e),s.href=Rt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Bt("",r,n,s),t=Rt(e),s&&($t&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Gt(t)+'">',t=new qt(t=(r=At())?r.createHTML(t):t,null,Ht),r=s.document)&&(r.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(V("expected object of type SafeHtml, got '"+t+"' of type "+p(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Bt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ee((function(e){"complete"==u.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function Ir(t){return t=t||Pr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Tr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function _r(){return e.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.default.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Ar(){var t=_r();return"ReactNative"===t||"Node"===t}var Sr="Firefox",Nr="Chrome";function kr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Sr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Nr:"Safari"}var Or={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Dr(t,e){e=e||[];var n,r=[],i={};for(n in Or)i[Or[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=_r())?r=kr(i=Pr()):"Worker"===r&&(r=kr(i=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return u.navigator&&u.navigator.userAgent||""}function Cr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=u.localStorage,e=qr();if(t)return t.setItem(e,"1"),t.removeItem(e),!fr()||!!u.indexedDB}catch(n){return Tr()&&!!u.indexedDB}return!1}function xr(){return(Lr()||"chrome-extension:"===Mr()||Ir())&&!Ar()&&Rr()&&!Tr()}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return u.location&&u.location.protocol||null}function Vr(t){return!vr(t=t||Pr())&&kr(t)!=Sr}function jr(t){return"undefined"===typeof t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function qr(t){return t||Math.floor(1e9*Math.random()).toString()}function Hr(t){return"Safari"!=kr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Kr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=_r(),this.b=vr(t)||"ReactNative"===e}function Gr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Wr(){return!(!Cr("fireauth.oauthhelper",u)&&!Cr("fireauth.iframe",u))}Kr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Lr()&&"chrome-extension:"!==Mr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Jr,Xr={};function Yr(t){Xr[t]||(Xr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Jr=2==$r.abcd}catch(ls){Jr=!1}function Qr(t,e,n){Jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[ai]?"phone":null);if(!(e&&t&&t[si]))throw new N("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[si]),Qr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(n){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",si="mfaEnrollmentId",ai="phoneInfo";function ui(t){ni.call(this,t),Qr(this,"phoneNumber",t[ai])}function ci(t){var e={},n=t[pi],r=t[vi],i=t[yi];if(t=ri(t[di]),!i||i!=fi&&i!=li&&!n||i==li&&!r||i==hi&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[mi]=n||null,e[wi]=n||null,e[gi]=r):(e[mi]=r||null,e[wi]=r||null,e[gi]=n||null),e[bi]=t||null,Qr(this,Ei,i),Qr(this,Ii,ei(e))}A(ui,ni),ui.prototype.w=function(){var t=ui.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var hi="REVERT_SECOND_FACTOR_ADDITION",fi="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",pi="email",di="mfaInfo",vi="newEmail",yi="requestType",gi="email",mi="fromEmail",bi="multiFactorInfo",wi="previousEmail",Ii="data",Ei="operation";function Ti(t){var e=Fn(t=qn(t),_i)||null,n=Fn(t,Ai)||null,r=Fn(t,ki)||null;if(r=r&&Di[r]||null,!e||!n||!r)throw new N("argument-error",_i+", "+Ai+"and "+ki+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Si)||null,languageCode:Fn(t,Ni)||null,tenantId:Fn(t,Oi)||null})}var _i="apiKey",Ai="oobCode",Si="continueUrl",Ni="languageCode",ki="mode",Oi="tenantId",Di={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:fi,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new Ti(t)}catch(e){return null}}function Ci(t){var e=t[Vi];if("undefined"===typeof e)throw new N("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new N("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"===typeof n){e=n[Fi];var r=n[ji];if(n=n[Ui],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new N("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new N("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new N("argument-error",Fi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new N("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new N("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Mi])&&"object"===typeof e){if("string"===typeof(e=e[qi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new N("argument-error",qi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new N("argument-error",Mi+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Li])&&"boolean"!==typeof e)throw new N("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[xi])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new N("argument-error",xi+" property must be a non empty string when specified.");this.h=t||null}var Ri="android",xi="dynamicLinkDomain",Li="handleCodeInApp",Mi="iOS",Vi="url",ji="installApp",Ui="minimumVersion",Fi="packageName",qi="bundleId";function Hi(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var Bi=null;function Ki(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Bi){Bi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Gi(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function zi(t){try{return new Gi(t)}catch(e){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Ki(t))}catch(r){}return null}Gi.prototype.S=function(){return this.f},Gi.prototype.l=function(){return this.c},Gi.prototype.toString=function(){return this.i};var Ji="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xi=["client_id","response_type","scope","redirect_uri","state"],Yi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Xi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Xi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Xi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Ji},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function $i(t){for(var e in Yi)if(Yi[e].fa==t)return Yi[e];return null}function Qi(t){var e={};e["facebook.com"]=ro,e["google.com"]=oo,e["github.com"]=io,e["twitter.com"]=so;var n=t&&t[to];try{if(n)return e[n]?new e[n](t):new no(t);if("undefined"!==typeof t[Zi])return new eo(t)}catch(r){}return null}var Zi="idToken",to="providerId";function eo(t){var e=t[to];if(!e&&t[Zi]){var n=zi(t[Zi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function no(t){eo.call(this,t),Qr(this,"profile",ei((t=Fr(t.rawUserInfo||"{}"))||{}))}function ro(t){if(no.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(no.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function oo(t){if(no.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(t){if(no.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function ao(t){var e=qn(t),n=Fn(e,"link"),r=Fn(qn(n),"link");return e=Fn(e,"deep_link_id"),Fn(qn(e),"link")||e||r||n||t}function uo(t,e){if(!t&&!e)throw new N("internal-error","Internal assert: no raw session string available");if(t&&e)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?co:ho}A(no,eo),A(ro,no),A(io,no),A(oo,no),A(so,no);var co="enroll",ho="signin";function fo(){}function lo(t,e){return t.then((function(t){if(t[na]){var n=zi(t[na]);if(!n||e!=n.h)throw new N("user-mismatch");return t}throw new N("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==D+"user-not-found"?new N("user-mismatch"):t}))}function po(t,e){if(!e)throw new N("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function vo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function yo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new po(t.providerId,t.pendingToken)}catch(e){}return null}function go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new N("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function bo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new go(t.providerId,e,t.signInMethod)}catch(n){}}return null}function wo(t,e){this.Pc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=($i(t)||{}).Ja||null,this.nb=null}function Io(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');wo.call(this,t,[])}function Eo(t){wo.call(this,t,Xi),this.a=[]}function To(){Eo.call(this,"facebook.com")}function _o(t){if(!t)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function Ao(){Eo.call(this,"github.com")}function So(t){if(!t)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Ao).credential({accessToken:e})}function No(){Eo.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new No).credential({idToken:n,accessToken:e})}function Oo(){wo.call(this,"twitter.com",Ji)}function Do(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function Po(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new Po(t.email,t.password,t.signInMethod):null}function Ro(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=Lo(e)))throw new N("argument-error","Invalid email link!");return new Po(t,e.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(t){return(t=Pi(t=ao(t)))&&t.operation===fi?t:null}function Mo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new N("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Vo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Mo(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Uo(t){try{this.a=t||e.default.auth()}catch(n){throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new N("missing-verification-id");if(!e)throw new N("missing-verification-code");return new Mo({cb:t,bb:e})}function qo(t){if(t.temporaryProof&&t.phoneNumber)return new Mo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return _o(n);case"github.com":return So(n);case"twitter.com":return Do(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new po(e,s):new go(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Eo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Ho(t){if(!t.isOAuthProvider)throw new N("invalid-oauth-provider")}function Bo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=s||null,this.a=i||null,!this.g&&!this.a)throw new N("invalid-auth-event");if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}function Ko(t){return(t=t||{}).type?new Bo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Go(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?Oe(this.a):Oe(this.b)},uo.prototype.w=function(){return this.type==co?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},fo.prototype.ja=function(){},fo.prototype.b=function(){},fo.prototype.c=function(){},fo.prototype.w=function(){},po.prototype.ja=function(t){return _a(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Aa(t,n)},po.prototype.c=function(t,e){return lo(Sa(t,vo(this)),e)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ja=function(t){return _a(t,mo(this))},go.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,Aa(t,n)},go.prototype.c=function(t,e){return lo(Sa(t,mo(this)),e)},go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},wo.prototype.Ka=function(t){return this.Hb=yt(t),this},A(Io,wo),A(Eo,wo),Eo.prototype.Ca=function(t){return X(this.a,t)||this.a.push(t),this},Eo.prototype.Pb=function(){return Z(this.a)},Eo.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},A(To,Eo),Qr(To,"PROVIDER_ID","facebook.com"),Qr(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),A(Ao,Eo),Qr(Ao,"PROVIDER_ID","github.com"),Qr(Ao,"GITHUB_SIGN_IN_METHOD","github.com"),A(No,Eo),Qr(No,"PROVIDER_ID","google.com"),Qr(No,"GOOGLE_SIGN_IN_METHOD","google.com"),A(Oo,wo),Qr(Oo,"PROVIDER_ID","twitter.com"),Qr(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Po.prototype.ja=function(t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?au(t,xa,{email:this.a,oobCode:this.f}):au(t,nu,{email:this.a,password:this.f})},Po.prototype.b=function(t,e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?au(t,La,{idToken:e,email:this.a,oobCode:this.f}):au(t,Ja,{idToken:e,email:this.a,password:this.f})},Po.prototype.c=function(t,e){return lo(this.ja(t),e)},Po.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Ro,{PROVIDER_ID:"password"}),Zr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mo.prototype.ja=function(t){return t.eb(jo(this))},Mo.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,au(t,iu,n)},Mo.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",lo(t=au(t,ou,n),e)},Mo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Uo.prototype.eb=function(t,e){var n=this.a.a;return Oe(e.verify()).then((function(r){if("string"!==typeof r)throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=y(t)?t.session:null,o=y(t)?t.phoneNumber:t;return(i&&i.type==co?i.Ha().then((function(t){return function(t,e){return au(t,Ya,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ho?i.Ha().then((function(e){return function(t,e){return au(t,$a,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return au(t,za,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Uo,{PROVIDER_ID:"phone"}),Zr(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Bo.prototype.S=function(){return this.i},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var zo,Wo=null;function Jo(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Kt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Kt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",N.call(this,e,n)}function Xo(t,e,n){N.call(this,t,n),(t=e||{}).Ib&&Qr(this,"email",t.Ib),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.Yb&&Qr(this,"tenantId",t.Yb)}function Yo(t){if(t.code){var e=t.code||"";0==e.indexOf(D)&&(e=e.substring(D.length));var n={credential:qo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new N(e,t.message||void 0);return new Xo(e,n,t.message)}return null}function $o(){}function Qo(t){return t.c||(t.c=t.b())}function Zo(){}function ts(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function es(){}function ns(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.pc,this),this.a.onerror=E(this.Rb,this),this.a.onprogress=E(this.qc,this),this.a.ontimeout=E(this.uc,this)}function rs(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function is(t,e,n){this.reset(t,e,n,void 0,void 0)}A(Jo,N),A(Xo,N),Xo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Xo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,A(Zo,$o),Zo.prototype.a=function(){var t=ts(this);return t?new ActiveXObject(t):new XMLHttpRequest},Zo.prototype.b=function(){var t={};return ts(this)&&(t[0]=!0,t[1]=!0),t},zo=new Zo,A(es,$o),es.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ns;throw Error("Unsupported browser")},es.prototype.b=function(){return{}},(n=ns.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,rs(this,4)},n.Rb=function(){this.status=500,this.response=this.responseText="",rs(this,4)},n.uc=function(){this.Rb()},n.qc=function(){this.status=200,rs(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},is.prototype.a=null;function os(t){this.f=t,this.b=this.c=this.a=null}function ss(t,e){this.name=t,this.value=e}is.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||_(),delete this.a},ss.prototype.toString=function(){return this.name};var as=new ss("SEVERE",1e3),us=new ss("WARNING",900),cs=new ss("CONFIG",700),hs=new ss("FINE",500);function fs(t){return t.c?t.c:t.a?fs(t.a):(V("Root logger has no level set."),null)}os.prototype.log=function(t,e,n){if(t.value>=fs(this).value)for(v(e)&&(e=e()),t=new is(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ls,ps={},ds=null;function vs(t){var e;if(ds||(ds=new os(""),ps[""]=ds,ds.c=cs),!(e=ps[t])){e=new os(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=vs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ps[t]=e}return e}function ys(t,e){t&&t.log(hs,e,void 0)}function gs(t){this.f=t}function ms(t){Tn.call(this),this.u=t,this.i=void 0,this.readyState=bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=vs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}A(gs,$o),gs.prototype.a=function(){return new ms(this.f)},gs.prototype.b=(ls={},function(){return ls}),A(ms,Tn);var bs=0;function ws(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function Is(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Es(t)}function Es(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ts(t){Tn.call(this),this.headers=new Pn,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=_s,this.u=this.R=!1}(n=ms.prototype).open=function(t,e){if(this.readyState!=bs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Es(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Is(this)),this.readyState=bs},n.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Es(this)),this.a&&(this.readyState=3,Es(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ws(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},n.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Is(this):Es(this),3==this.readyState&&ws(this)}},n.sc=function(t){this.a&&(this.response=this.responseText=t,Is(this))},n.rc=function(t){this.a&&(this.response=t,Is(this))},n.Ta=function(t){var e=this.h;e&&e.log(us,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&Is(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(us,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(us,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),A(Ts,Tn);var _s="";Ts.prototype.b=vs("goog.net.XhrIo");var As=/^https?$/i,Ss=["POST","PUT"];function Ns(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():zo.a(),t.A=t.O?Qo(t.O):Qo(zo),t.a.onreadystatechange=E(t.Ub,t);try{ys(t.b,Ms(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return ys(t.b,Ms(t,"Error opening Xhr: "+s.message)),void Os(t,s)}e=r||"";var o=new Pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)G(t,e,void 0);else for(var n=Dn(t),r=On(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ks,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!X(Ss,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Rs(t),0<t.g&&(t.u=function(t){return Xt&&se(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ys(t.b,Ms(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=Nn(t.Ma,t.g,t)),ys(t.b,Ms(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(s){ys(t.b,Ms(t,"Send error: "+s.message)),Os(t,s)}}function ks(t){return"content-type"==t.toLowerCase()}function Os(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,Ds(t),Cs(t)}function Ds(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ps(t){if(t.c&&"undefined"!=typeof a)if(t.A[1]&&4==xs(t)&&2==Ls(t))ys(t.b,Ms(t,"Local request error detected and ignored"));else if(t.h&&4==xs(t))Nn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==xs(t)){ys(t.b,Ms(t,"Request complete")),t.c=!1;try{var e,n=Ls(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(xn)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!As.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xs(t)?t.a.statusText:""}catch(h){ys(t.b,"Can not get status: "+h.message),c=""}t.i=c+" ["+Ls(t)+"]",Ds(t)}}finally{Cs(t)}}}function Cs(t,e){if(t.a){Rs(t);var n=t.a,r=t.A[0]?l:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(as,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Rs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function xs(t){return t.a?t.a.readyState:0}function Ls(t){try{return 2<xs(t)?t.a.status:-1}catch(e){return-1}}function Ms(t,e){return e+" ["+t.P+" "+t.l+" "+Ls(t)+"]"}function Vs(t){var e=Js;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function js(t,e,n){t.a=!0,t.c=n,t.f=!e,Hs(t)}function Us(t){if(t.a){if(!t.m)throw new Bs(t);t.m=!1}}function Fs(t,e,n,r){t.g.push([e,n,r]),t.a&&Hs(t)}function qs(t){return J(t.g,(function(t){return v(t[1])}))}function Hs(t){if(t.i&&t.a&&qs(t)){var e=t.i,n=zs[e];n&&(u.clearTimeout(n.a),delete zs[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(x(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.h=!0)}catch(c){e=c,t.f=!0,qs(t)||(n=!0)}}t.c=e,r&&(a=E(t.v,t,!0),r=E(t.v,t,!1),e instanceof Vs?(Fs(e,a,r),e.A=!0):e.then(a,r)),n&&(e=new Gs(e),zs[e.a]=e,t.i=e.a)}function Bs(){L.call(this)}function Ks(){L.call(this)}function Gs(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(n=Ts.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",ys(this.b,Ms(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ys(this.b,Ms(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cs(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cs(this,!0)),Ts.$a.Da.call(this)},n.Ub=function(){this.xa||(this.N||this.h||this.f?Ps(this):this.Ic())},n.Ic=function(){Ps(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _s:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(as,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ys(this.b,"Can not get response: "+e.message),null}},Vs.prototype.cancel=function(t){if(this.a)this.c instanceof Vs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Ks(this),Us(this),js(this,!1,t))}},Vs.prototype.v=function(t,e){this.h=!1,js(this,t,e)},Vs.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Fs(this,r,(function(t){t instanceof Ks?o.cancel():i(t)})),o.then(t,e,n)},Vs.prototype.$goog_Thenable=!0,A(Bs,L),Bs.prototype.message="Deferred has already fired",Bs.prototype.name="AlreadyCalledError",A(Ks,L),Ks.prototype.message="Deferred was canceled",Ks.prototype.name="CanceledError",Gs.prototype.c=function(){throw delete zs[this.a],this.b};var zs={};function Ws(t){var e={},n=e.document||document,r=Nt(t).toString(),i=ye(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new Vs(o),a=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(a=window.setTimeout((function(){Xs(i,!0);var t=new Qs($s,"Timeout reached for loading script "+r);Us(s),js(s,!1,t)}),c),o.Ma=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Xs(i,e.wd||!1,a),Us(s),js(s,!0,null))},i.onerror=function(){Xs(i,!0,a);var t=new Qs(Ys,"Error while loading script "+r);Us(s),js(s,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),fe(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Nt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=f(e.document):(null===h&&(h=f(u.document)),e=h),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Js(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Xs(t,!0,this.Ma)}}function Xs(t,e,n){null!=n&&u.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ys=0,$s=1;function Qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Zs(t){this.f=t}function ta(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||ra,this.g=yt(t.secureTokenHeaders||ia),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||oa,this.a=yt(t.firebaseHeaders||sa),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==_r(),!(r=u.XMLHttpRequest||r&&e.default.INTERNAL.node&&e.default.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new gs(self):Ar()?this.f=new Zs(r):this.f=new es,this.b=null}A(Qs,L),A(Zs,$o),Zs.prototype.a=function(){return new this.f},Zs.prototype.b=function(){return{}};var ea,na="idToken",ra=new Kr(3e4,6e4),ia={"Content-Type":"application/x-www-form-urlencoded"},oa=new Kr(3e4,6e4),sa={"Content-Type":"application/json"};function aa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ua(t,e){e&&(t.l=ca("https://securetoken.googleapis.com/v1/token",e),t.i=ca("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=ca("https://identitytoolkit.googleapis.com/v2/",e))}function ca(t,e){return t=qn(t),e=qn(e.url),t.c=t.a+t.c,Mn(t,e.f),t.a=e.a,Vn(t,e.g),t.toString()}function ha(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function fa(t,e,n,r,i,o,s){(function(){var t=Pr();return!((t=kr(t)!=Nr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Xt||!ue||9<ue)})()||Tr()?t=E(t.u,t):(ea||(ea=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[pa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Fs(t,null,e,void 0)}(Ws(kt(la,{onload:pa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,r,i,o,s)}ta.prototype.S=function(){return this.b},ta.prototype.u=function(t,e,n,r,i,o){if(Tr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Ts(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ys(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),An(s,"ready",(function(){a&&clearTimeout(a),We(this)})),An(s,"timeout",(function(){a&&clearTimeout(a),We(this),e&&e(null)})),Ns(s,t,n,r,i)};var la=new wt(_t,"https://apis.google.com/js/client.js?onload=%{onload}"),pa="__fcb"+Math.floor(1e6*Math.random()).toString();function da(t,e,n,r,i,o,s){var a=qn(e+n);Un(a,"key",t.c),s&&Un(a,"cb",_().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(a,c,i[c]);return new Ee((function(e,n){fa(t,a.toString(),(function(t){t?t.error?n(cu(t,o||{})):e(t):n(new N("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.m.get())}))}function va(t){if("string"!==typeof(t=t.email)||!br.test(t))throw new N("invalid-email")}function ya(t){"email"in t&&va(t)}function ga(t){if(!t[na]){if(t.mfaPendingCredential)throw new N("multi-factor-auth-required",null,yt(t));throw new N("internal-error")}}function ma(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new N("internal-error")}else{if(!t.sessionInfo)throw new N("missing-verification-id");if(!t.code)throw new N("missing-verification-code")}}ta.prototype.s=function(t,e,n,r,i){var o=this;ea.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ta.prototype.yb=function(){return au(this,Xa,{})},ta.prototype.Ab=function(t,e){return au(this,Wa,{idToken:t,email:e})},ta.prototype.Bb=function(t,e){return au(this,Ja,{idToken:t,password:e})};var ba={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function wa(t){if(!t.phoneVerificationInfo)throw new N("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new N("missing-verification-code")}function Ia(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new N("internal-error")}function Ea(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(er(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Ta(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Yo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Yo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Yo(t)):t.errorMessage&&(e=uu(t.errorMessage)),e)throw e;ga(t)}function _a(t,e){return e.returnIdpCredential=!0,au(t,Qa,e)}function Aa(t,e){return e.returnIdpCredential=!0,au(t,tu,e)}function Sa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,au(t,Za,e)}function Na(t){if(!t.oobCode)throw new N("invalid-action-code")}(n=ta.prototype).Cb=function(t,e){var n={idToken:t},r=[];return dt(ba,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),au(this,Wa,n)},n.ub=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),au(this,Ha,t)},n.vb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),au(this,Ua,t)},n.tb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),au(this,Fa,t)},n.Db=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),au(this,qa,t)},n.eb=function(t){return au(this,ru,t)},n.mb=function(t,e){return au(this,Ga,{oobCode:t,newPassword:e})},n.Qa=function(t){return au(this,Oa,{oobCode:t})},n.ib=function(t){return au(this,ka,{oobCode:t})};var ka={endpoint:"setAccountInfo",B:Na,Z:"email",C:!0},Oa={endpoint:"resetPassword",B:Na,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new N("internal-error")},C:!0},Da={endpoint:"signupNewUser",B:function(t){if(va(t),!t.password)throw new N("weak-password")},F:ga,U:!0,C:!0},Pa={endpoint:"createAuthUri",C:!0},Ca={endpoint:"deleteAccount",M:["idToken"]},Ra={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new N("internal-error")}},xa={endpoint:"emailLinkSignin",M:["email","oobCode"],B:va,F:ga,U:!0,C:!0},La={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:va,F:ga,U:!0},Ma={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:wa,F:ga,C:!0,Na:!0},Va={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:wa,F:ga,C:!0,Na:!0},ja={endpoint:"getAccountInfo"},Ua={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new N("internal-error");va(t)},Z:"email",C:!0},Fa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new N("internal-error")},Z:"email",C:!0},qa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new N("internal-error")},Z:"email",C:!0},Ha={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new N("internal-error");va(t)},Z:"email",C:!0},Ba={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ka={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new N("internal-error")}},Ga={endpoint:"resetPassword",B:Na,Z:"email",C:!0},za={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Wa={endpoint:"setAccountInfo",M:["idToken"],B:ya,U:!0},Ja={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ya(t),!t.password)throw new N("weak-password")},F:ga,U:!0},Xa={endpoint:"signupNewUser",F:ga,U:!0,C:!0},Ya={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new N("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new N("internal-error")},C:!0,Na:!0},$a={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new N("internal-error")},C:!0,Na:!0},Qa={endpoint:"verifyAssertion",B:Ia,Xa:Ea,F:Ta,U:!0,C:!0},Za={endpoint:"verifyAssertion",B:Ia,Xa:Ea,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new N("user-not-found");if(t.errorMessage)throw uu(t.errorMessage);ga(t)},U:!0,C:!0},tu={endpoint:"verifyAssertion",B:function(t){if(Ia(t),!t.idToken)throw new N("internal-error")},Xa:Ea,F:Ta,U:!0},eu={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new N("invalid-custom-token")},F:ga,U:!0,C:!0},nu={endpoint:"verifyPassword",B:function(t){if(va(t),!t.password)throw new N("wrong-password")},F:ga,U:!0,C:!0},ru={endpoint:"verifyPhoneNumber",B:ma,F:ga,C:!0},iu={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new N("internal-error");ma(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Yo(t);ga(t)}},ou={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ma,F:ga,C:!0},su={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[na]^!!t.refreshToken)throw new N("internal-error")},C:!0,Na:!0};function au(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.M))return De(new N("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Oe(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),da(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new N("internal-error");return r[e.Z]}))}function uu(t){return cu({error:{errors:[{message:t}],code:400,message:t}})}function cu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new N(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new N(r[i],e);return!e&&t&&(e=jr(t)),new N("internal-error",e)}function hu(t){this.b=t,this.a=null,this.qb=function(t){return(du||(du=new Ee((function(t,e){function n(){Br(),Cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:lu.get()})}if(Cr("gapi.iframes.Iframe"))t();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Cr("gapi.load")?n():e(Error("Network Error"))},Oe(Ws(r=kt(fu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw du=null,t})))).then((function(){return new Ee((function(e,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),pu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var fu=new wt(_t,"https://apis.google.com/js/api.js?onload=%{onload}"),lu=new Kr(3e4,6e4),pu=new Kr(5e3,15e3),du=null;function vu(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,this.g?t=Hn((t=qn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Hn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.i),Un(this.a,"appName",this.h),this.b=null,this.c=[]}function yu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function gu(t){try{return e.default.app(t).auth().Ga()}catch(n){return[]}}function mu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function bu(t){var e=lr();return function(t){return au(t,Ba,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=qn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=qn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Jo(lr())}))}function wu(t){return t.v||(t.v=wr().then((function(){if(!t.u){var e=t.c,n=t.h,r=gu(t.b),i=new vu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.m=new hu(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ko(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Oe(n)}return n.status="ERROR",Oe(n)}))}(t)}))),t.v}function Iu(t){return t.l||(t.A=t.c?Dr(t.c,gu(t.b)):null,t.l=new ta(t.g,R(t.h),t.A),t.f&&ua(t.l,t.f)),t.l}function Eu(t,e,n,r,i,o,s,a,u,c,h,f){return(t=new yu(t,e,n,r,i,f)).l=o,t.g=s,t.h=a,t.b=yt(u||null),t.f=c,t.xb(h).toString()}function Tu(t){if(this.a=t||e.default.INTERNAL.reactNative&&e.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function _u(t){this.b=t,this.a={},this.f=E(this.c,this)}vu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},yu.prototype.xb=function(t){return this.i=t,this},yu.prototype.toString=function(){if(this.m){var t=qn(this.m.url);t=Hn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Hn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.default.app(this.c).auth().ka()}catch(u){r=null}for(var i in n.nb=r,Un(t,"providerId",this.a.providerId),n=Ur((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=yt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),vt(n)||Un(t,"customParameters",jr(n))}if("function"===typeof this.a.Pb&&((r=this.a.Pb()).length&&Un(t,"scopes",r.join(","))),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.h?Un(t,"v",this.h):tr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Fn(t,a)&&Un(t,a,this.b[a]);return this.i?Un(t,"tid",this.i):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(a=gu(this.c)).length&&Un(t,"fw",a.join(",")),t.toString()},(n=mu.prototype).Nb=function(t,e,n){var r=new N("popup-closed-by-user"),i=new N("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return wu(t).then((function(){return function(t,e){return t.qb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&yr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new Ee((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return kn(n).then((function(){e(r)}))}))},n.Wb=function(){var t=Pr();return!Vr(t)&&!Hr(t)},n.Sb=function(){return!1},n.Lb=function(t,e,n,r,i,o,s,a){if(!t)return De(new N("popup-blocked"));if(s&&!Vr())return this.la().o((function(e){yr(t),i(e)})),r(),Oe();this.a||(this.a=bu(Iu(this)));var u=this;return this.a.then((function(){var e=u.la().o((function(e){throw yr(t),i(e),e}));return r(),e})).then((function(){(Ho(n),s)||pr(Eu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.h,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},n.Mb=function(t,e,n,r){this.a||(this.a=bu(Iu(this)));var i=this;return this.a.then((function(){Ho(e),pr(Eu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.h,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},n.la=function(){var t=this;return wu(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new N("network-request-failed")}))},n.Zb=function(){return!0},n.Ea=function(t){this.i.push(t)},n.Ra=function(t){$(this.i,(function(e){return e==t}))},(n=Tu.prototype).get=function(t){return Oe(this.a.getItem(t)).then((function(t){return t&&Fr(t)}))},n.set=function(t,e){return Oe(this.a.setItem(t,jr(e)))},n.T=function(t){return Oe(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var Au,Su=[];function Nu(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ku(t){this.a=t}function Ou(t){this.c=t,this.b=!1,this.a=[]}function Du(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return De(Error("connection_unavailable"));var h=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return Pu(t,c),e})).o((function(e){throw Pu(t,c),e}))}function Pu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(t.a,(function(t){return t==e}))}}function Cu(){if(!Mu())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=u.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;Tr()&&self?(this.m=function(){var t=Tr()?self:null;if(G(Su,(function(n){n.b==t&&(e=n)})),!e){var e=new _u(t);Su.push(e)}return e}(),Nu(this.m,"keyChanged",(function(e,n){return qu(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:X(e,n.key)}}))})),Nu(this.m,"ping",(function(){return Oe(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Oe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Oe(null)}().then((function(e){(t.i=e)&&(t.g=new Ou(new ku(e)),Du(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&X(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Ru(t){return new Ee((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Ru(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function xu(t){return t.h||(t.h=Ru(t)),t.h}function Lu(t,e){var n=0;return new Ee((function r(i,o){xu(t).then(e).then(i).o((function(e){if(!(3<++n))return xu(t).then((function(e){return e.close(),t.h=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Mu(){try{return!!u.indexedDB}catch(ls){return!1}}function Vu(t){return t.objectStore("firebaseLocalStorage")}function ju(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Uu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Fu(t,e){return t.g&&t.i&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?Du(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Oe()}function qu(t){return xu(t).then((function(t){var e=Vu(ju(t,!1));return e.getAll?Uu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function Hu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Bu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Oe().then((function(){if(Mu()){var t=qr(),r="__sak"+t;return Au||(Au=new Cu),(n=Au).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){G(e.a,(function(e){e(t)}))})),t}))}function Ku(){this.a={},this.type="inMemory"}function Gu(){if(!function(){var t="Node"==_r();if(!(t=zu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==_r())throw new N("internal-error","The LocalStorage compatibility library was not found.");throw new N("web-storage-unsupported")}this.a=zu()||e.default.INTERNAL.node.localStorage,this.type="localStorage"}function zu(){try{var t=u.localStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Wu(){this.type="nullStorage"}function Ju(){if(!function(){var t="Node"==_r();if(!(t=Xu()||t&&e.default.INTERNAL.node&&e.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==_r())throw new N("internal-error","The SessionStorage compatibility library was not found.");throw new N("web-storage-unsupported")}this.a=Xu()||e.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Xu(){try{var t=u.sessionStorage,e=qr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Yu(){var t={};t.Browser=Zu,t.Node=tc,t.ReactNative=ec,t.Worker=nc,this.a=t[_r()]}_u.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(Oe().then((function(){return e(t.origin,t.data.data)})))})),Ce(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},ku.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ou.prototype.close=function(){for(;0<this.a.length;)Pu(this,this.a[0]);this.b=!0},(n=Cu.prototype).set=function(t,e){var n=this,r=!1;return Lu(this,(function(e){return Uu((e=Vu(ju(e,!0))).get(t))})).then((function(i){return Lu(n,(function(o){if(o=Vu(ju(o,!0)),i)return i.value=e,Uu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Uu(o.add(s))}))})).then((function(){return n.c[t]=e,Fu(n,t)})).na((function(){r&&n.b--}))},n.get=function(t){return Lu(this,(function(e){return Uu(Vu(ju(e,!1)).get(t))})).then((function(t){return t&&t.value}))},n.T=function(t){var e=this,n=!1;return Lu(this,(function(r){return n=!0,e.b++,Uu(Vu(ju(r,!0)).delete(t))})).then((function(){return delete e.c[t],Fu(e,t)})).na((function(){n&&e.b--}))},n.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=qu(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Hu(t),e()}(this),this.a.push(t)},n.ia=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&Hu(this)},(n=Bu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},n.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},n.T=function(t){return this.b.then((function(e){return e.T(t)}))},n.ca=function(t){this.a.push(t)},n.ia=function(t){$(this.a,(function(e){return e==t}))},(n=Ku.prototype).get=function(t){return Oe(this.a[t])},n.set=function(t,e){return this.a[t]=e,Oe()},n.T=function(t){return delete this.a[t],Oe()},n.ca=function(){},n.ia=function(){},(n=Gu.prototype).get=function(t){var e=this;return Oe().then((function(){return Fr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Oe().then((function(){var r=jr(e);null===r?n.T(t):n.a.setItem(t,r)}))},n.T=function(t){var e=this;return Oe().then((function(){e.a.removeItem(t)}))},n.ca=function(t){u.window&&fn(u.window,"storage",t)},n.ia=function(t){u.window&&dn(u.window,"storage",t)},(n=Wu.prototype).get=function(){return Oe(null)},n.set=function(){return Oe()},n.T=function(){return Oe()},n.ca=function(){},n.ia=function(){},(n=Ju.prototype).get=function(t){var e=this;return Oe().then((function(){return Fr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return Oe().then((function(){var r=jr(e);null===r?n.T(t):n.a.setItem(t,r)}))},n.T=function(t){var e=this;return Oe().then((function(){e.a.removeItem(t)}))},n.ca=function(){},n.ia=function(){};var $u,Qu,Zu={D:Gu,ab:Ju},tc={D:Gu,ab:Ju},ec={D:Tu,ab:Wu},nc={D:Gu,ab:Wu},rc={qd:"local",NONE:"none",sd:"session"};function ic(){var t=!(Hr(Pr())||!Er()),e=Vr(),n=Rr();this.v=t,this.i=e,this.l=n,this.a={},$u||($u=new Yu),t=$u;try{this.g=!fr()&&Wr()||!u.indexedDB?new t.a.D:new Bu(Tr()?new Ku:new t.a.D)}catch(r){this.g=new Ku,this.i=!0}try{this.h=new t.a.ab}catch(r){this.h=new Ku}this.m=new Ku,this.f=E(this.Xb,this),this.b={}}function oc(){return Qu||(Qu=new ic),Qu}function sc(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function ac(t,e){return"firebase:"+t.name+(e?":"+e:"")}function uc(t,e,n){return n=ac(e,n),"local"==e.D&&(t.b[n]=null),sc(t,e.D).T(n)}function cc(t){t.c&&(clearInterval(t.c),t.c=null)}function hc(t){this.a=t,this.b=oc()}(n=ic.prototype).get=function(t,e){return sc(this,t.D).get(ac(t,e))},n.set=function(t,e,n){var r=ac(t,n),i=this,o=sc(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},n.addListener=function(t,e,n){t=ac(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(sc(this,"local").ca(this.f),this.i||(fr()||!Wr())&&u.indexedDB||!this.l||function(t){cc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=ac(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(sc(this,"local").ia(this.f),cc(this))},n.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?sc(this,"local").ia(this.f):cc(this),this.v)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.lb(e))},Xt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,E(this.lb,this))},n.lb=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var fc,lc={name:"authEvent",D:"local"};function pc(){this.a=oc()}function dc(t,e){this.b=vc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===fc&&(fc=u.Int32Array?new Int32Array(Ec):Ec),this.reset()}A(dc,(function(){this.b=-1}));for(var vc=64,yc=vc-1,gc=[],mc=0;mc<yc;mc++)gc[mc]=0;var bc=Q(128,gc);function wc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&f)+(0|fc[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function Ic(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(wc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(wc(t),i=0)}}t.c=i,t.g+=n}dc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.i):Z(this.i)};var Ec=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){dc.call(this,8,_c)}A(Tc,dc);var _c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ac(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new pc,this.g=new hc(this.i),this.f=null,this.b=[],this.a=this.c=null}function Sc(t){return new N("invalid-cordova-configuration",t)}function Nc(t){var e=new Tc;Ic(e,t),t=[];var n=8*e.g;56>e.c?Ic(e,bc,56-e.c):Ic(e,bc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(wc(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function kc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Oc(t){return t.f||(t.f=t.la().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Dc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ao(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Fr(Fn(o=qn(i),"firebaseError")||null))?k(o):null)?new Bo(r.c,r.b,null,null,o,null,r.S()):new Bo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}kc(t,i)}))}var n=new Bo("unknown",null,null,null,new N("no-auth-event")),r=!1,i=kn(500).then((function(){return Dc(t).then((function(){r||kc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Wo||(Wo=new Go),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Cr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Dc(t){var e=null;return function(t){return t.b.get(lc,t.a).then((function(t){return Ko(t)}))}(t.g).then((function(n){return e=n,uc((n=t.g).b,lc,n.a)})).then((function(){return e}))}function Pc(t){this.a=t,this.b=oc()}(n=Ac.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(Ir(void 0)?wr().then((function(){return new Ee((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):De(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Cr("universalLinks.subscribe",u))throw Sc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Cr("BuildInfo.packageName",u))throw Sc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Cr("cordova.plugins.browsertab.openUrl",u))throw Sc("cordova-plugin-browsertab is not installed");if("function"!==typeof Cr("cordova.InAppBrowser.open",u))throw Sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new N("cordova-not-ready")}))},n.Nb=function(t,e){return e(new N("operation-not-supported-in-this-environment")),Oe()},n.Lb=function(){return De(new N("operation-not-supported-in-this-environment"))},n.Zb=function(){return!1},n.Wb=function(){return!0},n.Sb=function(){return!0},n.Mb=function(t,e,n,r){if(this.c)return De(new N("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,c=null,h=null;return this.c=Oe().then((function(){return Ho(e),Oc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Bo(e,r,null,o,new N("no-auth-event"),null,i),a=Cr("BuildInfo.packageName",u);if("string"!==typeof a)throw new N("invalid-cordova-configuration");var c=Cr("BuildInfo.displayName",u),h={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=a;else{if(!Pr().toLowerCase().match(/android/))return De(new N("operation-not-supported-in-this-environment"));h.apn=a}c&&(h.appDisplayName=c),o=Nc(o),h.sessionId=o;var f=Eu(t.m,t.h,t.l,e,n,null,r,t.v,h,t.u,i,t.s);return t.la().then((function(){var e=t.i;return t.A.a.set(lc,s.w(),e)})).then((function(){var e=Cr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new N("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Cr("cordova.plugins.browsertab.openUrl",u)))throw new N("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Cr("cordova.InAppBrowser.open",u)))throw new N("invalid-cordova-configuration");e=Pr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){a=function(){var e=Cr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),c=function(){s||(s=kn(2e3).then((function(){e(new N("redirect-cancelled-by-user"))})))},h=function(){Gr()&&c()},o.addEventListener("resume",c,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return Dc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),a&&i.Ra(a),i.c=null}))},n.Ea=function(t){this.b.push(t),Oc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Bo("unknown",null,null,null,new N("no-auth-event")),t(e))}))},n.Ra=function(t){$(this.b,(function(e){return e==t}))};var Cc={name:"pendingRedirect",D:"session"};function Rc(t){return uc(t.b,Cc,t.a)}function xc(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=E(this.s,this),this.b=new Xc,this.A=new th,this.g=new Pc(Wc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Lc(this.O,this.m,this.v,O,this.G)}function Lc(t,n,r,i,o){var s=e.default.SDK_VERSION||null;return Ir()?new Ac(t,n,r,s,i,o):new mu(t,n,r,s,i,o)}function Mc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function Vc(t){t.a.Wb()&&Mc(t).o((function(e){var n=new Bo("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));Bc(e)&&t.s(n)})),t.a.Sb()||Yc(t.b)}function jc(t,e){X(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(Cc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Rc(t.g).then((function(){Mc(t).o((function(e){var n=new Bo("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));Bc(e)&&t.s(n)}))})):Vc(t)})).o((function(){Vc(t)}))}function Uc(t,e){$(t.i,(function(t){return t==e}))}xc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Lc(this.O,this.m,this.v,null,this.G),this.h={}},xc.prototype.s=function(t){if(!t)throw new N("invalid-auth-event");if(6e5<=_()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=_())),e=!0;break}}return Yc(this.b),e};var Fc=new Kr(2e3,1e4),qc=new Kr(3e4,6e4);function Hc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Bc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Kc(t,e,n,r,i){var o;return function(t){return t.b.set(Cc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).o((function(e){if(Bc(e))throw new N("operation-not-supported-in-this-environment");return o=e,Rc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new Ee((function(){})):Rc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Gc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Fc.get())}xc.prototype.qa=function(){return this.b.qa()};var zc={};function Wc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Jc(t,e,n,r){var i=Wc(e,n,r);return zc[i]||(zc[i]=new xc(t,e,n,r)),zc[i]}function Xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Yc(t){t.g||(t.g=!0,Zc(t,!1,null,null))}function $c(t){t.g&&!t.h&&Zc(t,!1,null,null)}function Qc(t,e){if(t.b=function(){return Oe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return De(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Qc(t,n):Qc(t,{user:null}),t.f=[],t.c=[]}function th(){}function eh(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function nh(t,e){this.a=e,Qr(this,"verificationId",t)}function rh(t,e,n,r){return new Uo(t).eb(e,n).then((function(t){return new nh(t,r)}))}function ih(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function oh(t,e,n){var r=e&&e[ah];if(!r)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=yt(e),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;G(e[sh]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Xc.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(Zc(this,!0,null,t.a),Oe()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Zc(t,a,e,null)})).o((function(e){Zc(t,a,null,e)}))}(this,t,e):De(new N("invalid-auth-event")):(Zc(this,!1,null,null),Oe())}else De(new N("invalid-auth-event"))},Xc.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new N("timeout");t.a&&t.a.cancel(),t.a=kn(qc.get()).then((function(){t.b||(t.g=!0,Zc(t,!0,null,e))}))}(t))}))},th.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Oe()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):De(new N("invalid-auth-event"))}else De(new N("invalid-auth-event"))},nh.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var sh="mfaInfo",ah="mfaPendingCredential";function uh(t,e,n,r){N.call(this,"multi-factor-auth-required",r,e),this.b=new oh(t,e,n),Qr(this,"resolver",this.b)}function ch(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new uh(e,t.serverResponse,n,t.message)}catch(r){}return null}function hh(){}function fh(t){Qr(this,"factorId",t.fa),this.a=t}function lh(t){if(fh.call(this,t),this.a.fa!=Uo.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ph(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function dh(t,e){this.a=t,this.b=[],this.c=E(this.xc,this),fn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[si]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ai]=t.phoneNumber);try{e=new ui(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),vh(this,n)}function vh(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function yh(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function gh(t,e){t.stop(),t.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Gr()||!t?Oe():new Ee((function(n){e=function(){Gr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.i()})).then((function(){gh(t,!0)})).o((function(e){t.h(e)&&gh(t,!1)}))}function mh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function bh(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function wh(t,e){t.b=zi(e[na]||""),t.a=e.refreshToken,bh(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function Ih(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?fa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(cu(t)):t.access_token&&t.refresh_token?n(t):r(new N("internal-error")):r(new N("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.v.get()):r(new N("internal-error"))}))}(t.f,e).then((function(e){return t.b=zi(e.access_token),t.a=e.refresh_token,bh(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Eh(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function Th(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function _h(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=e.default.SDK_VERSION?Dr(e.default.SDK_VERSION):null;this.a=new ta(this.l,R(O),i),t.emulatorConfig&&ua(this.a,t.emulatorConfig),this.b=new mh(this.a),Ch(this,n[na]),wh(this.b,n),Qr(this,"refreshToken",this.b.a),Lh(this,r||{}),Tn.call(this),this.P=!1,this.s&&xr()&&(this.h=Jc(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new yh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.$=E(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.i)},this.ba=null,this.za=function(t){ua(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Nh(o,t.f)},this.aa=null,this.N=new dh(this,r),Qr(this,"multiFactor",this.N)}function Ah(t,e){t.ba&&dn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&fn(e,"languageCodeChanged",t.Ba)}function Sh(t,e){t.W&&dn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&fn(e,"emulatorConfigChanged",t.za)}function Nh(t,n){t.X=n,ha(t.a,e.default.SDK_VERSION?Dr(e.default.SDK_VERSION,t.X):null)}function kh(t,e){t.aa&&dn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&fn(e,"frameworkChanged",t.Aa)}function Oh(t){try{return e.default.app(t.m).auth()}catch(n){throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Dh(t){t.A||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.$),fn(t,"tokenChanged",t.$))}function Ph(t){dn(t,"tokenChanged",t.$),t.u.stop()}function Ch(t,e){t.ya=e,Qr(t,"_lat",e)}function Rh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ce(e).then((function(){return t}))}function xh(t){t.h&&!t.P&&(t.P=!0,jc(t.h,t))}function Lh(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Eh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Mh(){}function Vh(t){return Oe().then((function(){if(t.A)throw new N("app-deleted")}))}function jh(t){return W(t.providerData,(function(t){return t.providerId}))}function Uh(t,e){e&&(Fh(t,e.providerId),t.providerData.push(e))}function Fh(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function qh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Hh(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new Eh(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new Eh),G(e.providerData,(function(e){Uh(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Qr(t,"refreshToken",t.b.a),vh(t.N,e.N.b))}function Bh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return au(t.a,ja,{idToken:e}).then(E(t.Jc,t))}(t,e).then((function(){return n||qh(t,"isAnonymous",!1),e}))}))}function Kh(t,e){e[na]&&t.ya!=e[na]&&(wh(t.b,e),t.dispatchEvent(new ph("tokenChanged")),Ch(t,e[na]),qh(t,"refreshToken",t.b.a))}function Gh(t,e){return Bh(t).then((function(){if(X(jh(t),e))return Rh(t).then((function(){throw new N("provider-already-linked")}))}))}function zh(t,e,n){return ti({user:t,credential:qo(e),additionalUserInfo:e=Qi(e),operationType:n})}function Wh(t,e){return Kh(t,e),t.reload().then((function(){return t}))}function Jh(t,n,r,i,o){if(!xr())return De(new N("operation-not-supported-in-this-environment"));if(t.f&&!o)return De(t.f);var s=$i(r.providerId),a=qr(t.uid+":::"),u=null;(!Vr()||Er())&&t.s&&r.isOAuthProvider&&(u=Eu(t.s,t.l,t.m,n,r,null,a,e.default.SDK_VERSION||null,null,null,t.tenantId));var c=gr(u,s&&s.ua,s&&s.ta);return i=i().then((function(){if(Yh(t),!o)return t.I().then((function(){}))})).then((function(){return Hc(t.h,c,n,r,a,!!u,t.tenantId)})).then((function(){return new Ee((function(e,r){t.ma(n,null,new N("cancelled-popup-request"),t.i||null),t.g=e,t.O=r,t.i=a,t.c=Gc(t.h,t,n,c,a)}))})).then((function(t){return c&&yr(c),t?ti(t):null})).o((function(t){throw c&&yr(c),t})),$h(t,i,o)}function Xh(t,e,n,r,i){if(!xr())return De(new N("operation-not-supported-in-this-environment"));if(t.f&&!i)return De(t.f);var o=null,s=qr(t.uid+":::");return r=r().then((function(){if(Yh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Rh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(tf,t.w(),e.a)),e})).then((function(){return Kc(t.h,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return ef(t.ha);throw o})).then((function(){if(o)throw o})),$h(t,r,i)}function Yh(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new N("internal-error");throw new N("auth-domain-config-required")}}function $h(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),De(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new ph("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Y(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ch(e.w(),Oh(t),E(t.ic,t))),n||e}))}function Qh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[na]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new _h(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&Uh(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Zh(t){this.a=t,this.b=oc()}oh.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=yt(e.f);return delete n[sh],delete n[ah],mt(n,t),e.g(n)}))},A(uh,N),hh.prototype.rb=function(t,e,n){return e.type==co?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),mt(n,{phoneVerificationInfo:jo(t.a)}),au(e,Ma,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),au(e,Va,n)}))}(this,t,e)},A(fh,hh),A(lh,fh),A(ph,Qe),(n=dh.prototype).xc=function(t){vh(this,function(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.gd))},n.Qb=function(){return this.a.I().then((function(t){return new uo(t,null)}))},n.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Kh(n.a,t),n.a.reload()}))},n.ad=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return au(r,su,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return vh(e,r),Kh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},n.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},yh.prototype.start=function(){this.a=this.c,gh(this,!0)},yh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},mh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},mh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?De(new N("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?Ih(this,{grant_type:"refresh_token",refresh_token:this.a}):Oe(null):Oe({accessToken:this.b.toString(),refreshToken:this.a})},Eh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},A(_h,Tn),_h.prototype.wa=function(t){this.pa=t,aa(this.a,t)},_h.prototype.ka=function(){return this.pa},_h.prototype.Ga=function(){return Z(this.X)},_h.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(_h.prototype,"providerId","firebase"),(n=_h.prototype).reload=function(){var t=this;return $h(this,Vh(this).then((function(){return Bh(t).then((function(){return Rh(t)})).then(Mh)})))},n.nc=function(t){return this.I(t).then((function(t){return new ih(t)}))},n.I=function(t){var e=this;return $h(this,Vh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new N("internal-error");return t.accessToken!=e.ya&&(Ch(e,t.accessToken),e.dispatchEvent(new ph("tokenChanged"))),qh(e,"refreshToken",t.refreshToken),t.accessToken})))},n.Jc=function(t){if(!(t=t.users)||!t.length)throw new N("internal-error");Lh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new Th(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Uh(this,e[n]);qh(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ph("userReloaded",{gd:t}))},n.Kc=function(t){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},n.sb=function(t){var e=this,n=null;return $h(this,t.c(this.a,this.uid).then((function(t){return Kh(e,t),n=zh(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},n.Bc=function(t){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},n.pb=function(t){var e=this,n=null;return $h(this,Gh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=zh(e,t,"link"),Wh(e,t)})).then((function(){return n})))},n.Cc=function(t,e){var n=this;return $h(this,Gh(this,"phone").then((function(){return rh(Oh(n),t,e,E(n.pb,n))})))},n.Lc=function(t,e){var n=this;return $h(this,Oe().then((function(){return rh(Oh(n),t,e,E(n.sb,n))})),!0)},n.Ab=function(t){var e=this;return $h(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Kh(e,t),e.reload()})))},n.dd=function(t){var e=this;return $h(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Kh(e,t),e.reload()})))},n.Bb=function(t){var e=this;return $h(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Kh(e,t),e.reload()})))},n.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Vh(this);var e=this;return $h(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Kh(e,t),qh(e,"displayName",t.displayName||null),qh(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),Rh(e)})).then(Mh))},n.bd=function(t){var e=this;return $h(this,Bh(this).then((function(n){return X(jh(e),t)?function(t,e,n){return au(t,Ra,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(jh(e),(function(t){n[t]||Fh(e,t)})),n[Uo.PROVIDER_ID]||Qr(e,"phoneNumber",null),Rh(e)})):Rh(e).then((function(){throw new N("no-such-provider")}))})))},n.delete=function(){var t=this;return $h(this,this.I().then((function(e){return au(t.a,Ca,{idToken:e})})).then((function(){t.dispatchEvent(new ph("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Ah(t,null),Sh(t,null),kh(t,null),t.G=[],t.A=!0,Ph(t),Qr(t,"refreshToken",null),t.h&&Uc(t.h,t)}))},n.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?E(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?E(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Kb,this):null},n.Dc=function(t){var e=this;return Jh(this,"linkViaPopup",t,(function(){return Gh(e,t.providerId).then((function(){return Rh(e)}))}),!1)},n.Mc=function(t){return Jh(this,"reauthViaPopup",t,(function(){return Oe()}),!0)},n.Ec=function(t){var e=this;return Xh(this,"linkViaRedirect",t,(function(){return Gh(e,t.providerId)}),!1)},n.Nc=function(t){return Xh(this,"reauthViaRedirect",t,(function(){return Oe()}),!0)},n.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $h(this,this.I().then((function(n){return Aa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=zh(i,t,"link"),Wh(i,t)})).then((function(){return o})))},n.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $h(this,Oe().then((function(){return lo(Sa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=zh(i,t,"reauthenticate"),Kh(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},n.tb=function(t){var e=this,n=null;return $h(this,this.I().then((function(e){return n=e,"undefined"===typeof t||vt(t)?{}:Hi(new Ci(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},n.Db=function(t,e){var n=this,r=null;return $h(this,this.I().then((function(t){return r=t,"undefined"===typeof e||vt(e)?{}:Hi(new Ci(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},n.ic=function(t){var e=null,n=this;return $h(this,t=lo(Oe(t),n.uid).then((function(t){return e=zh(n,t,"reauthenticate"),Kh(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),G(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.N.w()),t};var tf={name:"redirectUser",D:"session"};function ef(t){return uc(t.b,tf,t.a)}function nf(t){this.a=t,this.b=oc(),this.c=null,this.f=function(t){var e=sf("local"),n=sf("session"),r=sf("none");return function(t,e,n){var r=ac(e,n),i=sc(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=Fr(u.localStorage.getItem(r))}catch(a){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(of,t.a).then((function(t){return t?sf(t):e}))}))}))})).then((function(e){return t.c=e,rf(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(sf("local"),this.a,E(this.g,this))}function rf(t,e){var n,r=[];for(n in rc)rc[n]!==e&&r.push(uc(t.b,sf(rc[n]),t.a));return r.push(uc(t.b,of,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Pe(t[a],T(o,a),s);else e(i)}))}(r)}nf.prototype.g=function(){var t=this,e=sf("local");hf(this,(function(){return Oe().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return rf(t,"local").then((function(){t.c=e}))}))}))};var of={name:"persistence",D:"session"};function sf(t){return{name:"authUser",D:t}}function af(t,e){return hf(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function uf(t){return hf(t,(function(){return uc(t.b,t.c,t.a)}))}function cf(t,e,n){return hf(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Qh(t||{})}))}))}function hf(t,e){return t.f=t.f.then(e,e),t.f}function ff(t){if(this.m=!1,Qr(this,"settings",new eh),Qr(this,"app",t),!wf(this).options||!wf(this).options.apiKey)throw new N("invalid-api-key");t=e.default.SDK_VERSION?Dr(e.default.SDK_VERSION):null,this.a=new ta(wf(this).options&&wf(this).options.apiKey,R(O),t),this.R=[],this.u=[],this.P=[],this.ac=e.default.INTERNAL.createSubscribe(E(this.yc,this)),this.X=void 0,this.bc=e.default.INTERNAL.createSubscribe(E(this.zc,this)),mf(this,null),this.l=new nf(wf(this).options.apiKey+":"+wf(this).name),this.G=new Zh(wf(this).options.apiKey+":"+wf(this).name),this.$=_f(this,function(t){var e=wf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(tf,t.a).then((function(t){return t&&e&&(t.authDomain=e),Qh(t||{})}))}(t.G,wf(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),ef(t.G)}));return _f(t,e)}(t).then((function(){return cf(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return af(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:uf(t.l)}))):null})).then((function(e){mf(t,e||null)}));return _f(t,n)}(this)),this.h=_f(this,function(t){return t.$.then((function(){return yf(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(sf("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=E(this.Yc,this),this.Ba=E(this.da,this),this.ya=E(this.kc,this),this.za=E(this.vc,this),this.Aa=E(this.wc,this),this.b=null,function(t){var e=wf(t).options.authDomain,n=wf(t).options.apiKey;e&&xr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Jc(e,n,wf(t).name,t.f),jc(t.b,t),If(t)&&xh(If(t)),t.s){xh(t.s);var r=t.s;r.wa(t.ka()),Ah(r,t),Nh(r=t.s,t.N),kh(r,t),ua((r=t.s).a,t.f),Sh(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Fc,this),this.A=0,Tn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function lf(t){Qe.call(this,"languageCodeChanged"),this.i=t}function pf(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function df(t){Qe.call(this,"frameworkChanged"),this.f=t}function vf(t){return t.gb||De(new N("auth-domain-config-required"))}function yf(t){if(!xr())return De(new N("operation-not-supported-in-this-environment"));var e=vf(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return _f(t,e)}function gf(t,e){var n={};return n.apiKey=wf(t).options.apiKey,n.authDomain=wf(t).options.authDomain,n.appName=wf(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new _h(t,e);return n&&(i.ha=n),r&&Nh(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return If(t)&&e.uid==If(t).uid?(Hh(If(t),e),t.da(e)):(mf(t,e),xh(e),t.da(e))})).then((function(){Tf(t)}))}function mf(t,e){If(t)&&(function(t,e){$(t.R,(function(t){return t==e}))}(If(t),t.Ba),dn(If(t),"tokenChanged",t.ya),dn(If(t),"userDeleted",t.za),dn(If(t),"userInvalidated",t.Aa),Ph(If(t))),e&&(e.R.push(t.Ba),fn(e,"tokenChanged",t.ya),fn(e,"userDeleted",t.za),fn(e,"userInvalidated",t.Aa),0<t.A&&Dh(e)),Qr(t,"currentUser",e),e&&(e.wa(t.ka()),Ah(e,t),Nh(e,t.N),kh(e,t),ua(e.a,t.f),Sh(e,t))}function bf(t,e){var n=null,r=null;return _f(t,e.then((function(e){return n=qo(e),r=Qi(e),gf(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ch(e.w(),t,E(t.jc,t))),n||e})).then((function(){return ti({user:If(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wf(t){return t.app}function If(t){return t.currentUser}function Ef(t){return If(t)&&If(t)._lat||null}function Tf(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](Ef(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](Ef(t))}}function _f(t,e){return t.R.push(e),e.na((function(){Y(t.R,e)})),e}function Af(){}function Sf(){this.a={},this.b=1e12}nf.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new N("invalid-persistence-type"),n=new N("unsupported-persistence-type");t:{for(r in rc)if(rc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Mu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),hf(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,rf(n,t)})).then((function(){if(n.c=sf(t),e)return n.b.set(n.c,e,n.a)})):Oe()}))},A(ff,Tn),A(lf,Qe),A(pf,Qe),A(df,Qe),(n=ff.prototype).wb=function(t){return _f(this,t=this.l.wb(t))},n.wa=function(t){this.aa===t||this.m||(this.aa=t,aa(this.a,this.aa),this.dispatchEvent(new lf(this.ka())))},n.ka=function(){return this.aa},n.ed=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&wr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,ua(this.a,this.f),this.dispatchEvent(new pf(this.f))}},n.Fc=function(t){this.N.push(t),ha(this.a,e.default.SDK_VERSION?Dr(e.default.SDK_VERSION,this.N):null),this.dispatchEvent(new df(this.N))},n.Ga=function(){return Z(this.N)},n.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},n.S=function(){return this.W},n.toJSON=function(){return{apiKey:wf(this).options.apiKey,authDomain:wf(this).options.authDomain,appName:wf(this).name,currentUser:If(this)&&If(this).w()}},n.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},n.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?E(this.hc,this):null},n.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return bf(i,_a(i.a,o))}))},n.Wc=function(t){if(!xr())return De(new N("operation-not-supported-in-this-environment"));var n=this,r=$i(t.providerId),i=qr(),o=null;(!Vr()||Er())&&wf(this).options.authDomain&&t.isOAuthProvider&&(o=Eu(wf(this).options.authDomain,wf(this).options.apiKey,wf(this).name,"signInViaPopup",t,null,i,e.default.SDK_VERSION||null,null,null,this.S(),this.f));var s=gr(o,r&&r.ua,r&&r.ta);return _f(this,r=vf(this).then((function(e){return Hc(e,s,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new Ee((function(t,e){n.ma("signInViaPopup",null,new N("cancelled-popup-request"),n.i),n.g=t,n.O=e,n.i=i,n.c=Gc(n.b,n,"signInViaPopup",s,i)}))})).then((function(t){return s&&yr(s),t?ti(t):null})).o((function(t){throw s&&yr(s),t})))},n.Xc=function(t){if(!xr())return De(new N("operation-not-supported-in-this-environment"));var e=this;return _f(this,vf(this).then((function(){return function(t){return hf(t,(function(){return t.b.set(of,t.c.D,t.a)}))}(e.l)})).then((function(){return Kc(e.b,"signInViaRedirect",t,void 0,e.S())})))},n.qa=function(){var t=this;return yf(this).then((function(e){return t.b&&$c(t.b.b),e})).o((function(e){throw t.b&&$c(t.b.b),e}))},n.cd=function(t){if(!t)return De(new N("null-user"));if(this.W!=t.tenantId)return De(new N("tenant-id-mismatch"));var e=this,n={};n.apiKey=wf(this).options.apiKey,n.authDomain=wf(this).options.authDomain,n.appName=wf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[na]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new _h(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Nh(e,r),Hh(e,t),e}(t,n,e.G,e.Ga());return _f(this,this.h.then((function(){if(wf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return If(e)&&t.uid==If(e).uid?(Hh(If(e),t),e.da(t)):(mf(e,r),xh(r),e.da(r))})).then((function(){Tf(e)})))},n.zb=function(){var t=this;return _f(this,this.h.then((function(){return t.b&&$c(t.b.b),If(t)?(mf(t,null),uf(t.l).then((function(){Tf(t)}))):Oe()})))},n.Yc=function(){var t=this;return cf(this.l,wf(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=If(t)&&e){n=If(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Hh(If(t),e),If(t).I();(If(t)||e)&&(mf(t,e),e&&(xh(e),e.ha=t.G),t.b&&jc(t.b,t),Tf(t))}}))},n.da=function(t){return af(this.l,t)},n.kc=function(){Tf(this),this.da(If(this))},n.vc=function(){this.zb()},n.wc=function(){this.zb()},n.jc=function(t){var e=this;return this.h.then((function(){return bf(e,Oe(t))}))},n.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(If(e))}))},n.zc=function(t){var e=this;!function(t,e){t.P.push(e),_f(t,t.h.then((function(){!t.m&&X(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(Ef(t)))})))}(this,(function(){t.next(If(e))}))},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(If(r)):"function"===typeof t.next&&t.next(If(r))})),this.ac(t,e,n)},n.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(If(r)):"function"===typeof t.next&&t.next(If(r))})),this.bc(t,e,n)},n.mc=function(t){var e=this;return _f(this,this.h.then((function(){return If(e)?If(e).I(t).then((function(t){return{accessToken:t}})):null})))},n.Sc=function(t){var e=this;return this.h.then((function(){return bf(e,au(e.a,eu,{token:t}))})).then((function(t){var n=t.user;return qh(n,"isAnonymous",!1),e.da(n),t}))},n.Tc=function(t,e){var n=this;return this.h.then((function(){return bf(n,au(n.a,nu,{email:t,password:e}))}))},n.dc=function(t,e){var n=this;return this.h.then((function(){return bf(n,au(n.a,Da,{email:t,password:e}))}))},n.Za=function(t){var e=this;return this.h.then((function(){return bf(e,t.ja(e.a))}))},n.Rc=function(t){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},n.yb=function(){var t=this;return this.h.then((function(){var e=If(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return bf(t,t.a.yb()).then((function(e){var n=e.user;return qh(n,"isAnonymous",!0),t.da(n),e}))}))},n.getUid=function(){return If(this)&&If(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&If(this)&&Dh(If(this))},n.Oc=function(t){var e=this;G(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&If(this)&&Ph(If(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.u.push(t),_f(this,this.h.then((function(){e.m||X(e.u,t)&&t(Ef(e))})))},n.removeAuthTokenListener=function(t){$(this.u,(function(e){return e==t}))},n.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(sf("local"),t.a,this.pa),this.b&&(Uc(this.b,this),$c(this.b.b)),Promise.resolve()},n.gc=function(t){return _f(this,function(t,e){return au(t,Pa,{identifier:e,continueUri:Lr()?lr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},n.Ac=function(t){return!!Lo(t)},n.vb=function(t,e){var n=this;return _f(this,Oe().then((function(){var t=new Ci(e);if(!t.c)throw new N("argument-error",Li+" must be true when sending sign in link to email");return Hi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},n.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},n.mb=function(t,e){return _f(this,this.a.mb(t,e).then((function(){})))},n.Qa=function(t){return _f(this,this.a.Qa(t).then((function(t){return new ci(t)})))},n.ib=function(t){return _f(this,this.a.ib(t).then((function(){})))},n.ub=function(t,e){var n=this;return _f(this,Oe().then((function(){return"undefined"===typeof e||vt(e)?{}:Hi(new Ci(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},n.Vc=function(t,e){return _f(this,rh(this,t,e,E(this.Za,this)))},n.Uc=function(t,e){var n=this;return _f(this,Oe().then((function(){var r=e||lr(),i=xo(t,r);if(!(r=Lo(r)))throw new N("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new N("tenant-id-mismatch");return n.Za(i)})))},Af.prototype.render=function(){},Af.prototype.reset=function(){},Af.prototype.getResponse=function(){},Af.prototype.execute=function(){};var Nf=null;function kf(t,e){return(e=Of(e))&&t.a[e]||null}function Of(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Df(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=he(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():fn(this.f,"click",this.h)}function Pf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Cf(){}function Rf(){}Sf.prototype.render=function(t,e){return this.a[this.b.toString()]=new Df(t,e),this.b++},Sf.prototype.reset=function(t){var e=kf(this,t);t=Of(t),e&&t&&(e.delete(),delete this.a[t])},Sf.prototype.getResponse=function(t){return(t=kf(this,t))?t.getResponse():null},Sf.prototype.execute=function(t){(t=kf(this,t))&&t.execute()},Df.prototype.getResponse=function(){return Pf(this),this.b},Df.prototype.execute=function(){Pf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.i&&t.execute()}),6e4)}),500))},Df.prototype.delete=function(){Pf(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.h)},Qr(Cf,"FACTOR_ID","phone"),Rf.prototype.g=function(){return Nf||(Nf=new Sf),Oe(Nf)},Rf.prototype.c=function(){};var xf=null;function Lf(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Mf=new wt(_t,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Vf=new Kr(3e4,6e4);Lf.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new N("network-request-failed"))}),Vf.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new N("internal-error"));delete u[e.a]},Oe(Ws(kt(Mf,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Lf.prototype.c=function(){this.b--};var jf=null;function Uf(t,e,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(xf||(xf=new Rf),s=xf):(jf||(jf=new Lf),s=jf),this.v=s,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[Hf])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Bf],!u.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!he(e)||!this.h&&he(e).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ta(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var c=this.a[Ff];this.a[Ff]=function(t){if(Kf(a,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Cr(c,u);"function"===typeof e&&e(t)}};var h=this.a[qf];this.a[qf]=function(){if(Kf(a,null),"function"===typeof h)h();else if("string"===typeof h){var t=Cr(h,u);"function"===typeof t&&t()}}}var Ff="callback",qf="expired-callback",Hf="sitekey",Bf="size";function Kf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Gf(t,e){return t.i.push(e),e.na((function(){Y(t.i,e)})),e}function zf(t){if(t.A)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}function Wf(t,n,r){var i=!1;try{this.b=r||e.default.app()}catch(a){throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new N("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=e.default.SDK_VERSION?Dr(e.default.SDK_VERSION,s):null,Uf.call(this,r,t,n,(function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t}),s,R(O),i)}function Jf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Xf.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");n=Xf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new N("argument-error",t+" failed: "+r)}(n=Uf.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Gf(this,Oe().then((function(){if(Lr()&&!Tr())return wr();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,au(t.s,Ka,{})})).then((function(e){t.a[Hf]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},n.render=function(){zf(this);var t=this;return Gf(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.h){var n=he(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ce&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Gt(s.name),'"'),s.type){o.push(' type="',Gt(s.type),'"');var a={};mt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ye(i,o),s&&("string"===typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):fe(o,s)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},n.verify=function(){zf(this);var t=this;return Gf(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.h&&t.g.execute(t.c)}}))})))},n.reset=function(){zf(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){zf(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=he(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},A(Wf,Uf);var Xf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Yf(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function $f(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function Qf(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:y}}function Zf(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"===typeof t}}}function tl(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function el(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function nl(t,e){return y(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function rl(t){return y(t)&&"string"===typeof t.uid}function il(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function ol(t,e){for(var n in e){var r=e[n].name;t[r]=ul(r,t[n],e[n].j)}}function sl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:T((function(t){return this[t]}),n),set:T((function(t,e,n,r){Jf(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function al(t,e,n,r){t[e]=ul(e,n,r)}function ul(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Jf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ol(ff.prototype,{ib:{name:"applyActionCode",j:[Yf("code")]},Qa:{name:"checkActionCode",j:[Yf("code")]},mb:{name:"confirmPasswordReset",j:[Yf("code"),Yf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Yf("email"),Yf("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Yf("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Yf("emailLink")]},Gc:{name:"onAuthStateChanged",j:[il(Qf(),Zf(),"nextOrObserver"),Zf("opt_error",!0),Zf("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[il(Qf(),Zf(),"nextOrObserver"),Zf("opt_error",!0),Zf("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Yf("email"),il(Qf("opt_actionCodeSettings",!0),tl(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Yf("email"),Qf("actionCodeSettings")]},wb:{name:"setPersistence",j:[Yf("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[el()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[el()]},Sc:{name:"signInWithCustomToken",j:[Yf("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Yf("email"),Yf("password")]},Uc:{name:"signInWithEmailLink",j:[Yf("email"),Yf("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Yf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[il({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof _h)}},tl(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Yf(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Yf("url"),Qf("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Yf("code")]}}),sl(ff.prototype,{lc:{name:"languageCode",jb:il(Yf(),tl(),"languageCode")},ti:{name:"tenantId",jb:il(Yf(),tl(),"tenantId")}}),ff.Persistence=rc,ff.Persistence.LOCAL="local",ff.Persistence.SESSION="session",ff.Persistence.NONE="none",ol(_h.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[$f("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[$f("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[el()]},pb:{name:"linkWithCredential",j:[el()]},Cc:{name:"linkWithPhoneNumber",j:[Yf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[el()]},sb:{name:"reauthenticateWithCredential",j:[el()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Yf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[il(Qf("opt_actionCodeSettings",!0),tl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Yf(null,!0)]},bd:{name:"unlink",j:[Yf("provider")]},Ab:{name:"updateEmail",j:[Yf("email")]},Bb:{name:"updatePassword",j:[Yf("password")]},dd:{name:"updatePhoneNumber",j:[el("phone")]},Cb:{name:"updateProfile",j:[Qf("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Yf("email"),il(Qf("opt_actionCodeSettings",!0),tl(null,!0),"opt_actionCodeSettings",!0)]}}),ol(Sf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ol(Af.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ol(Ee.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sl(eh.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:$f("appVerificationDisabledForTesting")}}),ol(nh.prototype,{confirm:{name:"confirm",j:[Yf("verificationCode")]}}),al(fo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[bo,Co,Vo,yo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[il(Yf(),Qf(),"json")]),al(Ro,"credential",(function(t,e){return new Po(t,e)}),[Yf("email"),Yf("password")]),ol(Po.prototype,{w:{name:"toJSON",j:[Yf(null,!0)]}}),ol(To.prototype,{Ca:{name:"addScope",j:[Yf("scope")]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),al(To,"credential",_o,[il(Yf(),Qf(),"token")]),al(Ro,"credentialWithLink",xo,[Yf("email"),Yf("emailLink")]),ol(Ao.prototype,{Ca:{name:"addScope",j:[Yf("scope")]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),al(Ao,"credential",So,[il(Yf(),Qf(),"token")]),ol(No.prototype,{Ca:{name:"addScope",j:[Yf("scope")]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),al(No,"credential",ko,[il(Yf(),il(Qf(),tl()),"idToken"),il(Yf(),tl(),"accessToken",!0)]),ol(Oo.prototype,{Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),al(Oo,"credential",Do,[il(Yf(),Qf(),"token"),Yf("secret",!0)]),ol(Eo.prototype,{Ca:{name:"addScope",j:[Yf("scope")]},credential:{name:"credential",j:[il(Yf(),il(Qf(),tl()),"optionsOrIdToken"),il(Yf(),tl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qf("customOAuthParameters")]}}),ol(go.prototype,{w:{name:"toJSON",j:[Yf(null,!0)]}}),ol(po.prototype,{w:{name:"toJSON",j:[Yf(null,!0)]}}),al(Uo,"credential",Fo,[Yf("verificationId"),Yf("verificationCode")]),ol(Uo.prototype,{eb:{name:"verifyPhoneNumber",j:[il(Yf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?nl(t.session,co)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?nl(t.session,ho)&&rl(t.multiFactorHint):t.session&&t.multiFactorUid?nl(t.session,ho)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),ol(Mo.prototype,{w:{name:"toJSON",j:[Yf(null,!0)]}}),ol(N.prototype,{toJSON:{name:"toJSON",j:[Yf(null,!0)]}}),ol(Xo.prototype,{toJSON:{name:"toJSON",j:[Yf(null,!0)]}}),ol(Jo.prototype,{toJSON:{name:"toJSON",j:[Yf(null,!0)]}}),ol(uh.prototype,{toJSON:{name:"toJSON",j:[Yf(null,!0)]}}),ol(oh.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),ol(dh.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Yf("displayName",!0)]},ad:{name:"unenroll",j:[il({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:rl},Yf(),"multiFactorInfoIdentifier")]}}),ol(Wf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),al(Ti,"parseLink",Pi,[Yf("link")]),al(Cf,"assertion",(function(t){return new lh(t)}),[el("phone")]),function(){if("undefined"===typeof e.default||!e.default.INTERNAL||!e.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ff,AuthCredential:fo,Error:N};al(t,"EmailAuthProvider",Ro,[]),al(t,"FacebookAuthProvider",To,[]),al(t,"GithubAuthProvider",Ao,[]),al(t,"GoogleAuthProvider",No,[]),al(t,"TwitterAuthProvider",Oo,[]),al(t,"OAuthProvider",Eo,[Yf("providerId")]),al(t,"SAMLAuthProvider",Io,[Yf("providerId")]),al(t,"PhoneAuthProvider",Uo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof ff)}}]),al(t,"RecaptchaVerifier",Wf,[il(Yf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Qf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.default.app.App)}}]),al(t,"ActionCodeURL",Ti,[]),al(t,"PhoneMultiFactorGenerator",Cf,[]),e.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ff(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.mc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.default.registerVersion("@firebase/auth","0.16.1"),e.default.INTERNAL.extendNamespace({User:_h})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(17))},73:function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],h=!1,f=-1;function l(){h&&u&&(h=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!h){var t=a(l);h=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||h||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}}]);
//# sourceMappingURL=0.f941c001.chunk.js.map